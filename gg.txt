local b64 = [[LbG9jYWwgV2luZFVJID0gbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vZ2l0aHViLmNvbS9Gb290YWdlc3VzL1dpbmRVSS9yZWxlYXNlcy9sYXRlc3QvZG93bmxvYWQvbWFpbi5sdWEiKSkoKQoKbG9jYWwgV2luZG93ID0gV2luZFVJOkNyZWF0ZVdpbmRvdyh7CiAgICBUaXRsZSA9ICLkuI3mraLohJrmnKwiLAogICAgSWNvbiA9ICJjb2RlIiwKICAgIEF1dGhvciA9ICJieeWFs+mUruivje+8hktpbmciLAogICAgRm9sZGVyID0gIm10YXNraCIsCiAgICBTaXplID0gVURpbTIuZnJvbU9mZnNldCg4NTAsIDk1MCksCiAgICBUaGVtZSA9ICJMaWdodCIsCiAgICBIaWRlU2VhcmNoQmFyID0gZmFsc2UsCiAgICBTY3JvbGxCYXJFbmFibGVkID0gdHJ1ZSwKICAgIFJlc2l6YWJsZSA9IHRydWUsCiAgICBCYWNrZ3JvdW5kID0gImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tdGFza2hoL3NjcmlwdC9yZWZzL2hlYWRzL090aGVyL3JldG91Y2hfMjAyNTEwMTMyMTU3MjEwNC5qcGciLAogICAgVHJhbnNwYXJlbnQgPSB0cnVlLAogICAgQmFja2dyb3VuZEltYWdlVHJhbnNwYXJlbmN5ID0gMC41LAogICAgVXNlciA9IHsKICAgIEVuYWJsZWQgPSB0cnVlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIueCueWHu+S6huiHquW3sSIsCiAgICAgICAgICAgIENvbnRlbnQgPSAi5piv55qELOS9oOW+iOWlveeciyIsIAogICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgIEljb24gPSAic3VuIgogICAgICAgIH0pCiAgICBlbmQsCiAgICBBbm9ueW1vdXMgPSBmYWxzZQp9Cn0pCgpXaW5kb3c6U2V0QmFja2dyb3VuZEltYWdlVHJhbnNwYXJlbmN5KDAuNSkKCldpbmRvdzpDcmVhdGVUb3BiYXJCdXR0b24oIlRoZW1lVG9nZ2xlIiwgIm1vb24iLCBmdW5jdGlvbigpCiAgICBsb2NhbCBjdXJyZW50VGhlbWUgPSBXaW5kVUk6R2V0Q3VycmVudFRoZW1lKCkKICAgIGlmIGN1cnJlbnRUaGVtZSA9PSAiTGlnaHQiIHRoZW4KICAgICAgICBXaW5kVUk6U2V0VGhlbWUoIkRhcmsiKQogICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLlt7LliIfmjaLkuLrlhYnkuq7pu5HmmpfkuLvpopgiLAogICAgICAgICAgICBDb250ZW50ID0gIiIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgSWNvbiA9ICJnZWlzdDptb29uIgogICAgICAgIH0pCiAgICBlbHNlCiAgICAgICAgV2luZFVJOlNldFRoZW1lKCJMaWdodCIpCiAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIuW3suWIh+aNouS4uuWFieS6ruS4u+mimCIsCiAgICAgICAgICAgIENvbnRlbnQgPSAiIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICBJY29uID0gImdlaXN0OnN1biIKICAgICAgICB9KQogICAgZW5kCmVuZCwgOTkwKQoKV2luZFVJOlNldE5vdGlmaWNhdGlvbkxvd2VyKHRydWUpCgpXaW5kb3c6RWRpdE9wZW5CdXR0b24oewogICAgVGl0bGUgPSAi5omT5byA5LiN5q2i6ISa5pysIiwKICAgIEljb24gPSAibHVjaWRlOnNjcm9sbC10ZXh0IiwKICAgIENvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsMTYpLAogICAgU3Ryb2tlVGhpY2tuZXNzID0gNiwKICAgIENvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXcoCkNvbG9yMy5mcm9tSGV4KCJBREQ4RTYiKSwKQ29sb3IzLmZyb21IZXgoIkZGRkZGRiIpCiAgICApLAogICAgT25seU1vYmlsZSA9IGZhbHNlLAogICAgRW5hYmxlZCA9IHRydWUsCiAgICBEcmFnZ2FibGUgPSB0cnVlLAp9KQoKbG9jYWwgaW5mb1RhYiA9IFdpbmRvdzpUYWIoe1RpdGxlID0gIuS/oeaBryIsIEljb24gPSAidXNlciIsIExvY2tlZCA9IGZhbHNlfSkKCmxvY2FsIERlZmF1bHRUYWIgPSBXaW5kb3c6VGFiKHtUaXRsZSA9ICLlhazlkYoiLCBJY29uID0gImdlaXN0OmNyZWRpdC1jYXJkIiwgTG9ja2VkID0gZmFsc2V9KQoKbG9jYWwgZmlyc3RUYWIgPSBXaW5kb3c6VGFiKHtUaXRsZSA9ICLpgJrnlKjnsbsiLCBJY29uID0gInNldHRpbmdzIiwgTG9ja2VkID0gZmFsc2V9KQoKbG9jYWwgdGhpcmRUYWIgPSBXaW5kb3c6VGFiKHtUaXRsZSA9ICLop4bop4nnsbsiLCBJY29uID0gImV5ZSIsIExvY2tlZCA9IGZhbHNlfSkKCmxvY2FsIHNlY29uZFRhYiA9IFdpbmRvdzpUYWIoe1RpdGxlID0gIuiHqueehOiMg+WbtOexuyIsIEljb24gPSAidGFyZ2V0IiwgTG9ja2VkID0gZmFsc2V9KQoKbG9jYWwgVGVsZXBvcnRUYWIgPSBXaW5kb3c6VGFiKHtUaXRsZSA9ICLkvKDpgIHkuI7nlKnpo54iLCBJY29uID0gImx1Y2lkZTptb3ZlLTNkIn0pCgpsb2NhbCBTcGluVGFiID0gV2luZG93OlRhYih7VGl0bGUgPSAi5peL6L2sIiwgSWNvbiA9ICJyb3RhdGUtY3ciLCBMb2NrZWQgPSBmYWxzZX0pCgpsb2NhbCBzZXJ2ZTEgPSBXaW5kb3c6VGFiKHtUaXRsZSA9ICLmnI3liqHlmajliJfooagxIiwgSWNvbiA9ICJib29rIiwgTG9ja2VkID0gZmFsc2V9KQoKbG9jYWwgRkVUYWIgPSBXaW5kb3c6VGFiKHtUaXRsZSA9ICJGReiEmuacrCIsIEljb24gPSAibHVjaWRlOnphcCJ9KQoKbG9jYWwgTXVzaWNUYWIgPSBXaW5kb3c6VGFiKHtUaXRsZSA9ICLpn7PkuZDmkq3mlL7lmagiLCBJY29uID0gIm11c2ljIiwgTG9ja2VkID0gZmFsc2V9KQoKbG9jYWwgaW5mb1NlY3Rpb24gPSBpbmZvVGFiOlNlY3Rpb24oe1RpdGxlID0gIuivpuaDhSIsIE9wZW5lZCA9IHRydWV9KQoKaW5mb1NlY3Rpb246UGFyYWdyYXBoKHsKICAgIFRpdGxlID0gIuS4jeatouiEmuacrCIsCiAgICBEZXNjID0gIuS9nOiAheWFs+mUruivjeS9nOiAhXFxOjQ3NzQwOTUyM+iEmuacrOi/mOWcqOa1i+ivleS4rSIsCn0pCgppbmZvU2VjdGlvbjpQYXJhZ3JhcGgoewogICAgVGl0bGUgPSAi6LSm5Y+35rOo5YaM5pe26Ze0IiwKICAgIERlc2MgPSB0b3N0cmluZyhnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQWNjb3VudEFnZSkuLiLlpKkiCn0pCgppbmZvU2VjdGlvbjpQYXJhZ3JhcGgoewogICAgVGl0bGUgPSAi5pyN5Yqh5ZmoSUQiLCAKICAgIERlc2MgPSB0b3N0cmluZyhnYW1lLkdhbWVJZCkKfSkKCmluZm9TZWN0aW9uOlBhcmFncmFwaCh7CiAgICBUaXRsZSA9ICLnlKjmiLdJRCIsCiAgICBEZXNjID0gdG9zdHJpbmcoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlVzZXJJZCkKfSkKCmluZm9TZWN0aW9uOlBhcmFncmFwaCh7CiAgICBUaXRsZSA9ICLlrqLmiLfnq69JRCIsCiAgICBEZXNjID0gdG9zdHJpbmcoZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKSkKfSkKCmluZm9TZWN0aW9uOlBhcmFncmFwaCh7CiAgICBUaXRsZSA9ICLms6jlhaXlmagiLAogICAgRGVzYyA9IGlkZW50aWZ5ZXhlY3V0b3IgYW5kIGlkZW50aWZ5ZXhlY3V0b3IoKSBvciAi5pyq55+lIgp9KQoKaW5mb1NlY3Rpb246UGFyYWdyYXBoKHsKICAgIFRpdGxlID0gIueUqOaIt+WQjSIsCiAgICBEZXNjID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUKfSkKCmluZm9TZWN0aW9uOlBhcmFncmFwaCh7CiAgICBUaXRsZSA9ICLmnI3liqHlmajlkI3np7AiLCAKICAgIERlc2MgPSBnYW1lOkdldFNlcnZpY2UoIk1hcmtldHBsYWNlU2VydmljZSIpOkdldFByb2R1Y3RJbmZvKGdhbWUuUGxhY2VJZCkuTmFtZQp9KQoKRGVmYXVsdFRhYjpQYXJhZ3JhcGgoewogICAgVGl0bGUgPSAi5YWz5LqOIiwKICAgIERlc2MgPSAi5oSf6LCi5pSv5oyB5bm25L2/55So5LiN5q2i6ISa5pysIiwKICAgIFRodW1ibmFpbFNpemUgPSAxOTAKfSkKCkRlZmF1bHRUYWI6QnV0dG9uKHsKICAgIFRpdGxlID0gIumHjei/myIsIAogICAgRGVzYyA9ICLph43mlrDov5vmnI3liqHlmagiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCmdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnRUb1BsYWNlSW5zdGFuY2UoZ2FtZS5QbGFjZUlkLCBnYW1lLkpvYklkLCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcikKaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkKICAgIGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnRUb1BsYWNlSW5zdGFuY2UoZ2FtZS5QbGFjZUlkLCBnYW1lLkpvYklkLCBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcikKZW5kKSB0aGVuCiAgICBnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KGdhbWUuUGxhY2VJZCkKZW5kCiAgICBlbmQKfSkKCmxvY2FsIEdlbmVyYWxTZWN0aW9uID0gZmlyc3RUYWI6U2VjdGlvbih7VGl0bGUgPSAi5Z+656GA6K6+572uIiwgT3BlbmVkID0gdHJ1ZSwgSWNvbiA9ICJsdWNpZGU6YWxpZ24taG9yaXpvbnRhbC1kaXN0cmlidXRlLWNlbnRlciJ9KQoKbG9jYWwgZm92VmFsdWUgPSBXb3Jrc3BhY2UuQ3VycmVudENhbWVyYS5GaWVsZE9mVmlldwpsb2NhbCBmb3ZFbmFibGVkID0gZmFsc2UKbG9jYWwgZm92Q29ubmVjdGlvbgoKR2VuZXJhbFNlY3Rpb246U2xpZGVyKHsKICAgIFRpdGxlID0gIuinhumHjiIsCiAgICBEZXNjID0gIkZpZWxkT2ZWaWV3IiwKICAgIFN0ZXAgPSAxLAogICAgVmFsdWUgPSB7TWluID0gMTAsIE1heCA9IDE4MCwgRGVmYXVsdCA9IFdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkZpZWxkT2ZWaWV3fSwKICAgIElucHV0ID0gdHJ1ZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgZm92VmFsdWUgPSB2YWx1ZQogICAgICAgIGlmIGZvdkVuYWJsZWQgdGhlbgogICAgICAgICAgICBXb3Jrc3BhY2UuQ3VycmVudENhbWVyYS5GaWVsZE9mVmlldyA9IGZvdlZhbHVlCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCkdlbmVyYWxTZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLop4bph47lvIDlhbMiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oc3RhdGUpCiAgICAgICAgZm92RW5hYmxlZCA9IHN0YXRlCiAgICAgICAgaWYgc3RhdGUgdGhlbgogICAgICAgICAgICBpZiBmb3ZDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgIGZvdkNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBmb3ZDb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgZm92RW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgV29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuRmllbGRPZlZpZXcgPSBmb3ZWYWx1ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGlmIGZvdkNvbm5lY3Rpb24gdGhlbgogICAgICAgICAgICAgICAgZm92Q29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIGZvdkNvbm5lY3Rpb24gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIFdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkZpZWxkT2ZWaWV3ID0gNzAKICAgICAgICBlbmQKICAgIGVuZAp9KQoKbG9jYWwgem9vbURpc3RhbmNlID0gMTAwCmxvY2FsIHpvb21EaXN0YW5jZUVuYWJsZWQgPSBmYWxzZQpsb2NhbCB6b29tRGlzdGFuY2VDb25uZWN0aW9uCgpHZW5lcmFsU2VjdGlvbjpTbGlkZXIoewogICAgVGl0bGUgPSAi6KeG6KeS57yp5pS+6Led56a7IiwKICAgIERlc2MgPSAiQ2FtZXJhWm9vbSIsCiAgICBTdGVwID0gMC41LAogICAgVmFsdWUgPSB7TWluID0gMC41LCBNYXggPSAxMDAwMDAwLCBEZWZhdWx0ID0gMTAwfSwKICAgIElucHV0ID0gdHJ1ZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oZGlzdGFuY2UpCiAgICAgICAgem9vbURpc3RhbmNlID0gZGlzdGFuY2UKICAgICAgICBpZiB6b29tRGlzdGFuY2VFbmFibGVkIHRoZW4KICAgICAgICAgICAgbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCiAgICAgICAgICAgIGlmIHBsYXllciB0aGVuCiAgICAgICAgICAgICAgICBwbGF5ZXIuQ2FtZXJhTWF4Wm9vbURpc3RhbmNlID0gem9vbURpc3RhbmNlCiAgICAgICAgICAgICAgICBwbGF5ZXIuQ2FtZXJhTWluWm9vbURpc3RhbmNlID0gMC41CiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpHZW5lcmFsU2VjdGlvbjpUb2dnbGUoewogICAgVGl0bGUgPSAi57yp5pS+5byA5YWzIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHN0YXRlKQogICAgICAgIHpvb21EaXN0YW5jZUVuYWJsZWQgPSBzdGF0ZQogICAgICAgIGlmIHN0YXRlIHRoZW4KICAgICAgICAgICAgaWYgem9vbURpc3RhbmNlQ29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICB6b29tRGlzdGFuY2VDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgem9vbURpc3RhbmNlQ29ubmVjdGlvbiA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLkhlYXJ0YmVhdDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIHpvb21EaXN0YW5jZUVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIHBsYXllciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcgogICAgICAgICAgICAgICAgICAgIGlmIHBsYXllciB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5DYW1lcmFNYXhab29tRGlzdGFuY2UgPSB6b29tRGlzdGFuY2UKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLkNhbWVyYU1pblpvb21EaXN0YW5jZSA9IDAuNQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGlmIHpvb21EaXN0YW5jZUNvbm5lY3Rpb24gdGhlbgogICAgICAgICAgICAgICAgem9vbURpc3RhbmNlQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIHpvb21EaXN0YW5jZUNvbm5lY3Rpb24gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGxvY2FsIHBsYXllciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcgogICAgICAgICAgICBpZiBwbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgcGxheWVyLkNhbWVyYU1heFpvb21EaXN0YW5jZSA9IDEwMAogICAgICAgICAgICAgICAgcGxheWVyLkNhbWVyYU1pblpvb21EaXN0YW5jZSA9IDAuNQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKbG9jYWwgd2Fsa1NwZWVkID0gMTYKbG9jYWwgd2Fsa1NwZWVkRW5hYmxlZCA9IGZhbHNlCmxvY2FsIHdhbGtTcGVlZENvbm5lY3Rpb24KCkdlbmVyYWxTZWN0aW9uOlNsaWRlcih7CiAgICBUaXRsZSA9ICLmraXooYzpgJ/luqYiLAogICAgRGVzYyA9ICJXYWxrU3BlZWQiLAogICAgU3RlcCA9IDEsCiAgICBWYWx1ZSA9IHtNaW4gPSAxLCBNYXggPSA0MDAsIERlZmF1bHQgPSAxNn0sCiAgICBJbnB1dCA9IHRydWUsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHNwZWVkKQogICAgICAgIHdhbGtTcGVlZCA9IHNwZWVkCiAgICBlbmQKfSkKCkdlbmVyYWxTZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLpgJ/luqblvIDlhbMiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oc3RhdGUpCiAgICAgICAgd2Fsa1NwZWVkRW5hYmxlZCA9IHN0YXRlCiAgICAgICAgaWYgc3RhdGUgdGhlbgogICAgICAgICAgICBpZiB3YWxrU3BlZWRDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgIHdhbGtTcGVlZENvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICB3YWxrU3BlZWRDb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgaWYgY2hhcmFjdGVyIGFuZCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpIGFuZCB3YWxrU3BlZWRFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gd2Fsa1NwZWVkCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVsc2UKICAgICAgICAgICAgaWYgd2Fsa1NwZWVkQ29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICB3YWxrU3BlZWRDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgd2Fsa1NwZWVkQ29ubmVjdGlvbiA9IG5pbAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICBpZiBjaGFyYWN0ZXIgYW5kIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikgdGhlbgogICAgICAgICAgICAgICAgY2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IDE2CiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBqdW1wUG93ZXIgPSA1MApsb2NhbCBqdW1wRW5hYmxlZCA9IGZhbHNlCmxvY2FsIGp1bXBDb25uZWN0aW9uCgpHZW5lcmFsU2VjdGlvbjpTbGlkZXIoewogICAgVGl0bGUgPSAi6Lez6LeD6auY5bqmIiwKICAgIERlc2MgPSAiSnVtcFBvd2VyIiwKICAgIFN0ZXAgPSAxLAogICAgVmFsdWUgPSB7TWluID0gMCwgTWF4ID0gMjAwMCwgRGVmYXVsdCA9IDUwfSwKICAgIElucHV0ID0gdHJ1ZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24ocG93ZXIpCiAgICAgICAganVtcFBvd2VyID0gcG93ZXIKICAgIGVuZAp9KQoKR2VuZXJhbFNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIui3s+mrmOW8gOWFsyIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihzdGF0ZSkKICAgICAgICBqdW1wRW5hYmxlZCA9IHN0YXRlCiAgICAgICAgaWYgc3RhdGUgdGhlbgogICAgICAgICAgICBpZiBqdW1wQ29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICBqdW1wQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGp1bXBDb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgaWYgY2hhcmFjdGVyIGFuZCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpIGFuZCBqdW1wRW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWQgPSBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgICAgICAgICAgICAgaHVtYW5vaWQuSnVtcFBvd2VyID0ganVtcFBvd2VyCiAgICAgICAgICAgICAgICAgICAgaHVtYW5vaWQuSnVtcEhlaWdodCA9IGp1bXBQb3dlciAvIDcKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZWxzZQogICAgICAgICAgICBpZiBqdW1wQ29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICBqdW1wQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIGp1bXBDb25uZWN0aW9uID0gbmlsCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIGNoYXJhY3RlciBhbmQgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSB0aGVuCiAgICAgICAgICAgICAgICBjaGFyYWN0ZXIuSHVtYW5vaWQuSnVtcFBvd2VyID0gNTAKICAgICAgICAgICAgICAgIGNoYXJhY3Rlci5IdW1hbm9pZC5KdW1wSGVpZ2h0ID0gNTAgLyA3CiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBncmF2aXR5VmFsdWUgPSBnYW1lLldvcmtzcGFjZS5HcmF2aXR5CmxvY2FsIGdyYXZpdHlFbmFibGVkID0gZmFsc2UKbG9jYWwgZ3Jhdml0eUNvbm5lY3Rpb24KCkdlbmVyYWxTZWN0aW9uOlNsaWRlcih7CiAgICBUaXRsZSA9ICLph43lipvorr7nva7vvIjpu5jorqQxOTYuMiDosIPpq5jotbfkuI3kuobouqvvvIkiLAogICAgRGVzYyA9ICJHcmF2aXR5IiwKICAgIFN0ZXAgPSAxLAogICAgVmFsdWUgPSB7TWluID0gMSwgTWF4ID0gMjAwMCwgRGVmYXVsdCA9IGdhbWUuV29ya3NwYWNlLkdyYXZpdHl9LAogICAgSW5wdXQgPSB0cnVlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBncmF2aXR5VmFsdWUgPSB2YWx1ZQogICAgICAgIGlmIGdyYXZpdHlFbmFibGVkIHRoZW4KICAgICAgICAgICAgZ2FtZS5Xb3Jrc3BhY2UuR3Jhdml0eSA9IGdyYXZpdHlWYWx1ZQogICAgICAgIGVuZAogICAgZW5kCn0pCgpHZW5lcmFsU2VjdGlvbjpUb2dnbGUoewogICAgVGl0bGUgPSAi6YeN5Yqb5byA5YWzIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHN0YXRlKQogICAgICAgIGdyYXZpdHlFbmFibGVkID0gc3RhdGUKICAgICAgICBpZiBzdGF0ZSB0aGVuCiAgICAgICAgICAgIGlmIGdyYXZpdHlDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgIGdyYXZpdHlDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgZ3Jhdml0eUNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBncmF2aXR5RW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgZ2FtZS5Xb3Jrc3BhY2UuR3Jhdml0eSA9IGdyYXZpdHlWYWx1ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGlmIGdyYXZpdHlDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgIGdyYXZpdHlDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgZ3Jhdml0eUNvbm5lY3Rpb24gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGdhbWUuV29ya3NwYWNlLkdyYXZpdHkgPSAxOTYuMgogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBoZWFsdGhNYXhWYWx1ZSA9IDEwMApsb2NhbCBoZWFsdGhNYXhFbmFibGVkID0gZmFsc2UKbG9jYWwgaGVhbHRoTWF4Q29ubmVjdGlvbgoKR2VuZXJhbFNlY3Rpb246U2xpZGVyKHsKICAgIFRpdGxlID0gIuacgOWkp+ihgOmHjyIsCiAgICBEZXNjID0gIk1heEhlYWx0aCIsCiAgICBTdGVwID0gMSwKICAgIFZhbHVlID0ge01pbiA9IDEsIE1heCA9IDEwMDAwLCBEZWZhdWx0ID0gMTAwfSwKICAgIElucHV0ID0gdHJ1ZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgaGVhbHRoTWF4VmFsdWUgPSB2YWx1ZQogICAgICAgIGlmIGhlYWx0aE1heEVuYWJsZWQgdGhlbgogICAgICAgICAgICBsb2NhbCBodW1hbm9pZCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgICAgIGlmIGh1bWFub2lkIHRoZW4gCiAgICAgICAgICAgICAgICBodW1hbm9pZC5NYXhIZWFsdGggPSBoZWFsdGhNYXhWYWx1ZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKR2VuZXJhbFNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIuacgOWkp+ihgOmHj+W8gOWFsyIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihzdGF0ZSkKICAgICAgICBoZWFsdGhNYXhFbmFibGVkID0gc3RhdGUKICAgICAgICBpZiBzdGF0ZSB0aGVuCiAgICAgICAgICAgIGlmIGhlYWx0aE1heENvbm5lY3Rpb24gdGhlbgogICAgICAgICAgICAgICAgaGVhbHRoTWF4Q29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGhlYWx0aE1heENvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgICAgICBpZiBjaGFyYWN0ZXIgYW5kIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikgYW5kIGhlYWx0aE1heEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgIGNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggPSBoZWFsdGhNYXhWYWx1ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGlmIGhlYWx0aE1heENvbm5lY3Rpb24gdGhlbgogICAgICAgICAgICAgICAgaGVhbHRoTWF4Q29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgIGhlYWx0aE1heENvbm5lY3Rpb24gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgaWYgY2hhcmFjdGVyIGFuZCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpIHRoZW4KICAgICAgICAgICAgICAgIGNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggPSAxMDAKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCmxvY2FsIGhlYWx0aEN1cnJlbnRWYWx1ZSA9IDEwMApsb2NhbCBoZWFsdGhDdXJyZW50RW5hYmxlZCA9IGZhbHNlCmxvY2FsIGhlYWx0aEN1cnJlbnRDb25uZWN0aW9uCgpHZW5lcmFsU2VjdGlvbjpTbGlkZXIoewogICAgVGl0bGUgPSAi5b2T5YmN6KGA6YePIiwKICAgIERlc2MgPSAiQ3VycmVudEhlYWx0aCIsCiAgICBTdGVwID0gMSwKICAgIFZhbHVlID0ge01pbiA9IDEsIE1heCA9IDEwMDAwLCBEZWZhdWx0ID0gMTAwfSwKICAgIElucHV0ID0gdHJ1ZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgaGVhbHRoQ3VycmVudFZhbHVlID0gdmFsdWUKICAgICAgICBpZiBoZWFsdGhDdXJyZW50RW5hYmxlZCB0aGVuCiAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICAgICAgaWYgaHVtYW5vaWQgdGhlbiAKICAgICAgICAgICAgICAgIGh1bWFub2lkLkhlYWx0aCA9IGhlYWx0aEN1cnJlbnRWYWx1ZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKR2VuZXJhbFNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIuW9k+WJjeihgOmHj+W8gOWFsyIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihzdGF0ZSkKICAgICAgICBoZWFsdGhDdXJyZW50RW5hYmxlZCA9IHN0YXRlCiAgICAgICAgaWYgc3RhdGUgdGhlbgogICAgICAgICAgICBpZiBoZWFsdGhDdXJyZW50Q29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICBoZWFsdGhDdXJyZW50Q29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGhlYWx0aEN1cnJlbnRDb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgaWYgY2hhcmFjdGVyIGFuZCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpIGFuZCBoZWFsdGhDdXJyZW50RW5hYmxlZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9IGhlYWx0aEN1cnJlbnRWYWx1ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGlmIGhlYWx0aEN1cnJlbnRDb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgICAgIGhlYWx0aEN1cnJlbnRDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgaGVhbHRoQ3VycmVudENvbm5lY3Rpb24gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCkdlbmVyYWxTZWN0aW9uOkRpdmlkZXIoKQoKR2VuZXJhbFNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIkZQU+aYvuekuiIsCiAgICBEZXNjID0gIuaYvuekukZQU+iuoeaVsOWZqCIsCiAgICBJY29uID0gIm1vbml0b3IiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgUnVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpCiAgICAgICAgbG9jYWwgQ29yZUd1aSA9IGdhbWU6R2V0U2VydmljZSgiQ29yZUd1aSIpCgogICAgICAgIGlmIENvcmVHdWk6RmluZEZpcnN0Q2hpbGQoIkZQU0Rpc3BsYXkiKSB0aGVuCiAgICAgICAgICAgIENvcmVHdWkuRlBTRGlzcGxheTpEZXN0cm95KCkKICAgICAgICBlbmQKCiAgICAgICAgbG9jYWwgc2NyZWVuR3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQogICAgICAgIHNjcmVlbkd1aS5OYW1lID0gIkZQU0Rpc3BsYXkiCiAgICAgICAgc2NyZWVuR3VpLlBhcmVudCA9IENvcmVHdWkKICAgICAgICBzY3JlZW5HdWkuUmVzZXRPblNwYXduID0gZmFsc2UKCiAgICAgICAgbG9jYWwgdGV4dExhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgICAgIHRleHRMYWJlbC5UZXh0ID0gIkZQUzogMCIKICAgICAgICB0ZXh0TGFiZWwuVGV4dFNpemUgPSAxOAogICAgICAgIHRleHRMYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKICAgICAgICB0ZXh0TGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICB0ZXh0TGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKICAgICAgICB0ZXh0TGFiZWwuVGV4dFlBbGlnbm1lbnQgPSBFbnVtLlRleHRZQWxpZ25tZW50LlRvcAogICAgICAgIHRleHRMYWJlbC5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgMzApCiAgICAgICAgdGV4dExhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCAxMCkKICAgICAgICB0ZXh0TGFiZWwuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLCAwKQogICAgICAgIHRleHRMYWJlbC5aSW5kZXggPSAxMAogICAgICAgIHRleHRMYWJlbC5QYXJlbnQgPSBzY3JlZW5HdWkKCiAgICAgICAgbG9jYWwgaHVlID0gMAogICAgICAgIGxvY2FsIGxhc3RVcGRhdGUgPSAwCgogICAgICAgIFJ1blNlcnZpY2UuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICBsb2NhbCBjdXJyZW50VGltZSA9IHRpY2soKQogICAgICAgICAgICBpZiBjdXJyZW50VGltZSAtIGxhc3RVcGRhdGUgPj0gMC4xIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIGZwcyA9IG1hdGguZmxvb3IoMSAvIFJ1blNlcnZpY2UuSGVhcnRiZWF0OldhaXQoKSkKICAgICAgICAgICAgICAgIGh1ZSA9IChodWUgKyAwLjAwNSkgJSAxICAKICAgICAgICAgICAgICAgIGxvY2FsIGNvbG9yID0gQ29sb3IzLmZyb21IU1YoaHVlLCAxLCAxKQogICAgICAgICAgICAgICAgdGV4dExhYmVsLlRleHQgPSAiRlBTOiAiIC4uIGZwcwogICAgICAgICAgICAgICAgdGV4dExhYmVsLlRleHRDb2xvcjMgPSBjb2xvcgogICAgICAgICAgICAgICAgbGFzdFVwZGF0ZSA9IGN1cnJlbnRUaW1lCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAp9KQoKR2VuZXJhbFNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIuiAkOaRlOeOiyIsCiAgICBEZXNjID0gIndoYXQgY2FuIGkgc2F5IiwKICAgIEljb24gPSAiZ2Vpc3Q6YWNjZXNzaWJpbGl0eSIsCiAgICBEZWZhdWx0ID0gdHJ1ZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oVmFsdWUpCiAgICAgICAgaWYgVmFsdWUgdGhlbgogICAgICAgICAgICBsb2NhbCBycyA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpCiAgICAgICAgICAgIGxvY2FsIGhiID0gcnMuSGVhcnRiZWF0CiAgICAgICAgICAgIGxvY2FsIHJzZCA9IHJzLlJlbmRlclN0ZXBwZWQKICAgICAgICAgICAgbG9jYWwgbHAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgICAgICAgICAgbG9jYWwgeiA9IFZlY3RvcjMuemVybwogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZnVuY3Rpb24gZihjKQogICAgICAgICAgICAgICAgbG9jYWwgciA9IGM6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICAgICAgICAgIGlmIHIgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGNvbgogICAgICAgICAgICAgICAgICAgIGNvbiA9IGhiOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgci5QYXJlbnQgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB2ID0gci5Bc3NlbWJseUxpbmVhclZlbG9jaXR5CiAgICAgICAgICAgICAgICAgICAgICAgIHIuQXNzZW1ibHlMaW5lYXJWZWxvY2l0eSA9IHoKICAgICAgICAgICAgICAgICAgICAgICAgcnNkOldhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICByLkFzc2VtYmx5TGluZWFyVmVsb2NpdHkgPSB2CiAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgZihscC5DaGFyYWN0ZXIpCiAgICAgICAgICAgIGxwLkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZikKICAgICAgICBlbmQKICAgIGVuZAp9KQoKbG9jYWwgQ2FtZXJhU2VjdGlvbiA9IGZpcnN0VGFiOlNlY3Rpb24oe1RpdGxlID0gIumVnOWktOiuvue9riIsIEljb24gPSAiY2FtZXJhIiwgT3BlbmVkID0gZmFsc2V9KQoKQ2FtZXJhU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi56ys5LiA5Lq656ewIiwKICAgIERlc2MgPSAi5YiH5o2i5Yiw56ys5LiA5Lq656ew6KeG6KeSIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DYW1lcmFNYXhab29tRGlzdGFuY2UgPSAwLjUKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2FtZXJhTW9kZSA9IEVudW0uQ2FtZXJhTW9kZS5Mb2NrRmlyc3RQZXJzb24KICAgICAgICAKICAgICAgICBsb2NhbCBmdW5jdGlvbiBzZXRGaXJzdFBlcnNvbigpCiAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DYW1lcmFNYXhab29tRGlzdGFuY2UgPSAwLjUKICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNhbWVyYU1vZGUgPSBFbnVtLkNhbWVyYU1vZGUuTG9ja0ZpcnN0UGVyc29uCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgc2V0Rmlyc3RQZXJzb24oKQogICAgICAgIAogICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2FpdCgxKQogICAgICAgICAgICBzZXRGaXJzdFBlcnNvbigpCiAgICAgICAgZW5kKQogICAgICAgIAogICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLop4bop5LliIfmjaIiLAogICAgICAgICAgICBDb250ZW50ID0gIuW3suWIh+aNouWIsOesrOS4gOS6uuensCIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMiwKICAgICAgICAgICAgSWNvbiA9ICJ1c2VyIgogICAgICAgIH0pCiAgICBlbmQKfSkKCkNhbWVyYVNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuesrOS4ieS6uuensCIsCiAgICBEZXNjID0gIuWIh+aNouWIsOesrOS4ieS6uuensOinhuinkiIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2FtZXJhTWF4Wm9vbURpc3RhbmNlID0gNTAKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2FtZXJhTW9kZSA9IEVudW0uQ2FtZXJhTW9kZS5DbGFzc2ljCiAgICAgICAgCiAgICAgICAgbG9jYWwgZnVuY3Rpb24gc2V0VGhpcmRQZXJzb24oKQogICAgICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2FtZXJhTWF4Wm9vbURpc3RhbmNlID0gNTAKICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNhbWVyYU1vZGUgPSBFbnVtLkNhbWVyYU1vZGUuQ2xhc3NpYwogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIHNldFRoaXJkUGVyc29uKCkKICAgICAgICAKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgc2V0VGhpcmRQZXJzb24oKQogICAgICAgIGVuZCkKICAgICAgICAKICAgICAgICBXaW5kVUk6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi6KeG6KeS5YiH5o2iIiwKICAgICAgICAgICAgQ29udGVudCA9ICLlt7LliIfmjaLliLDnrKzkuInkurrnp7As5omL5Yqo57yp5pS+6KeG6KeS5Y2z5Y+vIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAyLAogICAgICAgICAgICBJY29uID0gInVzZXJzIgogICAgICAgIH0pCiAgICBlbmQKfSkKCmxvY2FsIFRvb2xTZWN0aW9uID0gZmlyc3RUYWI6U2VjdGlvbih7VGl0bGUgPSAi5bel5YW35Yqf6IO9IiwgT3BlbmVkID0gZmFsc2UsIEljb249Imx1Y2lkZTp3cmVuY2gifSkKClRvb2xTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLnjqnlrrbliqDlhaXmuLjmiI/mj5DnpLoiLAogICAgRGVzYyA9ICLmmL7npLrnjqnlrrbliqDlhaXmj5DnpLoiLAogICAgSWNvbiA9ICJ1c2VyLXBsdXMiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9ib3lzY3Avc2NyaXNjcmlwdHNjL21haW4vYmJuLmx1YScpKSgpCiAgICBlbmQKfSkKClRvb2xTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLpo57ooYwiLAogICAgRGVzYyA9ICJmbHkgU2NyaXB0IiwKICAgIEljb24gPSAidXNlciIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vWHh3YW5oZXh4WC8zMjEvcmVmcy9oZWFkcy9tYWluLyVFNCVCOCVCQlVJJykpKCkKICAgIGVuZAp9KQoKVG9vbFNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuaxieWMluaCrOa1rnVp56m/5aKZIiwKICAgIERlc2MgPSAi5Yqg6L295rGJ5YyW56m/5aKZ5Yqf6IO9IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vVHRtU2NyaXB0ZXIvT3RoZXJTY3JpcHQvbWFpbi9Ob2NsaXAiKSkoKQogICAgZW5kCn0pCgpUb29sU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi6LiP56m6dWkiLAogICAgRGVzYyA9ICLliqDovb3ouI/nqbrooYzotbDlip/og70iLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9HaG9zdFBsYXllcjM1Mi9UZXN0NC9tYWluL0Zsb2F0JywgdHJ1ZSkpKCkKICAgIGVuZAp9KQoKVG9vbFNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuino+mUgeesrOS4ieS6uuensCIsCiAgICBEZXNjID0gIuino+mUgeesrOS4ieS6uuensOinhuinkiIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2FtZXJhTWF4Wm9vbURpc3RhbmNlID0gNTAKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2FtZXJhTW9kZSA9IEVudW0uQ2FtZXJhTW9kZS5DbGFzc2ljCiAgICBlbmQKfSkKClRvb2xTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLntKvnoIIiLAogICAgRGVzYyA9ICLph43nva7mnKzlnLDnjqnlrrYiLAogICAgSWNvbiA9ICJnZWlzdDp1c2VyIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID0gMAogICAgZW5kCn0pCgpUb29sU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5q275Lqh56yU6K6wIiwKICAgIERlc2MgPSAi5q275Lqh56yU6K6w5Yqf6IO9IiwKICAgIEljb24gPSAiYm9vayIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2RpbmdkaW5nMTIzaGhoL3R0L21haW4vJUU2JUFEJUJCJUU0JUJBJUExJUU3JUFDJTk0JUU4JUFFJUIwJTIwKDEpLnR4dCIpKSgpCiAgICBlbmQKfSkKClRvb2xTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICJucGPov73ouKoiLAogICAgRGVzYyA9ICLpgI/op4ZucGMiLAogICAgSWNvbiA9ICJyb2JvdCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKbG9jYWwgUnVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpCmxvY2FsIFR3ZWVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVHdlZW5TZXJ2aWNlIikKbG9jYWwgVXNlcklucHV0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCmxvY2FsIFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgUGxheWVyR3VpID0gUGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikKCmxvY2FsIHNjcmVlbkd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikKc2NyZWVuR3VpLk5hbWUgPSAiTlBD6L+96Liq5ZmoIgpzY3JlZW5HdWkuUmVzZXRPblNwYXduID0gZmFsc2UKc2NyZWVuR3VpLlBhcmVudCA9IFBsYXllckd1aQoKbG9jYWwgdG9nZ2xlQnRuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKdG9nZ2xlQnRuLk5hbWUgPSAi6ZqQ6JeP5pi+56S65oyJ6ZKuIgp0b2dnbGVCdG4uU2l6ZSA9IFVEaW0yLm5ldygwLCA0MCwgMCwgNDApCnRvZ2dsZUJ0bi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA1LCAwLjUsIC0yMCkgIAp0b2dnbGVCdG4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDYwLCA2MCwgODApCnRvZ2dsZUJ0bi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCnRvZ2dsZUJ0bi5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQp0b2dnbGVCdG4uVGV4dFNpemUgPSAyMAp0b2dnbGVCdG4uVGV4dCA9ICI8Igp0b2dnbGVCdG4uRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCnRvZ2dsZUJ0bi5Cb3JkZXJTaXplUGl4ZWwgPSAwCnRvZ2dsZUJ0bi5BdXRvQnV0dG9uQ29sb3IgPSBmYWxzZQp0b2dnbGVCdG4uWkluZGV4ID0gMTAKCmxvY2FsIGNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQpjb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMC41LCAwKQpjb3JuZXIuUGFyZW50ID0gdG9nZ2xlQnRuCgp0b2dnbGVCdG4uUGFyZW50ID0gc2NyZWVuR3VpCgpsb2NhbCBtYWluRnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKbWFpbkZyYW1lLk5hbWUgPSAi5Li756qX5Y+jIgptYWluRnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMywgMCkKbWFpbkZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgLW1haW5GcmFtZS5TaXplLlguT2Zmc2V0LzIsIDAuNSwgLW1haW5GcmFtZS5TaXplLlkuT2Zmc2V0LzIpCm1haW5GcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQptYWluRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQwLCA0MCwgNTApCm1haW5GcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCm1haW5GcmFtZS5DbGlwc0Rlc2NlbmRhbnRzID0gdHJ1ZQptYWluRnJhbWUuUGFyZW50ID0gc2NyZWVuR3VpCgpsb2NhbCB0aXRsZUJhciA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQp0aXRsZUJhci5OYW1lID0gIuagh+mimOagjyIKdGl0bGVCYXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQp0aXRsZUJhci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzAsIDMwLCA0MCkKdGl0bGVCYXIuQm9yZGVyU2l6ZVBpeGVsID0gMAp0aXRsZUJhci5aSW5kZXggPSAyCnRpdGxlQmFyLlBhcmVudCA9IG1haW5GcmFtZQoKbG9jYWwgdGl0bGVMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKdGl0bGVMYWJlbC5OYW1lID0gIuagh+mimCIKdGl0bGVMYWJlbC5TaXplID0gVURpbTIubmV3KDAuNywgMCwgMSwgMCkKdGl0bGVMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjA1LCAwLCAwLCAwKQp0aXRsZUxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCnRpdGxlTGFiZWwuVGV4dCA9ICJOUEPov73ouKrlmagiCnRpdGxlTGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCnRpdGxlTGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCnRpdGxlTGFiZWwuVGV4dFNpemUgPSAxNAp0aXRsZUxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CnRpdGxlTGFiZWwuWkluZGV4ID0gMgp0aXRsZUxhYmVsLlBhcmVudCA9IHRpdGxlQmFyCgpsb2NhbCBjbG9zZUJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCmNsb3NlQnV0dG9uLk5hbWUgPSAi5YWz6Zet5oyJ6ZKuIgpjbG9zZUJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAuMTUsIDAsIDEsIDApCmNsb3NlQnV0dG9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAuODUsIDAsIDAsIDApCmNsb3NlQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCmNsb3NlQnV0dG9uLlRleHQgPSAi4pyVIgpjbG9zZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxMDAsIDEwMCkKY2xvc2VCdXR0b24uVGV4dFNpemUgPSAxNgpjbG9zZUJ1dHRvbi5aSW5kZXggPSAyCmNsb3NlQnV0dG9uLlBhcmVudCA9IHRpdGxlQmFyCgpsb2NhbCBjb250ZW50RnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKY29udGVudEZyYW1lLk5hbWUgPSAi5YaF5a655Yy6Igpjb250ZW50RnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjg1LCAwKQpjb250ZW50RnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4xNSwgMCkKY29udGVudEZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCmNvbnRlbnRGcmFtZS5QYXJlbnQgPSBtYWluRnJhbWUKCmxvY2FsIHRyYWNrZXJMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKdHJhY2tlckxhYmVsLk5hbWUgPSAi5a6a5L2N5qCH562+Igp0cmFja2VyTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLjYsIDAsIDAuMTUsIDApCnRyYWNrZXJMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjA1LCAwLCAwLjEsIDApCnRyYWNrZXJMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQp0cmFja2VyTGFiZWwuVGV4dCA9ICJOUEPlrprkvY06Igp0cmFja2VyTGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIyMCwgMjIwLCAyMjApCnRyYWNrZXJMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAp0cmFja2VyTGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW0KdHJhY2tlckxhYmVsLlRleHRTaXplID0gMTQKdHJhY2tlckxhYmVsLlBhcmVudCA9IGNvbnRlbnRGcmFtZQoKbG9jYWwgdHJhY2tlclRvZ2dsZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCnRyYWNrZXJUb2dnbGUuTmFtZSA9ICLlrprkvY3lvIDlhbMiCnRyYWNrZXJUb2dnbGUuU2l6ZSA9IFVEaW0yLm5ldygwLjEsIDAsIDAuMTUsIDApCnRyYWNrZXJUb2dnbGUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC42LCAwLCAwLjEsIDApCnRyYWNrZXJUb2dnbGUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDYwLCA2MCwgNzApCnRyYWNrZXJUb2dnbGUuVGV4dCA9ICIiCnRyYWNrZXJUb2dnbGUuQm9yZGVyU2l6ZVBpeGVsID0gMAp0cmFja2VyVG9nZ2xlLlBhcmVudCA9IGNvbnRlbnRGcmFtZQoKbG9jYWwgdHJhY2tlclRvZ2dsZUlubmVyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCnRyYWNrZXJUb2dnbGVJbm5lci5OYW1lID0gIuW8gOWFs+WGhemDqCIKdHJhY2tlclRvZ2dsZUlubmVyLlNpemUgPSBVRGltMi5uZXcoMC40LCAwLCAwLjgsIDApCnRyYWNrZXJUb2dnbGVJbm5lci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjA1LCAwLCAwLjEsIDApCnRyYWNrZXJUb2dnbGVJbm5lci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjAwLCA2MCwgNjApCnRyYWNrZXJUb2dnbGVJbm5lci5Cb3JkZXJTaXplUGl4ZWwgPSAwCnRyYWNrZXJUb2dnbGVJbm5lci5QYXJlbnQgPSB0cmFja2VyVG9nZ2xlCgpsb2NhbCBoaWdobGlnaHRMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKaGlnaGxpZ2h0TGFiZWwuTmFtZSA9ICLpq5jkuq7moIfnrb4iCmhpZ2hsaWdodExhYmVsLlNpemUgPSBVRGltMi5uZXcoMC42LCAwLCAwLjE1LCAwKQpoaWdobGlnaHRMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjA1LCAwLCAwLjM1LCAwKQpoaWdobGlnaHRMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQpoaWdobGlnaHRMYWJlbC5UZXh0ID0gIk5QQ+mrmOS6rjoiCmhpZ2hsaWdodExhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMjAsIDIyMCwgMjIwKQpoaWdobGlnaHRMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdApoaWdobGlnaHRMYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQpoaWdobGlnaHRMYWJlbC5UZXh0U2l6ZSA9IDE0CmhpZ2hsaWdodExhYmVsLlBhcmVudCA9IGNvbnRlbnRGcmFtZQoKbG9jYWwgaGlnaGxpZ2h0VG9nZ2xlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKaGlnaGxpZ2h0VG9nZ2xlLk5hbWUgPSAi6auY5Lqu5byA5YWzIgpoaWdobGlnaHRUb2dnbGUuU2l6ZSA9IFVEaW0yLm5ldygwLjEsIDAsIDAuMTUsIDApCmhpZ2hsaWdodFRvZ2dsZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjYsIDAsIDAuMzUsIDApCmhpZ2hsaWdodFRvZ2dsZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjAsIDYwLCA3MCkKaGlnaGxpZ2h0VG9nZ2xlLlRleHQgPSAiIgpoaWdobGlnaHRUb2dnbGUuQm9yZGVyU2l6ZVBpeGVsID0gMApoaWdobGlnaHRUb2dnbGUuUGFyZW50ID0gY29udGVudEZyYW1lCgpsb2NhbCBoaWdobGlnaHRUb2dnbGVJbm5lciA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQpoaWdobGlnaHRUb2dnbGVJbm5lci5OYW1lID0gIuW8gOWFs+WGhemDqCIKaGlnaGxpZ2h0VG9nZ2xlSW5uZXIuU2l6ZSA9IFVEaW0yLm5ldygwLjQsIDAsIDAuOCwgMCkKaGlnaGxpZ2h0VG9nZ2xlSW5uZXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC4wNSwgMCwgMC4xLCAwKQpoaWdobGlnaHRUb2dnbGVJbm5lci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjAwLCA2MCwgNjApCmhpZ2hsaWdodFRvZ2dsZUlubmVyLkJvcmRlclNpemVQaXhlbCA9IDAKaGlnaGxpZ2h0VG9nZ2xlSW5uZXIuUGFyZW50ID0gaGlnaGxpZ2h0VG9nZ2xlCgpsb2NhbCByZWZyZXNoQnV0dG9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKcmVmcmVzaEJ1dHRvbi5OYW1lID0gIuWIt+aWsOaMiemSriIKcmVmcmVzaEJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC4yLCAwKQpyZWZyZXNoQnV0dG9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAuMDUsIDAsIDAuNjUsIDApCnJlZnJlc2hCdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDYwLCAxMDAsIDE4MCkKcmVmcmVzaEJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCnJlZnJlc2hCdXR0b24uVGV4dCA9ICLliLfmlrBOUEMiCnJlZnJlc2hCdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCnJlZnJlc2hCdXR0b24uRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCnJlZnJlc2hCdXR0b24uVGV4dFNpemUgPSAxNApyZWZyZXNoQnV0dG9uLlBhcmVudCA9IGNvbnRlbnRGcmFtZQoKbG9jYWwgaXNXaW5kb3dWaXNpYmxlID0gdHJ1ZSAgCmxvY2FsIGlzVHJhY2tlckVuYWJsZWQgPSB0cnVlICAKbG9jYWwgaXNIaWdobGlnaHRFbmFibGVkID0gdHJ1ZSAgCgpsb2NhbCB0cmFja2VkTlBDcyA9IHt9ICAKbG9jYWwgbnBjQmlsbGJvYXJkcyA9IHt9ICAKbG9jYWwgbnBjSGlnaGxpZ2h0cyA9IHt9ICAKbG9jYWwgdXBkYXRlQ29ubiA9IG5pbCAgCgpsb2NhbCBpc0RyYWdnaW5nID0gZmFsc2UKbG9jYWwgZHJhZ1N0YXJ0UG9zCmxvY2FsIGZyYW1lU3RhcnRQb3MKCmxvY2FsIGZ1bmN0aW9uIGdldFBsYXllckNoYXJhY3RlcigpCiAgICByZXR1cm4gUGxheWVyLkNoYXJhY3RlciBvciBQbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6V2FpdCgpCmVuZAoKbG9jYWwgZnVuY3Rpb24gZ2V0UGxheWVyUm9vdCgpCiAgICBsb2NhbCBjaGFyYWN0ZXIgPSBnZXRQbGF5ZXJDaGFyYWN0ZXIoKQogICAgaWYgbm90IGNoYXJhY3RlciB0aGVuIHJldHVybiBuaWwgZW5kCiAgICByZXR1cm4gY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIGNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCmVuZAoKbG9jYWwgZnVuY3Rpb24gaXNOUEMobW9kZWwpCiAgICBpZiBub3QgbW9kZWw6SXNBKCJNb2RlbCIpIHRoZW4gcmV0dXJuIGZhbHNlIGVuZAogICAgCiAgICBsb2NhbCBodW1hbm9pZCA9IG1vZGVsOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgbG9jYWwgcm9vdFBhcnQgPSBtb2RlbDpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIG1vZGVsOkZpbmRGaXJzdENoaWxkKCJIZWFkIikgb3IgbW9kZWwuUHJpbWFyeVBhcnQKICAgIAogICAgaWYgaHVtYW5vaWQgYW5kIHJvb3RQYXJ0IHRoZW4KICAgICAgICBmb3IgXywgcGxheWVyIGluIGlwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICAgICAgaWYgcGxheWVyLkNoYXJhY3RlciA9PSBtb2RlbCB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVuZAogICAgcmV0dXJuIGZhbHNlCmVuZAoKbG9jYWwgZnVuY3Rpb24gZmluZE5QQ3MoKQogICAgbG9jYWwgbnBjcyA9IHt9CiAgICAKICAgIGZvciBfLCBvYmogaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIGlzTlBDKG9iaikgdGhlbgogICAgICAgICAgICB0YWJsZS5pbnNlcnQobnBjcywgb2JqKQogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGZvciBfLCBmb2xkZXIgaW4gaXBhaXJzKHdvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIGZvbGRlcjpJc0EoIkZvbGRlciIpIG9yIGZvbGRlcjpJc0EoIk1vZGVsIikgdGhlbgogICAgICAgICAgICBmb3IgXywgb2JqIGluIGlwYWlycyhmb2xkZXI6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgIGlmIGlzTlBDKG9iaikgdGhlbgogICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydChucGNzLCBvYmopCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgcmV0dXJuIG5wY3MKZW5kCgpsb2NhbCBmdW5jdGlvbiBjcmVhdGVIaWdobGlnaHQobnBjKQogICAgbG9jYWwgaGlnaGxpZ2h0ID0gSW5zdGFuY2UubmV3KCJIaWdobGlnaHQiKQogICAgaGlnaGxpZ2h0Lk5hbWUgPSAiTlBD6auY5LquIgogICAgaGlnaGxpZ2h0LkRlcHRoTW9kZSA9IEVudW0uSGlnaGxpZ2h0RGVwdGhNb2RlLkFsd2F5c09uVG9wCiAgICBoaWdobGlnaHQuRmlsbENvbG9yID0gQ29sb3IzLm5ldygwLCAxLCAxKSAgCiAgICBoaWdobGlnaHQuRmlsbFRyYW5zcGFyZW5jeSA9IDAuMgogICAgaGlnaGxpZ2h0Lk91dGxpbmVDb2xvciA9IENvbG9yMy5uZXcoMCwgMSwgMCkgIAogICAgaGlnaGxpZ2h0Lk91dGxpbmVUcmFuc3BhcmVuY3kgPSAwCiAgICBoaWdobGlnaHQuUGFyZW50ID0gbnBjCiAgICByZXR1cm4gaGlnaGxpZ2h0CmVuZAoKbG9jYWwgZnVuY3Rpb24gY3JlYXRlQmlsbGJvYXJkKG5wYykKICAgIGxvY2FsIHJvb3RQYXJ0ID0gbnBjOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgCiAgICAgICAgICAgICAgICAgICAgbnBjOkZpbmRGaXJzdENoaWxkKCJIZWFkIikgb3IgCiAgICAgICAgICAgICAgICAgICAgbnBjLlByaW1hcnlQYXJ0CiAgICAKICAgIGlmIG5vdCByb290UGFydCB0aGVuCiAgICAgICAgd2Fybigi5om+5LiN5YiwTlBD55qE5qC56YOo5L2NOiIuLiBucGMuTmFtZSkKICAgICAgICByZXR1cm4gbmlsCiAgICBlbmQKICAgIAogICAgbG9jYWwgYmlsbGJvYXJkID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQogICAgYmlsbGJvYXJkLk5hbWUgPSAiTlBD5qCH6K6wIgogICAgYmlsbGJvYXJkLkFsd2F5c09uVG9wID0gdHJ1ZQogICAgYmlsbGJvYXJkLlNpemUgPSBVRGltMi5uZXcoOCwgMCwgMi41LCAwKSAKICAgIGJpbGxib2FyZC5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMsIDApICAKICAgIGJpbGxib2FyZC5BZG9ybmVlID0gcm9vdFBhcnQKICAgIGJpbGxib2FyZC5QYXJlbnQgPSBucGMKICAgIAogICAgYmlsbGJvYXJkOlNldEF0dHJpYnV0ZSgiQmFzZVNpemUiLCBVRGltMi5uZXcoOCwgMCwgMi41LCAwKSkKICAgIAogICAgbG9jYWwgZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgIGZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgIGZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMubmV3KDAsIDAsIDApCiAgICBmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC41CiAgICBmcmFtZS5QYXJlbnQgPSBiaWxsYm9hcmQKICAgIAogICAgbG9jYWwgY29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIpCiAgICBjb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMC4xLCAwKQogICAgY29ybmVyLlBhcmVudCA9IGZyYW1lCiAgICAKICAgIGxvY2FsIG5hbWVMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgIG5hbWVMYWJlbC5OYW1lID0gIuWQjeensCIKICAgIG5hbWVMYWJlbC5TaXplID0gVURpbTIubmV3KDEsIC0xMCwgMC40LCAwKQogICAgbmFtZUxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDUsIDAsIDApCiAgICBuYW1lTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIG5hbWVMYWJlbC5UZXh0ID0gbnBjLk5hbWUKICAgIG5hbWVMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgbmFtZUxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgbmFtZUxhYmVsLlRleHRTaXplID0gMTYKICAgIG5hbWVMYWJlbC5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMAogICAgbmFtZUxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CiAgICBuYW1lTGFiZWwuUGFyZW50ID0gZnJhbWUKICAgIAogICAgbG9jYWwgZGlzdGFuY2VMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgIGRpc3RhbmNlTGFiZWwuTmFtZSA9ICLot53nprsiCiAgICBkaXN0YW5jZUxhYmVsLlNpemUgPSBVRGltMi5uZXcoMC41LCAtNSwgMC40LCAwKQogICAgZGlzdGFuY2VMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA1LCAwLjQsIDApCiAgICBkaXN0YW5jZUxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICBkaXN0YW5jZUxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtCiAgICBkaXN0YW5jZUxhYmVsLlRleHRTaXplID0gMTQKICAgIGRpc3RhbmNlTGFiZWwuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAKICAgIGRpc3RhbmNlTGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKICAgIGRpc3RhbmNlTGFiZWwuUGFyZW50ID0gZnJhbWUKICAgIAogICAgbG9jYWwgaGVhbHRoTGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICBoZWFsdGhMYWJlbC5OYW1lID0gIueUn+WRveWAvCIKICAgIGhlYWx0aExhYmVsLlNpemUgPSBVRGltMi5uZXcoMC41LCAtNSwgMC40LCAwKQogICAgaGVhbHRoTGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCA1LCAwLjQsIDApCiAgICBoZWFsdGhMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgaGVhbHRoTGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW0KICAgIGhlYWx0aExhYmVsLlRleHRTaXplID0gMTQKICAgIGhlYWx0aExhYmVsLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwCiAgICBoZWFsdGhMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuUmlnaHQKICAgIGhlYWx0aExhYmVsLlBhcmVudCA9IGZyYW1lCiAgICAKICAgIHJldHVybiBiaWxsYm9hcmQKZW5kCgpsb2NhbCBmdW5jdGlvbiB1cGRhdGVCaWxsYm9hcmQobnBjLCBiaWxsYm9hcmQpCiAgICBsb2NhbCBodW1hbm9pZCA9IG5wYzpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgIGxvY2FsIHBsYXllclJvb3QgPSBnZXRQbGF5ZXJSb290KCkKICAgIGxvY2FsIHJvb3RQYXJ0ID0gYmlsbGJvYXJkLkFkb3JuZWUKICAgIAogICAgaWYgbm90IHBsYXllclJvb3Qgb3Igbm90IHJvb3RQYXJ0IHRoZW4KICAgICAgICByZXR1cm4KICAgIGVuZAogICAgCiAgICBsb2NhbCBkaXN0YW5jZSA9IChwbGF5ZXJSb290LlBvc2l0aW9uIC0gcm9vdFBhcnQuUG9zaXRpb24pLk1hZ25pdHVkZQogICAgCiAgICBsb2NhbCBkaXN0YW5jZUxhYmVsID0gYmlsbGJvYXJkLkZyYW1lOkZpbmRGaXJzdENoaWxkKCLot53nprsiKQogICAgaWYgZGlzdGFuY2VMYWJlbCB0aGVuCiAgICAgICAgaWYgZGlzdGFuY2UgPCAyMCB0aGVuCiAgICAgICAgICAgIGRpc3RhbmNlTGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMCwgMCkKICAgICAgICBlbHNlaWYgZGlzdGFuY2UgPCA1MCB0aGVuCiAgICAgICAgICAgIGRpc3RhbmNlTGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGRpc3RhbmNlTGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMCwgMSwgMCkKICAgICAgICBlbmQKICAgICAgICBkaXN0YW5jZUxhYmVsLlRleHQgPSBzdHJpbmcuZm9ybWF0KCLot53nprs6ICUuMWbnsbMiLCBkaXN0YW5jZSkKICAgIGVuZAogICAgCiAgICBsb2NhbCBoZWFsdGhMYWJlbCA9IGJpbGxib2FyZC5GcmFtZTpGaW5kRmlyc3RDaGlsZCgi55Sf5ZG95YC8IikKICAgIGlmIGhlYWx0aExhYmVsIGFuZCBodW1hbm9pZCB0aGVuCiAgICAgICAgaGVhbHRoTGFiZWwuVGV4dCA9IHN0cmluZy5mb3JtYXQoIueUn+WRvTogJWQvJWQiLCBtYXRoLmZsb29yKGh1bWFub2lkLkhlYWx0aCksIG1hdGguZmxvb3IoaHVtYW5vaWQuTWF4SGVhbHRoKSkKICAgIGVuZAogICAgCiAgICBsb2NhbCBiYXNlU2l6ZSA9IGJpbGxib2FyZDpHZXRBdHRyaWJ1dGUoIkJhc2VTaXplIikgb3IgVURpbTIubmV3KDgsIDAsIDIuNSwgMCkKICAgIGxvY2FsIHNjYWxlID0gMQogICAgCiAgICBpZiBkaXN0YW5jZSA+IDUwIHRoZW4KICAgICAgICBzY2FsZSA9IG1hdGgubWF4KDAuNCwgMSAtIChkaXN0YW5jZSAtIDUwKSAvIDIwMCkKICAgIGVuZAogICAgCiAgICBiaWxsYm9hcmQuU2l6ZSA9IFVEaW0yLm5ldygKICAgICAgICBiYXNlU2l6ZS5YLlNjYWxlICogc2NhbGUsCiAgICAgICAgYmFzZVNpemUuWC5PZmZzZXQgKiBzY2FsZSwKICAgICAgICBiYXNlU2l6ZS5ZLlNjYWxlICogc2NhbGUsCiAgICAgICAgYmFzZVNpemUuWS5PZmZzZXQgKiBzY2FsZQogICAgKQplbmQKCmxvY2FsIGZ1bmN0aW9uIGNsZWFyVHJhY2tlZE5QQ3MoKQogICAgZm9yIF8sIGJpbGxib2FyZCBpbiBwYWlycyhucGNCaWxsYm9hcmRzKSBkbwogICAgICAgIGlmIGJpbGxib2FyZCBhbmQgYmlsbGJvYXJkLlBhcmVudCB0aGVuCiAgICAgICAgICAgIGJpbGxib2FyZDpEZXN0cm95KCkKICAgICAgICBlbmQKICAgIGVuZAogICAgCiAgICBmb3IgXywgaGlnaGxpZ2h0IGluIHBhaXJzKG5wY0hpZ2hsaWdodHMpIGRvCiAgICAgICAgaWYgaGlnaGxpZ2h0IGFuZCBoaWdobGlnaHQuUGFyZW50IHRoZW4KICAgICAgICAgICAgaGlnaGxpZ2h0OkRlc3Ryb3koKQogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIHRyYWNrZWROUENzID0ge30KICAgIG5wY0JpbGxib2FyZHMgPSB7fQogICAgbnBjSGlnaGxpZ2h0cyA9IHt9CmVuZAoKbG9jYWwgZnVuY3Rpb24gdHJhY2tOUENzKCkKICAgIGNsZWFyVHJhY2tlZE5QQ3MoKQogICAgCiAgICBsb2NhbCBucGNzID0gZmluZE5QQ3MoKQogICAgCiAgICBmb3IgXywgbnBjIGluIGlwYWlycyhucGNzKSBkbwogICAgICAgIGxvY2FsIGh1bWFub2lkID0gbnBjOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGxvY2FsIHJvb3RQYXJ0ID0gbnBjOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgbnBjOkZpbmRGaXJzdENoaWxkKCJIZWFkIikgb3IgbnBjLlByaW1hcnlQYXJ0CiAgICAgICAgCiAgICAgICAgaWYgaHVtYW5vaWQgYW5kIHJvb3RQYXJ0IHRoZW4KICAgICAgICAgICAgdHJhY2tlZE5QQ3NbbnBjXSA9IHRydWUKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGJpbGxib2FyZCA9IGNyZWF0ZUJpbGxib2FyZChucGMpCiAgICAgICAgICAgIGlmIGJpbGxib2FyZCB0aGVuCiAgICAgICAgICAgICAgICBucGNCaWxsYm9hcmRzW25wY10gPSBiaWxsYm9hcmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBpc0hpZ2hsaWdodEVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgaGlnaGxpZ2h0ID0gY3JlYXRlSGlnaGxpZ2h0KG5wYykKICAgICAgICAgICAgICAgIG5wY0hpZ2hsaWdodHNbbnBjXSA9IGhpZ2hsaWdodAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKCmxvY2FsIGZ1bmN0aW9uIHRvZ2dsZVN3aXRjaChidXR0b24sIGlubmVyRnJhbWUsIHN0YXRlKQogICAgaWYgc3RhdGUgdGhlbgogICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoaW5uZXJGcmFtZSwgVHdlZW5JbmZvLm5ldygwLjIpLCB7UG9zaXRpb24gPSBVRGltMi5uZXcoMC41NSwgMCwgMC4xLCAwKSwgQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDYwLCAyMDAsIDgwKX0pOlBsYXkoKQogICAgZWxzZQogICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoaW5uZXJGcmFtZSwgVHdlZW5JbmZvLm5ldygwLjIpLCB7UG9zaXRpb24gPSBVRGltMi5uZXcoMC4wNSwgMCwgMC4xLCAwKSwgQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwMCwgNjAsIDYwKX0pOlBsYXkoKQogICAgZW5kCmVuZAoKbG9jYWwgZnVuY3Rpb24gc3RhcnREcmFnKGlucHV0KQogICAgaWYgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24xIHRoZW4KICAgICAgICBpc0RyYWdnaW5nID0gdHJ1ZQogICAgICAgIGRyYWdTdGFydFBvcyA9IFZlY3RvcjIubmV3KGlucHV0LlBvc2l0aW9uLlgsIGlucHV0LlBvc2l0aW9uLlkpCiAgICAgICAgZnJhbWVTdGFydFBvcyA9IG1haW5GcmFtZS5Qb3NpdGlvbgogICAgZW5kCmVuZAoKbG9jYWwgZnVuY3Rpb24gdXBkYXRlRHJhZyhpbnB1dCkKICAgIGlmIGlzRHJhZ2dpbmcgdGhlbgogICAgICAgIGxvY2FsIGRlbHRhID0gVmVjdG9yMi5uZXcoaW5wdXQuUG9zaXRpb24uWCwgaW5wdXQuUG9zaXRpb24uWSkgLSBkcmFnU3RhcnRQb3MKICAgICAgICBtYWluRnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoCiAgICAgICAgICAgIGZyYW1lU3RhcnRQb3MuWC5TY2FsZSwgCiAgICAgICAgICAgIGZyYW1lU3RhcnRQb3MuWC5PZmZzZXQgKyBkZWx0YS5YLAogICAgICAgICAgICBmcmFtZVN0YXJ0UG9zLlkuU2NhbGUsCiAgICAgICAgICAgIGZyYW1lU3RhcnRQb3MuWS5PZmZzZXQgKyBkZWx0YS5ZCiAgICAgICAgKQogICAgZW5kCmVuZAoKbG9jYWwgZnVuY3Rpb24gc3RvcERyYWcoaW5wdXQpCiAgICBpZiBpbnB1dC5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgogICAgICAgIGlzRHJhZ2dpbmcgPSBmYWxzZQogICAgZW5kCmVuZAoKdGl0bGVCYXIuSW5wdXRCZWdhbjpDb25uZWN0KHN0YXJ0RHJhZykKdGl0bGVCYXIuSW5wdXRDaGFuZ2VkOkNvbm5lY3QodXBkYXRlRHJhZykKVXNlcklucHV0U2VydmljZS5JbnB1dEVuZGVkOkNvbm5lY3Qoc3RvcERyYWcpCgpjbG9zZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIHNjcmVlbkd1aTpEZXN0cm95KCkKZW5kKQoKdG9nZ2xlQnRuLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgaXNXaW5kb3dWaXNpYmxlID0gbm90IGlzV2luZG93VmlzaWJsZQogICAgCiAgICBpZiBpc1dpbmRvd1Zpc2libGUgdGhlbgogICAgICAgIG1haW5GcmFtZS5WaXNpYmxlID0gdHJ1ZQogICAgICAgIHRvZ2dsZUJ0bi5UZXh0ID0gIjwiCiAgICAgICAgCiAgICAgICAgaWYgaXNUcmFja2VyRW5hYmxlZCB0aGVuCiAgICAgICAgICAgIGZvciBucGMsIGJpbGxib2FyZCBpbiBwYWlycyhucGNCaWxsYm9hcmRzKSBkbwogICAgICAgICAgICAgICAgaWYgYmlsbGJvYXJkIGFuZCBiaWxsYm9hcmQuUGFyZW50IHRoZW4KICAgICAgICAgICAgICAgICAgICB1cGRhdGVCaWxsYm9hcmQobnBjLCBiaWxsYm9hcmQpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbHNlCiAgICAgICAgbWFpbkZyYW1lLlZpc2libGUgPSBmYWxzZQogICAgICAgIHRvZ2dsZUJ0bi5UZXh0ID0gIj4iCiAgICBlbmQKZW5kKQoKdHJhY2tlclRvZ2dsZS5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIGlzVHJhY2tlckVuYWJsZWQgPSBub3QgaXNUcmFja2VyRW5hYmxlZAogICAgdG9nZ2xlU3dpdGNoKHRyYWNrZXJUb2dnbGUsIHRyYWNrZXJUb2dnbGVJbm5lciwgaXNUcmFja2VyRW5hYmxlZCkKICAgIAogICAgaWYgbm90IGlzVHJhY2tlckVuYWJsZWQgdGhlbgogICAgICAgIGNsZWFyVHJhY2tlZE5QQ3MoKQogICAgICAgIGlmIHVwZGF0ZUNvbm4gdGhlbgogICAgICAgICAgICB1cGRhdGVDb25uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICB1cGRhdGVDb25uID0gbmlsCiAgICAgICAgZW5kCiAgICBlbHNlCiAgICAgICAgdHJhY2tOUENzKCkKICAgICAgICBzdGFydFVwZGF0ZUxvb3AoKQogICAgZW5kCmVuZCkKCmhpZ2hsaWdodFRvZ2dsZS5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIGlzSGlnaGxpZ2h0RW5hYmxlZCA9IG5vdCBpc0hpZ2hsaWdodEVuYWJsZWQKICAgIHRvZ2dsZVN3aXRjaChoaWdobGlnaHRUb2dnbGUsIGhpZ2hsaWdodFRvZ2dsZUlubmVyLCBpc0hpZ2hsaWdodEVuYWJsZWQpCiAgICAKICAgIGlmIGlzVHJhY2tlckVuYWJsZWQgdGhlbgogICAgICAgIGZvciBucGMsIF8gaW4gcGFpcnModHJhY2tlZE5QQ3MpIGRvCiAgICAgICAgICAgIGlmIG5wY0hpZ2hsaWdodHNbbnBjXSBhbmQgbnBjSGlnaGxpZ2h0c1tucGNdLlBhcmVudCB0aGVuCiAgICAgICAgICAgICAgICBucGNIaWdobGlnaHRzW25wY106RGVzdHJveSgpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgaXNIaWdobGlnaHRFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgIG5wY0hpZ2hsaWdodHNbbnBjXSA9IGNyZWF0ZUhpZ2hsaWdodChucGMpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZCkKCnJlZnJlc2hCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICBpZiBpc1RyYWNrZXJFbmFibGVkIHRoZW4KICAgICAgICB0cmFja05QQ3MoKQogICAgZW5kCmVuZCkKCnRvZ2dsZVN3aXRjaCh0cmFja2VyVG9nZ2xlLCB0cmFja2VyVG9nZ2xlSW5uZXIsIGlzVHJhY2tlckVuYWJsZWQpCnRvZ2dsZVN3aXRjaChoaWdobGlnaHRUb2dnbGUsIGhpZ2hsaWdodFRvZ2dsZUlubmVyLCBpc0hpZ2hsaWdodEVuYWJsZWQpCgpsb2NhbCBmdW5jdGlvbiB1cGRhdGVUcmFja2VkTlBDcygpCiAgICBsb2NhbCBwbGF5ZXJSb290ID0gZ2V0UGxheWVyUm9vdCgpCiAgICBpZiBub3QgcGxheWVyUm9vdCB0aGVuIHJldHVybiBlbmQKICAgIAogICAgZm9yIG5wYywgXyBpbiBwYWlycyh0cmFja2VkTlBDcykgZG8KICAgICAgICBpZiBub3QgbnBjOklzRGVzY2VuZGFudE9mKHdvcmtzcGFjZSkgdGhlbgogICAgICAgICAgICBpZiBucGNCaWxsYm9hcmRzW25wY10gdGhlbiAKICAgICAgICAgICAgICAgIG5wY0JpbGxib2FyZHNbbnBjXTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIG5wY0JpbGxib2FyZHNbbnBjXSA9IG5pbAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgbnBjSGlnaGxpZ2h0c1tucGNdIHRoZW4gCiAgICAgICAgICAgICAgICBucGNIaWdobGlnaHRzW25wY106RGVzdHJveSgpCiAgICAgICAgICAgICAgICBucGNIaWdobGlnaHRzW25wY10gPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIHRyYWNrZWROUENzW25wY10gPSBuaWwKICAgICAgICBlbmQKICAgIGVuZAogICAgCiAgICBmb3IgbnBjLCBfIGluIHBhaXJzKHRyYWNrZWROUENzKSBkbwogICAgICAgIGlmIG5wY0JpbGxib2FyZHNbbnBjXSBhbmQgbnBjQmlsbGJvYXJkc1tucGNdLlBhcmVudCBhbmQgbnBjQmlsbGJvYXJkc1tucGNdLkFkb3JuZWUgdGhlbgogICAgICAgICAgICB1cGRhdGVCaWxsYm9hcmQobnBjLCBucGNCaWxsYm9hcmRzW25wY10pCiAgICAgICAgZWxzZQogICAgICAgICAgICBpZiBucGM6SXNEZXNjZW5kYW50T2Yod29ya3NwYWNlKSB0aGVuCiAgICAgICAgICAgICAgICBucGNCaWxsYm9hcmRzW25wY10gPSBjcmVhdGVCaWxsYm9hcmQobnBjKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKCmxvY2FsIGZ1bmN0aW9uIHN0YXJ0VXBkYXRlTG9vcCgpCiAgICBpZiB1cGRhdGVDb25uIHRoZW4KICAgICAgICB1cGRhdGVDb25uOkRpc2Nvbm5lY3QoKQogICAgZW5kCiAgICAKICAgIHVwZGF0ZUNvbm4gPSBSdW5TZXJ2aWNlLkhlYXJ0YmVhdDpDb25uZWN0KHVwZGF0ZVRyYWNrZWROUENzKQplbmQKCmlmIGlzVHJhY2tlckVuYWJsZWQgdGhlbgogICAgdHJhY2tOUENzKCkKICAgIHN0YXJ0VXBkYXRlTG9vcCgpCmVuZAoKd29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGRlc2NlbmRhbnQpCiAgICBpZiBpc05QQyhkZXNjZW5kYW50KSBhbmQgaXNUcmFja2VyRW5hYmxlZCB0aGVuCiAgICAgICAgdHJhY2tOUENzKCkKICAgIGVuZAplbmQpCiAgICBlbmQKfSkKClRvb2xTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLliqjmgIHmqKHns4oiLAogICAgRGVzYyA9ICLmoLnmja7np7vliqjpgJ/luqbliqjmgIHosIPmlbTmqKHns4rmlYjmnpwiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgTGlnaHRpbmcgPSBnYW1lOkdldFNlcnZpY2UoIkxpZ2h0aW5nIikKICAgICAgICAKICAgICAgICBsb2NhbCBtb3Rpb25CbHVyID0gSW5zdGFuY2UubmV3KCJCbHVyRWZmZWN0IikKICAgICAgICBtb3Rpb25CbHVyLk5hbWUgPSAiRHluYW1pY01vdGlvbkJsdXIiCiAgICAgICAgbW90aW9uQmx1ci5TaXplID0gMTAKICAgICAgICBtb3Rpb25CbHVyLlBhcmVudCA9IExpZ2h0aW5nCiAgICAgICAgCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuUmVuZGVyU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKGRlbHRhVGltZSkKICAgICAgICAgICAgbG9jYWwgcGxheWVyID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIKICAgICAgICAgICAgaWYgcGxheWVyLkNoYXJhY3RlciBhbmQgcGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHZlbG9jaXR5ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlZlbG9jaXR5Lk1hZ25pdHVkZQogICAgICAgICAgICAgICAgbW90aW9uQmx1ci5TaXplID0gbWF0aC5jbGFtcCh2ZWxvY2l0eSAvIDIwLCAwLCAxNSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCn0pCgpUb29sU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5rGJ5YyW56m/5aKZIiwKICAgIERlc2MgPSAi56m/5aKZ5Yqf6IO9IiwKICAgIEljb24gPSAibW92ZSIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1R0bVNjcmlwdGVyL090aGVyU2NyaXB0L21haW4vTm9jbGlwIikpKCkKICAgIGVuZAp9KQoKVG9vbFNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIumjnuaqkOi1sOWjgSIsCiAgICBEZXNjID0gIuWKoOi9veWQjuaXoOazleWPlua2iOaViOaenCIsCiAgICBJY29uID0gImdlaXN0OmJ1ZyIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L3pYazRScTJyIikpKCkKICAgIGVuZAp9KQoKVG9vbFNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuW/q+mAn+S6kuWKqCIsCiAgICBEZXNjID0gIuWMheaLrOiHquWKqOS6kuWKqCIsCiAgICBJY29uID0gImdlaXN0OmJ1ZyIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgIGxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBQcm94aW1pdHlQcm9tcHRTZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJQcm94aW1pdHlQcm9tcHRTZXJ2aWNlIikKbG9jYWwgVXNlcklucHV0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCmxvY2FsIFJ1blNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKQpsb2NhbCBMb2NhbFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgUGxheWVyR3VpID0gTG9jYWxQbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKQoKaWYgbm90IGdhbWU6SXNMb2FkZWQoKSB0aGVuCiAgICBnYW1lLkxvYWRlZDpXYWl0KCkKZW5kCgpnYW1lOkdldFNlcnZpY2UoIlN0YXJ0ZXJHdWkiKTpTZXRDb3JlKCJTZW5kTm90aWZpY2F0aW9uIiwgewogICAgVGl0bGUgPSAi5b+r6YCf5LqS5Yqo5bel5YW3IiwKICAgIFRleHQgPSAi5Yqg6L295LitLi4uIiwKICAgIER1cmF0aW9uID0gMwp9KQoKbG9jYWwgY29uZmlnID0gewogICAgZmFzdENsaWNrRW5hYmxlZCA9IGZhbHNlLAogICAgYXV0b1NjYW5FbmFibGVkID0gZmFsc2UsCiAgICBzY2FuSW50ZXJ2YWwgPSAwLjEsCiAgICBpbnRlcmFjdGlvbkRpc3RhbmNlID0gMjAsCiAgICBpc1VJVmlzaWJsZSA9IHRydWUKfQoKbG9jYWwgVUlDb250YWluZXIgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpClVJQ29udGFpbmVyLk5hbWUgPSAiUXVpY2tJbnRlcmFjdGlvblVJIgpVSUNvbnRhaW5lci5aSW5kZXhCZWhhdmlvciA9IEVudW0uWkluZGV4QmVoYXZpb3IuU2libGluZwpVSUNvbnRhaW5lci5SZXNldE9uU3Bhd24gPSBmYWxzZQpVSUNvbnRhaW5lci5JZ25vcmVHdWlJbnNldCA9IHRydWUKCmxvY2FsIE1haW5GcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQpNYWluRnJhbWUuTmFtZSA9ICJNYWluV2luZG93IgpNYWluRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQwLCA0MCwgNTApCk1haW5GcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCk1haW5GcmFtZS5TaXplID0gVURpbTIubmV3KDAsIDM1MCwgMCwgMjIwKQpNYWluRnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAtMTc1LCAwLjUsIC0xMTApCk1haW5GcmFtZS5BY3RpdmUgPSB0cnVlCk1haW5GcmFtZS5EcmFnZ2FibGUgPSB0cnVlCgpsb2NhbCBUaXRsZUJhciA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQpUaXRsZUJhci5OYW1lID0gIlRpdGxlQmFyIgpUaXRsZUJhci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzAsIDMwLCA0MCkKVGl0bGVCYXIuQm9yZGVyU2l6ZVBpeGVsID0gMApUaXRsZUJhci5TaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDMwKQpUaXRsZUJhci5QYXJlbnQgPSBNYWluRnJhbWUKCmxvY2FsIFRpdGxlTGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpClRpdGxlTGFiZWwuTmFtZSA9ICJUaXRsZSIKVGl0bGVMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQpUaXRsZUxhYmVsLlNpemUgPSBVRGltMi5uZXcoMC42LCAwLCAxLCAwKQpUaXRsZUxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAuMSwgMCwgMCwgMCkKVGl0bGVMYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKVGl0bGVMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjAwLCAyMDAsIDI1NSkKVGl0bGVMYWJlbC5UZXh0U2NhbGVkID0gdHJ1ZQpUaXRsZUxhYmVsLlRleHQgPSAi5b+r6YCf5LqS5YqoIgpUaXRsZUxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0ClRpdGxlTGFiZWwuUGFyZW50ID0gVGl0bGVCYXIKCmxvY2FsIEZvbGRCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQpGb2xkQnV0dG9uLk5hbWUgPSAiRm9sZEJ1dHRvbiIKRm9sZEJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQpGb2xkQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMCwgMzAsIDAsIDMwKQpGb2xkQnV0dG9uLlBvc2l0aW9uID0gVURpbTIubmV3KDEsIC02MCwgMCwgMCkKRm9sZEJ1dHRvbi5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKRm9sZEJ1dHRvbi5UZXh0ID0gIl8iCkZvbGRCdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwMCwgMjAwLCAyNTUpCkZvbGRCdXR0b24uVGV4dFNjYWxlZCA9IHRydWUKRm9sZEJ1dHRvbi5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CkZvbGRCdXR0b24uWkluZGV4ID0gMgpGb2xkQnV0dG9uLlBhcmVudCA9IFRpdGxlQmFyCgpsb2NhbCBDbG9zZUJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCkNsb3NlQnV0dG9uLk5hbWUgPSAiQ2xvc2VCdXR0b24iCkNsb3NlQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCkNsb3NlQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMCwgMzAsIDAsIDMwKQpDbG9zZUJ1dHRvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtMzAsIDAsIDApCkNsb3NlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZApDbG9zZUJ1dHRvbi5UZXh0ID0gIlgiCkNsb3NlQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE1MCwgMTUwKQpDbG9zZUJ1dHRvbi5UZXh0U2NhbGVkID0gdHJ1ZQpDbG9zZUJ1dHRvbi5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC41CkNsb3NlQnV0dG9uLlpJbmRleCA9IDIKQ2xvc2VCdXR0b24uUGFyZW50ID0gVGl0bGVCYXIKCmxvY2FsIENvbnRlbnRGcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQpDb250ZW50RnJhbWUuTmFtZSA9ICJDb250ZW50IgpDb250ZW50RnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKQ29udGVudEZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwgLTIwLCAxLCAtNTApCkNvbnRlbnRGcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgNDApCkNvbnRlbnRGcmFtZS5QYXJlbnQgPSBNYWluRnJhbWUKCmxvY2FsIENvbnRlbnRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJTGlzdExheW91dCIpCkNvbnRlbnRMYXlvdXQuUGFkZGluZyA9IFVEaW0ubmV3KDAsIDEwKQpDb250ZW50TGF5b3V0LlNvcnRPcmRlciA9IEVudW0uU29ydE9yZGVyLkxheW91dE9yZGVyCkNvbnRlbnRMYXlvdXQuUGFyZW50ID0gQ29udGVudEZyYW1lCgpsb2NhbCBmdW5jdGlvbiBjcmVhdGVUb2dnbGUocGFyZW50LCBuYW1lLCBjYWxsYmFjaykKICAgIGxvY2FsIHRvZ2dsZUZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICB0b2dnbGVGcmFtZS5OYW1lID0gIlRvZ2dsZUZyYW1lIgogICAgdG9nZ2xlRnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIHRvZ2dsZUZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMCwgNDApCiAgICB0b2dnbGVGcmFtZS5MYXlvdXRPcmRlciA9ICNwYXJlbnQ6R2V0Q2hpbGRyZW4oKQogICAgdG9nZ2xlRnJhbWUuUGFyZW50ID0gcGFyZW50CgogICAgbG9jYWwgdG9nZ2xlTGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICB0b2dnbGVMYWJlbC5OYW1lID0gIkxhYmVsIgogICAgdG9nZ2xlTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIHRvZ2dsZUxhYmVsLlNpemUgPSBVRGltMi5uZXcoMC43LCAwLCAxLCAwKQogICAgdG9nZ2xlTGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW0KICAgIHRvZ2dsZUxhYmVsLlRleHQgPSBuYW1lCiAgICB0b2dnbGVMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjAwLCAyMDAsIDIwMCkKICAgIHRvZ2dsZUxhYmVsLlRleHRTY2FsZWQgPSB0cnVlCiAgICB0b2dnbGVMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAogICAgdG9nZ2xlTGFiZWwuUGFyZW50ID0gdG9nZ2xlRnJhbWUKCiAgICBsb2NhbCB0b2dnbGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQogICAgdG9nZ2xlQnV0dG9uLk5hbWUgPSAiVG9nZ2xlIgogICAgdG9nZ2xlQnV0dG9uLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCiAgICB0b2dnbGVCdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMC45LCAwLCAwLjUsIDApCiAgICB0b2dnbGVCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygwLjIsIDAsIDAuNywgMCkKICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNzAsIDcwLCA4NSkKICAgIHRvZ2dsZUJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICB0b2dnbGVCdXR0b24uRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICB0b2dnbGVCdXR0b24uVGV4dCA9ICLlhbPpl60iCiAgICB0b2dnbGVCdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTAwLCAxMDApCiAgICB0b2dnbGVCdXR0b24uVGV4dFNjYWxlZCA9IHRydWUKICAgIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgPSB0b2dnbGVGcmFtZQoKICAgIGxvY2FsIHN0YXRlID0gZmFsc2UKCiAgICBsb2NhbCBmdW5jdGlvbiB1cGRhdGVUb2dnbGUoKQogICAgICAgIHN0YXRlID0gbm90IHN0YXRlCiAgICAgICAgaWYgc3RhdGUgdGhlbgogICAgICAgICAgICB0b2dnbGVCdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDYwLCAxNDAsIDcwKQogICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dCA9ICLlvIDlkK8iCiAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjIwLCAyNTUsIDIyMCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNzAsIDcwLCA4NSkKICAgICAgICAgICAgdG9nZ2xlQnV0dG9uLlRleHQgPSAi5YWz6ZetIgogICAgICAgICAgICB0b2dnbGVCdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMTAwLCAxMDApCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgaWYgY2FsbGJhY2sgdGhlbgogICAgICAgICAgICBjYWxsYmFjayhzdGF0ZSkKICAgICAgICBlbmQKICAgIGVuZAogICAgCiAgICB0b2dnbGVCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCh1cGRhdGVUb2dnbGUpCiAgICAKICAgIHJldHVybiB0b2dnbGVCdXR0b24KZW5kCgpsb2NhbCBmYXN0Q2xpY2tUb2dnbGUgPSBjcmVhdGVUb2dnbGUoQ29udGVudEZyYW1lLCAi5b+r6YCf54K55Ye75LqS5YqoIiwgZnVuY3Rpb24oc3RhdGUpCiAgICBjb25maWcuZmFzdENsaWNrRW5hYmxlZCA9IHN0YXRlCiAgICBpZiBzdGF0ZSB0aGVuCiAgICAgICAgZ2V0Z2VudigpLkZhc3RDbGlja0Nvbm5lY3Rpb24gPSBQcm94aW1pdHlQcm9tcHRTZXJ2aWNlLlByb21wdEJ1dHRvbkhvbGRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKHByb21wdCkKICAgICAgICAgICAgcHJvbXB0LkhvbGREdXJhdGlvbiA9IDAKICAgICAgICBlbmQpCiAgICBlbHNlCiAgICAgICAgaWYgZ2V0Z2VudigpLkZhc3RDbGlja0Nvbm5lY3Rpb24gdGhlbgogICAgICAgICAgICBnZXRnZW52KCkuRmFzdENsaWNrQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCgpsb2NhbCBhdXRvU2NhblRvZ2dsZSA9IGNyZWF0ZVRvZ2dsZShDb250ZW50RnJhbWUsICLoh6rliqjmiavmj4/kupLliqgiLCBmdW5jdGlvbihzdGF0ZSkKICAgIGNvbmZpZy5hdXRvU2NhbkVuYWJsZWQgPSBzdGF0ZQplbmQpCgp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRydWUgZG8KICAgICAgICB3YWl0KGNvbmZpZy5zY2FuSW50ZXJ2YWwpCiAgICAgICAgCiAgICAgICAgaWYgY29uZmlnLmF1dG9TY2FuRW5hYmxlZCBhbmQgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWRSb290UGFydCA9IExvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBodW1hbm9pZFJvb3RQYXJ0IHRoZW4KICAgICAgICAgICAgICAgIGZvciBfLCBwcm9tcHQgaW4gcGFpcnMoUHJveGltaXR5UHJvbXB0U2VydmljZTpHZXRBY3RpdmVQcm9tcHRzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgcHJvbXB0LkVuYWJsZWQgYW5kIHByb21wdDpJc0EoIlByb3hpbWl0eVByb21wdCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZGlzdGFuY2UgPSAocHJvbXB0LlRyaWdnZXJXb3JsZFBvc2l0aW9uIC0gaHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikuTWFnbml0dWRlCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiBkaXN0YW5jZSA8PSBtYXRoLm1pbihjb25maWcuaW50ZXJhY3Rpb25EaXN0YW5jZSwgcHJvbXB0Lk1heEFjdGl2YXRpb25EaXN0YW5jZSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OklucHV0SG9sZEJlZ2luKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXQoMC4wNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdDpJbnB1dEhvbGRFbmQoKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQpCgpGb2xkQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgY29uZmlnLmlzVUlWaXNpYmxlID0gbm90IGNvbmZpZy5pc1VJVmlzaWJsZQogICAgCiAgICBpZiBjb25maWcuaXNVSVZpc2libGUgdGhlbgogICAgICAgIENvbnRlbnRGcmFtZS5WaXNpYmxlID0gdHJ1ZQogICAgICAgIEZvbGRCdXR0b24uVGV4dCA9ICJfIgogICAgICAgIE1haW5GcmFtZS5TaXplID0gVURpbTIubmV3KDAsIDM1MCwgMCwgMjIwKQogICAgZWxzZQogICAgICAgIENvbnRlbnRGcmFtZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICBGb2xkQnV0dG9uLlRleHQgPSAiKyIKICAgICAgICBNYWluRnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLCAzNTAsIDAsIDMwKQogICAgZW5kCmVuZCkKCk1haW5GcmFtZS5QYXJlbnQgPSBVSUNvbnRhaW5lcgpVSUNvbnRhaW5lci5QYXJlbnQgPSBQbGF5ZXJHdWkKCkNsb3NlQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgVUlDb250YWluZXI6RGVzdHJveSgpCiAgICAKICAgIGlmIGdldGdlbnYoKS5GYXN0Q2xpY2tDb25uZWN0aW9uIHRoZW4KICAgICAgICBnZXRnZW52KCkuRmFzdENsaWNrQ29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgIGVuZAogICAgCiAgICBjb25maWcuZmFzdENsaWNrRW5hYmxlZCA9IGZhbHNlCiAgICBjb25maWcuYXV0b1NjYW5FbmFibGVkID0gZmFsc2UKICAgIAogICAgZ2FtZTpHZXRTZXJ2aWNlKCJTdGFydGVyR3VpIik6U2V0Q29yZSgiU2VuZE5vdGlmaWNhdGlvbiIsIHsKICAgICAgICBUaXRsZSA9ICLlv6vpgJ/kupLliqjlt6XlhbciLAogICAgICAgIFRleHQgPSAi5bey5YWz6ZetIiwKICAgICAgICBEdXJhdGlvbiA9IDMKICAgIH0pCmVuZCkKCmdhbWU6R2V0U2VydmljZSgiU3RhcnRlckd1aSIpOlNldENvcmUoIlNlbmROb3RpZmljYXRpb24iLCB7CiAgICBUaXRsZSA9ICLlv6vpgJ/kupLliqjlt6XlhbciLAogICAgVGV4dCA9ICLlt7LmiJDlip/liqDovb0hXG7lv6vpgJ/kupLliqjlt6Xlhbflt7Lmv4DmtLsiLAogICAgRHVyYXRpb24gPSA1Cn0pCgogICAgZW5kCn0pCgpsb2NhbCBhdXRvSW50ZXJhY3QgPSBmYWxzZQpsb2NhbCBhdXRvSW50ZXJhY3RDb25uZWN0aW9uClRvb2xTZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLoh6rliqjkupLliqgiLAogICAgRGVzYyA9ICJBdXRvIEludGVyYWN0IiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oc3RhdGUpCiAgICAgICAgYXV0b0ludGVyYWN0ID0gc3RhdGUKICAgICAgICBpZiBzdGF0ZSB0aGVuCiAgICAgICAgICAgIGF1dG9JbnRlcmFjdENvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgYXV0b0ludGVyYWN0IHRoZW4KICAgICAgICAgICAgICAgICAgICBhdXRvSW50ZXJhY3RDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBmb3IgXywgZGVzY2VuZGFudCBpbiBwYWlycyh3b3Jrc3BhY2U6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgICAgICAgICBpZiBkZXNjZW5kYW50OklzQSgiUHJveGltaXR5UHJvbXB0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmaXJlcHJveGltaXR5cHJvbXB0KGRlc2NlbmRhbnQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVsc2UKICAgICAgICAgICAgaWYgYXV0b0ludGVyYWN0Q29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICBhdXRvSW50ZXJhY3RDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKVG9vbFNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuW3peWFt+aMgiIsCiAgICBEZXNjID0gIuWKoOi9veW3peWFt+aMguiEmuacrCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0JlYm8tTW9kcy9CZWJvU2NyaXB0cy9tYWluL1N0YW5kQXdla2VuaW5nLmx1YSIsIHRydWUpKSgpCiAgICBlbmQKfSkKClRvb2xTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLngrnlh7vkvKDpgIHlt6XlhbciLAogICAgRGVzYyA9ICLnlJ/miJDngrnlh7vkvKDpgIHlt6XlhbciLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgbW91c2UgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6R2V0TW91c2UoKQogICAgICAgIGxvY2FsIHRvb2wgPSBJbnN0YW5jZS5uZXcoIlRvb2wiKQogICAgICAgIHRvb2wuUmVxdWlyZXNIYW5kbGUgPSBmYWxzZQogICAgICAgIHRvb2wuTmFtZSA9ICJNVOeCueWHu+S8oOmAgSIKICAgICAgICB0b29sLkFjdGl2YXRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlciBhbmQgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHBvcyA9IG1vdXNlLkhpdCArIFZlY3RvcjMubmV3KDAsIDIuNSwgMCkKICAgICAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KHBvcy5YLCBwb3MuWSwgcG9zLlopCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgICAgICB0b29sLlBhcmVudCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5CYWNrcGFjawogICAgZW5kCn0pCgpUb29sU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi55S16ISR6ZSu55uYIiwKICAgIERlc2MgPSAi5Yqg6L296Jma5ouf6ZSu55uY5Yqf6IO9IiwKICAgIEljb24gPSAia2V5Ym9hcmQiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIuato+WcqOWKoOi9vSIsCiAgICAgICAgICAgIENvbnRlbnQgPSAi5Yqg6L296Jma5ouf6ZSu55uY5LitLi4uIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAxLAogICAgICAgICAgICBJY29uID0gImRvd25sb2FkIgogICAgICAgIH0pCiAgICAgICAgCiAgICAgICAgbG9jYWwgc3VjY2VzcywgZXJyID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Fkdnh6aXZoc2pqZGh4aHNpZGlmdnNoL21vYmtleWJvYXJkL21haW4vbWFpbi50eHQiLCB0cnVlKSkoKQogICAgICAgIGVuZCkKICAgICAgICAKICAgICAgICBpZiBzdWNjZXNzIHRoZW4KICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLliqDovb3miJDlip8iLAogICAgICAgICAgICAgICAgQ29udGVudCA9ICLomZrmi5/plK7nm5jlt7LliqDovb3lrozmiJAiLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICAgICAgSWNvbiA9ICJjaGVjay1jaXJjbGUiCiAgICAgICAgICAgIH0pCiAgICAgICAgZWxzZQogICAgICAgICAgICBXaW5kVUk6Tm90aWZ5KHsKICAgICAgICAgICAgICAgIFRpdGxlID0gIuWKoOi9veWksei0pSIsCiAgICAgICAgICAgICAgICBDb250ZW50ID0gIuiZmuaLn+mUruebmOWKoOi9veWksei0pTogIiAuLiB0b3N0cmluZyhlcnIpLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSA1LAogICAgICAgICAgICAgICAgSWNvbiA9ICJhbGVydC1jaXJjbGUiCiAgICAgICAgICAgIH0pCiAgICAgICAgZW5kCiAgICBlbmQKfSkKClRvb2xTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLlj43mjILmnLoiLAogICAgRGVzYyA9ICLliqDovb3lj43mjILmnLrohJrmnKwiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy85ZkZ1NDNGRiIpKSgpCiAgICAgICAgCiAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIuWPjeaMguacuuiEmuacrCIsCiAgICAgICAgICAgIENvbnRlbnQgPSAi5q2j5Zyo5Yqg6L295Y+N5oyC5py65Yqf6IO9Li4uIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICBJY29uID0gInNoaWVsZCIKICAgICAgICB9KQogICAgZW5kCn0pCgpsb2NhbCBnb2RNb2RlRW5hYmxlZCA9IGZhbHNlCmxvY2FsIGNvbm5lY3Rpb24gPSBuaWwKClRvb2xTZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLml6DmlYzmqKHlvI8o5peg6ZmQ5Zue6KGAKSIsCiAgICBEZXNjID0gIuWPjeS9nOW8iuW3rueahOacjeWKoeWZqOacieaViCIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHN0YXRlKQogICAgICAgIGdvZE1vZGVFbmFibGVkID0gc3RhdGUKICAgICAgICAKICAgICAgICBpZiBjb25uZWN0aW9uIHRoZW4KICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBpZiBzdGF0ZSB0aGVuCiAgICAgICAgICAgIGxvY2FsIGxhc3RVcGRhdGUgPSAwCiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgZ29kTW9kZUVuYWJsZWQgdGhlbgogICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgdGljaygpIC0gbGFzdFVwZGF0ZSA+PSAwLjEgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlciBhbmQgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICAgICAgICAgICAgICBpZiBodW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGh1bWFub2lkLkhlYWx0aCA9IG1hdGguaHVnZQogICAgICAgICAgICAgICAgICAgICAgICBodW1hbm9pZC5NYXhIZWFsdGggPSBtYXRoLmh1Z2UKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBsYXN0VXBkYXRlID0gdGljaygpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBhaXJXYWxrRW5hYmxlZCA9IGZhbHNlCmxvY2FsIGJvZHlQb3NpdGlvbkluc3RhbmNlID0gbmlsCgpUb29sU2VjdGlvbjpUb2dnbGUoewogICAgVGl0bGUgPSAi56m65Lit6KGM6LWwIiwKICAgIERlc2MgPSAi5Zu65a6aWei9tOS9jee9ru+8jOS4jeS8muaOieiQvSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHN0YXRlKQogICAgICAgIGFpcldhbGtFbmFibGVkID0gc3RhdGUKICAgICAgICAKICAgICAgICBpZiBzdGF0ZSB0aGVuCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBjaGFyYWN0ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGlmIGNoYXJhY3RlciBhbmQgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgaHJwID0gY2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKICAgICAgICAgICAgICAgIGJvZHlQb3NpdGlvbkluc3RhbmNlID0gSW5zdGFuY2UubmV3KCJCb2R5UG9zaXRpb24iKQogICAgICAgICAgICAgICAgYm9keVBvc2l0aW9uSW5zdGFuY2UuUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCBocnAuUG9zaXRpb24uWSwgMCkKICAgICAgICAgICAgICAgIGJvZHlQb3NpdGlvbkluc3RhbmNlLk1heEZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNDAwMDAsIDApCiAgICAgICAgICAgICAgICBib2R5UG9zaXRpb25JbnN0YW5jZS5QID0gMTAwMDAKICAgICAgICAgICAgICAgIGJvZHlQb3NpdGlvbkluc3RhbmNlLlBhcmVudCA9IGhycAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbihuZXdDaGFyKQogICAgICAgICAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgICAgICAgICBpZiBhaXJXYWxrRW5hYmxlZCBhbmQgbmV3Q2hhcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgYm9keVBvc2l0aW9uSW5zdGFuY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlQb3NpdGlvbiIpCiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlQb3NpdGlvbkluc3RhbmNlLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgbmV3Q2hhci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLlksIDApCiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlQb3NpdGlvbkluc3RhbmNlLk1heEZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNDAwMDAsIDApCiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlQb3NpdGlvbkluc3RhbmNlLlBhcmVudCA9IG5ld0NoYXIuSHVtYW5vaWRSb290UGFydAogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7VGl0bGUgPSAi56m65Lit6KGM6LWw5bey5ZCv55SoIiwgQ29udGVudCA9ICJZ6L205L2N572u5bey5Zu65a6aIiwgRHVyYXRpb24gPSAyfSkKICAgICAgICBlbHNlCiAgICAgICAgICAgIGlmIGJvZHlQb3NpdGlvbkluc3RhbmNlIHRoZW4KICAgICAgICAgICAgICAgIGJvZHlQb3NpdGlvbkluc3RhbmNlOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgYm9keVBvc2l0aW9uSW5zdGFuY2UgPSBuaWwKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIFdpbmRVSTpOb3RpZnkoe1RpdGxlID0gIuepuuS4reihjOi1sOW3suemgeeUqCIsIENvbnRlbnQgPSAi5Y+v5Lul5q2j5bi45o6J6JC9IiwgRHVyYXRpb24gPSAyfSkKICAgICAgICBlbmQKICAgIGVuZAp9KQoKbG9jYWwgaW5maW5pdGVKdW1wID0gZmFsc2UKVG9vbFNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIuaXoOmZkOi3syIsCiAgICBEZXNjID0gIlRvZ2dsZSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKFZhbHVlKQogICAgICAgIGluZmluaXRlSnVtcCA9IFZhbHVlCiAgICBlbmQKfSkKCmdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpLkp1bXBSZXF1ZXN0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgaWYgaW5maW5pdGVKdW1wIGFuZCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSB0aGVuCiAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZDpDaGFuZ2VTdGF0ZSgiSnVtcGluZyIpCiAgICBlbmQKZW5kKQoKVG9vbFNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuiBiuWkqeiusOW9lSIsCiAgICBEZXNjID0gIuWKoOi9veiBiuWkqeWHoOWPpeiEmuacrCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKbG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCmxvY2FsIExvY2FsUGxheWVyID0gUGxheWVycy5Mb2NhbFBsYXllcgpsb2NhbCBQbGF5ZXJHdWkgPSBMb2NhbFBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpCmxvY2FsIFJlcGxpY2F0ZWRTdG9yYWdlID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpCmxvY2FsIFRleHRTZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJUZXh0U2VydmljZSIpCmxvY2FsIFR3ZWVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVHdlZW5TZXJ2aWNlIikKbG9jYWwgU3RhcnRlckd1aSA9IGdhbWU6R2V0U2VydmljZSgiU3RhcnRlckd1aSIpCmxvY2FsIEh0dHBTZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJIdHRwU2VydmljZSIpCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQpsb2NhbCBSdW5TZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikKCmxvY2FsIENoYXRVSSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikKQ2hhdFVJLk5hbWUgPSAiR2FvSHViQ2hhdFVJIgpDaGF0VUkuUmVzZXRPblNwYXduID0gZmFsc2UKQ2hhdFVJLlBhcmVudCA9IFBsYXllckd1aQoKbG9jYWwgTWFpbkZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCk1haW5GcmFtZS5OYW1lID0gIk1haW5GcmFtZSIKTWFpbkZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC4zLCAwLCAwLjUsIDApCk1haW5GcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjM1LCAwLCAwLjI1LCAwKSAKTWFpbkZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCk1haW5GcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDAsIDQwLCA0MCkKTWFpbkZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjMKTWFpbkZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKTWFpbkZyYW1lLkNsaXBzRGVzY2VuZGFudHMgPSB0cnVlCgpsb2NhbCBVSUNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQpVSUNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLjAzLCAwKQpVSUNvcm5lci5QYXJlbnQgPSBNYWluRnJhbWUKCk1haW5GcmFtZS5QYXJlbnQgPSBDaGF0VUkKCmxvY2FsIEhpZGVCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQpIaWRlQnV0dG9uLk5hbWUgPSAiSGlkZUJ1dHRvbiIKSGlkZUJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAuMDUsIDAsIDAuMDgsIDApCkhpZGVCdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMC4wMSwgMCwgMC4yNSwgMCkKSGlkZUJ1dHRvbi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAsIDAuNSkKSGlkZUJ1dHRvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzAsIDMwLCAzMCkKSGlkZUJ1dHRvbi5UZXh0ID0gIj4iCkhpZGVCdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCkhpZGVCdXR0b24uRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zQm9sZApIaWRlQnV0dG9uLlRleHRTaXplID0gMTgKSGlkZUJ1dHRvbi5QYXJlbnQgPSBDaGF0VUkKCmxvY2FsIEhpZGVCdXR0b25Db3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKSGlkZUJ1dHRvbkNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLjAzLCAwKQpIaWRlQnV0dG9uQ29ybmVyLlBhcmVudCA9IEhpZGVCdXR0b24KCmxvY2FsIFRpdGxlQmFyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpClRpdGxlQmFyLk5hbWUgPSAiVGl0bGVCYXIiClRpdGxlQmFyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4wOCwgMCkKVGl0bGVCYXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDMwLCAzMCwgMzApClRpdGxlQmFyLkJvcmRlclNpemVQaXhlbCA9IDAKVGl0bGVCYXIuUGFyZW50ID0gTWFpbkZyYW1lCgpsb2NhbCBUaXRsZVRleHQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpClRpdGxlVGV4dC5OYW1lID0gIlRpdGxlVGV4dCIKVGl0bGVUZXh0LlNpemUgPSBVRGltMi5uZXcoMC43LCAwLCAxLCAwKQpUaXRsZVRleHQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC4xNSwgMCwgMCwgMCkKVGl0bGVUZXh0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxClRpdGxlVGV4dC5UZXh0ID0gIkdhbyBIdWIg6IGK5aSp6K6w5b2V5ZmoIgpUaXRsZVRleHQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpClRpdGxlVGV4dC5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkClRpdGxlVGV4dC5UZXh0U2l6ZSA9IDE4ClRpdGxlVGV4dC5QYXJlbnQgPSBUaXRsZUJhcgoKbG9jYWwgQ2hhdFNjcm9sbGVyID0gSW5zdGFuY2UubmV3KCJTY3JvbGxpbmdGcmFtZSIpCkNoYXRTY3JvbGxlci5OYW1lID0gIkNoYXRTY3JvbGxlciIKQ2hhdFNjcm9sbGVyLlNpemUgPSBVRGltMi5uZXcoMSwgLTEwLCAwLjcsIC0xMCkKQ2hhdFNjcm9sbGVyLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDUsIDAuMDgsIDUpCkNoYXRTY3JvbGxlci5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQpDaGF0U2Nyb2xsZXIuQm9yZGVyU2l6ZVBpeGVsID0gMApDaGF0U2Nyb2xsZXIuU2Nyb2xsQmFyVGhpY2tuZXNzID0gNQpDaGF0U2Nyb2xsZXIuQXV0b21hdGljQ2FudmFzU2l6ZSA9IEVudW0uQXV0b21hdGljU2l6ZS5ZCkNoYXRTY3JvbGxlci5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApCkNoYXRTY3JvbGxlci5TY3JvbGxpbmdEaXJlY3Rpb24gPSBFbnVtLlNjcm9sbGluZ0RpcmVjdGlvbi5ZCkNoYXRTY3JvbGxlci5QYXJlbnQgPSBNYWluRnJhbWUKCmxvY2FsIENoYXRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJTGlzdExheW91dCIpCkNoYXRMYXlvdXQuTmFtZSA9ICJDaGF0TGF5b3V0IgpDaGF0TGF5b3V0LlBhZGRpbmcgPSBVRGltLm5ldygwLCAxMCkKQ2hhdExheW91dC5Tb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlcgpDaGF0TGF5b3V0LlBhcmVudCA9IENoYXRTY3JvbGxlcgoKbG9jYWwgQ29udHJvbFBhbmVsID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCkNvbnRyb2xQYW5lbC5OYW1lID0gIkNvbnRyb2xQYW5lbCIKQ29udHJvbFBhbmVsLlNpemUgPSBVRGltMi5uZXcoMSwgLTEwLCAwLjEyLCAwKQpDb250cm9sUGFuZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgNSwgMC44LCAwKQpDb250cm9sUGFuZWwuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDUwLCA1MCwgNTApCkNvbnRyb2xQYW5lbC5Cb3JkZXJTaXplUGl4ZWwgPSAwCkNvbnRyb2xQYW5lbC5QYXJlbnQgPSBNYWluRnJhbWUKCmxvY2FsIENsb3NlQnV0dG9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKQ2xvc2VCdXR0b24uTmFtZSA9ICJDbG9zZUJ1dHRvbiIKQ2xvc2VCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygwLjQsIDAsIDAuNywgMCkKQ2xvc2VCdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMC4wNSwgMCwgMC4xNSwgMCkKQ2xvc2VCdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIxNSwgNjAsIDApCkNsb3NlQnV0dG9uLkJvcmRlclNpemVQaXhlbCA9IDAKQ2xvc2VCdXR0b24uVGV4dCA9ICLlhbPpl60iCkNsb3NlQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQpDbG9zZUJ1dHRvbi5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkCkNsb3NlQnV0dG9uLlRleHRTaXplID0gMTYKQ2xvc2VCdXR0b24uUGFyZW50ID0gQ29udHJvbFBhbmVsCgpsb2NhbCBOb3RpZnlCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQpOb3RpZnlCdXR0b24uTmFtZSA9ICJOb3RpZnlCdXR0b24iCk5vdGlmeUJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC43LCAwKQpOb3RpZnlCdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMC41NSwgMCwgMC4xNSwgMCkKTm90aWZ5QnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAxMjAsIDIxNSkKTm90aWZ5QnV0dG9uLkJvcmRlclNpemVQaXhlbCA9IDAKTm90aWZ5QnV0dG9uLlRleHQgPSAi6YCa55+lOiDlvIAiCk5vdGlmeUJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKTm90aWZ5QnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2Fuc0JvbGQKTm90aWZ5QnV0dG9uLlRleHRTaXplID0gMTYKTm90aWZ5QnV0dG9uLlBhcmVudCA9IENvbnRyb2xQYW5lbAoKbG9jYWwgU2VuZFBhbmVsID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpClNlbmRQYW5lbC5OYW1lID0gIlNlbmRQYW5lbCIKU2VuZFBhbmVsLlNpemUgPSBVRGltMi5uZXcoMC4yNSwgMCwgMC41LCAwKQpTZW5kUGFuZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMC43LCAxMCwgMC4yNSwgMCkKU2VuZFBhbmVsLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0MCwgNDAsIDQwKQpTZW5kUGFuZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMwpTZW5kUGFuZWwuQm9yZGVyU2l6ZVBpeGVsID0gMApTZW5kUGFuZWwuUGFyZW50ID0gQ2hhdFVJCgpsb2NhbCBTZW5kUGFuZWxDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKU2VuZFBhbmVsQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAuMDMsIDApClNlbmRQYW5lbENvcm5lci5QYXJlbnQgPSBTZW5kUGFuZWwKCmxvY2FsIFNlbmRUaXRsZSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKU2VuZFRpdGxlLk5hbWUgPSAiU2VuZFRpdGxlIgpTZW5kVGl0bGUuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjEsIDApClNlbmRUaXRsZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQpTZW5kVGl0bGUuVGV4dCA9ICLlj5HpgIHmtojmga8iClNlbmRUaXRsZS5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKU2VuZFRpdGxlLkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2Fuc0JvbGQKU2VuZFRpdGxlLlRleHRTaXplID0gMTgKU2VuZFRpdGxlLlBhcmVudCA9IFNlbmRQYW5lbAoKbG9jYWwgTWVzc2FnZUlucHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKTWVzc2FnZUlucHV0Lk5hbWUgPSAiTWVzc2FnZUlucHV0IgpNZXNzYWdlSW5wdXQuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuNiwgMCkKTWVzc2FnZUlucHV0LlBvc2l0aW9uID0gVURpbTIubmV3KDAuMDUsIDAsIDAuMTUsIDApCk1lc3NhZ2VJbnB1dC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjAsIDYwLCA2MCkKTWVzc2FnZUlucHV0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQpNZXNzYWdlSW5wdXQuRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zCk1lc3NhZ2VJbnB1dC5UZXh0U2l6ZSA9IDE2Ck1lc3NhZ2VJbnB1dC5UZXh0V3JhcHBlZCA9IHRydWUKTWVzc2FnZUlucHV0LlBsYWNlaG9sZGVyVGV4dCA9ICLovpPlhaXmtojmga8uLi4iCk1lc3NhZ2VJbnB1dC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UKTWVzc2FnZUlucHV0LlRleHQgPSAiIgpNZXNzYWdlSW5wdXQuUGFyZW50ID0gU2VuZFBhbmVsCgpsb2NhbCBTZW5kQnV0dG9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKU2VuZEJ1dHRvbi5OYW1lID0gIlNlbmRCdXR0b24iClNlbmRCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuMiwgMCkKU2VuZEJ1dHRvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjA1LCAwLCAwLjgsIDApClNlbmRCdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDEyMCwgMjE1KQpTZW5kQnV0dG9uLkJvcmRlclNpemVQaXhlbCA9IDAKU2VuZEJ1dHRvbi5UZXh0ID0gIuWPkemAgSIKU2VuZEJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKU2VuZEJ1dHRvbi5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkClNlbmRCdXR0b24uVGV4dFNpemUgPSAxNgpTZW5kQnV0dG9uLlBhcmVudCA9IFNlbmRQYW5lbAoKbG9jYWwgaXNDaGF0RW5hYmxlZCA9IHRydWUKbG9jYWwgaXNWaXNpYmxlID0gdHJ1ZQpsb2NhbCBub3RpZmljYXRpb25zRW5hYmxlZCA9IHRydWUKbG9jYWwgc291bmRJZCA9ICJyYnhhc3NldGlkOi8vMjg2NTIyNzI3MSIKbG9jYWwgaXNEcmFnZ2luZyA9IGZhbHNlCmxvY2FsIGlzSGlkZUJ1dHRvbkRyYWdnaW5nID0gZmFsc2UKbG9jYWwgZHJhZ1N0YXJ0UG9zLCBmcmFtZVN0YXJ0UG9zLCBoaWRlQnV0dG9uU3RhcnRQb3MKbG9jYWwgYWN0aXZlTm90aWZpY2F0aW9ucyA9IHt9Cgpsb2NhbCBzb3VuZCA9IEluc3RhbmNlLm5ldygiU291bmQiKQpzb3VuZC5Tb3VuZElkID0gc291bmRJZApzb3VuZC5QYXJlbnQgPSBDaGF0VUkKCmxvY2FsIGF2YXRhckNhY2hlID0ge30KbG9jYWwgZGlzcGxheU5hbWVDYWNoZSA9IHt9Cgpsb2NhbCBmdW5jdGlvbiBHZXRQbGF5ZXJEaXNwbGF5TmFtZSh1c2VySWQpCiAgICBpZiBkaXNwbGF5TmFtZUNhY2hlW3VzZXJJZF0gdGhlbgogICAgICAgIHJldHVybiBkaXNwbGF5TmFtZUNhY2hlW3VzZXJJZF0KICAgIGVuZAogICAgCiAgICBsb2NhbCBwbGF5ZXIgPSBQbGF5ZXJzOkdldFBsYXllckJ5VXNlcklkKHVzZXJJZCkKICAgIGlmIHBsYXllciB0aGVuCiAgICAgICAgZGlzcGxheU5hbWVDYWNoZVt1c2VySWRdID0gcGxheWVyLkRpc3BsYXlOYW1lCiAgICAgICAgcmV0dXJuIHBsYXllci5EaXNwbGF5TmFtZQogICAgZW5kCiAgICByZXR1cm4gIiIKZW5kCgpsb2NhbCBmdW5jdGlvbiBHZXRQbGF5ZXJBdmF0YXIodXNlcklkKQogICAgaWYgYXZhdGFyQ2FjaGVbdXNlcklkXSB0aGVuCiAgICAgICAgcmV0dXJuIGF2YXRhckNhY2hlW3VzZXJJZF0KICAgIGVuZAogICAgCiAgICBsb2NhbCBzdWNjZXNzLCByZXN1bHQgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgcmV0dXJuIFBsYXllcnM6R2V0VXNlclRodW1ibmFpbEFzeW5jKHVzZXJJZCwgRW51bS5UaHVtYm5haWxUeXBlLkhlYWRTaG90LCBFbnVtLlRodW1ibmFpbFNpemUuU2l6ZTEwMHgxMDApCiAgICBlbmQpCiAgICAKICAgIGlmIHN1Y2Nlc3MgdGhlbgogICAgICAgIGF2YXRhckNhY2hlW3VzZXJJZF0gPSByZXN1bHQKICAgICAgICByZXR1cm4gcmVzdWx0CiAgICBlbHNlCiAgICAgICAgcmV0dXJuICJyYnhhc3NldGlkOi8vMCIKICAgIGVuZAplbmQKCmxvY2FsIGZ1bmN0aW9uIEFuaW1hdGVCdXR0b24oYnV0dG9uKQogICAgbG9jYWwgb3JpZ2luYWxTaXplID0gYnV0dG9uLlNpemUKICAgIGxvY2FsIG9yaWdpbmFsUG9zID0gYnV0dG9uLlBvc2l0aW9uCiAgICAKICAgIGxvY2FsIHNjYWxlVXAgPSBUd2VlblNlcnZpY2U6Q3JlYXRlKGJ1dHRvbiwgVHdlZW5JbmZvLm5ldygwLjEsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCwgRW51bS5FYXNpbmdEaXJlY3Rpb24uT3V0KSwgewogICAgICAgIFNpemUgPSBvcmlnaW5hbFNpemUgKiAxLjA1LAogICAgICAgIFBvc2l0aW9uID0gb3JpZ2luYWxQb3MgLSBVRGltMi5uZXcoMC4wMjUsIDAsIDAuMDI1LCAwKQogICAgfSkKICAgIAogICAgbG9jYWwgc2NhbGVEb3duID0gVHdlZW5TZXJ2aWNlOkNyZWF0ZShidXR0b24sIFR3ZWVuSW5mby5uZXcoMC4xLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQsIEVudW0uRWFzaW5nRGlyZWN0aW9uLk91dCksIHsKICAgICAgICBTaXplID0gb3JpZ2luYWxTaXplLAogICAgICAgIFBvc2l0aW9uID0gb3JpZ2luYWxQb3MKICAgIH0pCiAgICAKICAgIHNjYWxlVXA6UGxheSgpCiAgICBzY2FsZVVwLkNvbXBsZXRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBzY2FsZURvd246UGxheSgpCiAgICBlbmQpCmVuZAoKZm9yIF8sIGJ1dHRvbiBpbiBwYWlycyh7Q2xvc2VCdXR0b24sIE5vdGlmeUJ1dHRvbiwgU2VuZEJ1dHRvbiwgSGlkZUJ1dHRvbn0pIGRvCiAgICBidXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgQW5pbWF0ZUJ1dHRvbihidXR0b24pCiAgICBlbmQpCmVuZAoKbG9jYWwgZnVuY3Rpb24gU3RhcnREcmFnKGlucHV0KQogICAgaWYgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24xIG9yIGlucHV0LlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLlRvdWNoIHRoZW4KICAgICAgICBpc0RyYWdnaW5nID0gdHJ1ZQogICAgICAgIGRyYWdTdGFydFBvcyA9IFZlY3RvcjIubmV3KGlucHV0LlBvc2l0aW9uLlgsIGlucHV0LlBvc2l0aW9uLlkpCiAgICAgICAgZnJhbWVTdGFydFBvcyA9IFZlY3RvcjIubmV3KE1haW5GcmFtZS5Qb3NpdGlvbi5YLk9mZnNldCwgTWFpbkZyYW1lLlBvc2l0aW9uLlkuT2Zmc2V0KQogICAgICAgIAogICAgICAgIGxvY2FsIGRyYWdDb25uZWN0aW9uCiAgICAgICAgZHJhZ0Nvbm5lY3Rpb24gPSBpbnB1dC5DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBpbnB1dC5Vc2VySW5wdXRTdGF0ZSA9PSBFbnVtLlVzZXJJbnB1dFN0YXRlLkVuZCB0aGVuCiAgICAgICAgICAgICAgICBpc0RyYWdnaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIGRyYWdDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kCgpsb2NhbCBmdW5jdGlvbiBVcGRhdGVEcmFnKGlucHV0KQogICAgaWYgaXNEcmFnZ2luZyB0aGVuCiAgICAgICAgbG9jYWwgZGVsdGEgPSBWZWN0b3IyLm5ldyhpbnB1dC5Qb3NpdGlvbi5YLCBpbnB1dC5Qb3NpdGlvbi5ZKSAtIGRyYWdTdGFydFBvcwogICAgICAgIGxvY2FsIG5ld1BvcyA9IGZyYW1lU3RhcnRQb3MgKyBkZWx0YQogICAgICAgIAogICAgICAgIGxvY2FsIHZpZXdwb3J0U2l6ZSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLlZpZXdwb3J0U2l6ZQogICAgICAgIGxvY2FsIGZyYW1lU2l6ZSA9IE1haW5GcmFtZS5BYnNvbHV0ZVNpemUKICAgICAgICAKICAgICAgICBuZXdQb3MgPSBWZWN0b3IyLm5ldygKICAgICAgICAgICAgbWF0aC5jbGFtcChuZXdQb3MuWCwgMCwgdmlld3BvcnRTaXplLlggLSBmcmFtZVNpemUuWCksCiAgICAgICAgICAgIG1hdGguY2xhbXAobmV3UG9zLlksIDAsIHZpZXdwb3J0U2l6ZS5ZIC0gZnJhbWVTaXplLlkpCiAgICAgICAgKQogICAgICAgIAogICAgICAgIE1haW5GcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCBuZXdQb3MuWCwgMCwgbmV3UG9zLlkpCiAgICBlbmQKZW5kCgpsb2NhbCBmdW5jdGlvbiBTdGFydEhpZGVCdXR0b25EcmFnKGlucHV0KQogICAgaWYgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24xIG9yIGlucHV0LlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLlRvdWNoIHRoZW4KICAgICAgICBpc0hpZGVCdXR0b25EcmFnZ2luZyA9IHRydWUKICAgICAgICBkcmFnU3RhcnRQb3MgPSBWZWN0b3IyLm5ldyhpbnB1dC5Qb3NpdGlvbi5YLCBpbnB1dC5Qb3NpdGlvbi5ZKQogICAgICAgIGhpZGVCdXR0b25TdGFydFBvcyA9IFZlY3RvcjIubmV3KEhpZGVCdXR0b24uUG9zaXRpb24uWC5PZmZzZXQsIEhpZGVCdXR0b24uUG9zaXRpb24uWS5PZmZzZXQpCiAgICAgICAgCiAgICAgICAgbG9jYWwgZHJhZ0Nvbm5lY3Rpb24KICAgICAgICBkcmFnQ29ubmVjdGlvbiA9IGlucHV0LkNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIGlucHV0LlVzZXJJbnB1dFN0YXRlID09IEVudW0uVXNlcklucHV0U3RhdGUuRW5kIHRoZW4KICAgICAgICAgICAgICAgIGlzSGlkZUJ1dHRvbkRyYWdnaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIGRyYWdDb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kCgpsb2NhbCBmdW5jdGlvbiBVcGRhdGVIaWRlQnV0dG9uRHJhZyhpbnB1dCkKICAgIGlmIGlzSGlkZUJ1dHRvbkRyYWdnaW5nIHRoZW4KICAgICAgICBsb2NhbCBkZWx0YSA9IFZlY3RvcjIubmV3KGlucHV0LlBvc2l0aW9uLlgsIGlucHV0LlBvc2l0aW9uLlkpIC0gZHJhZ1N0YXJ0UG9zCiAgICAgICAgbG9jYWwgbmV3UG9zID0gaGlkZUJ1dHRvblN0YXJ0UG9zICsgZGVsdGEKICAgICAgICAKICAgICAgICBsb2NhbCB2aWV3cG9ydFNpemUgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5WaWV3cG9ydFNpemUKICAgICAgICBsb2NhbCBidXR0b25TaXplID0gSGlkZUJ1dHRvbi5BYnNvbHV0ZVNpemUKICAgICAgICAKICAgICAgICBuZXdQb3MgPSBWZWN0b3IyLm5ldygKICAgICAgICAgICAgbWF0aC5jbGFtcChuZXdQb3MuWCwgMCwgdmlld3BvcnRTaXplLlggLSBidXR0b25TaXplLlgpLAogICAgICAgICAgICBtYXRoLmNsYW1wKG5ld1Bvcy5ZLCAwLCB2aWV3cG9ydFNpemUuWSAtIGJ1dHRvblNpemUuWSkKICAgICAgICApCiAgICAgICAgCiAgICAgICAgSGlkZUJ1dHRvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCBuZXdQb3MuWCwgMCwgbmV3UG9zLlkpCiAgICBlbmQKZW5kCgpUaXRsZUJhci5JbnB1dEJlZ2FuOkNvbm5lY3QoU3RhcnREcmFnKQpIaWRlQnV0dG9uLklucHV0QmVnYW46Q29ubmVjdChTdGFydEhpZGVCdXR0b25EcmFnKQoKVXNlcklucHV0U2VydmljZS5JbnB1dENoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpbnB1dCkKICAgIGlmIGlucHV0LlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlTW92ZW1lbnQgb3IgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuVG91Y2ggdGhlbgogICAgICAgIFVwZGF0ZURyYWcoaW5wdXQpCiAgICAgICAgVXBkYXRlSGlkZUJ1dHRvbkRyYWcoaW5wdXQpCiAgICBlbmQKZW5kKQoKbG9jYWwgZnVuY3Rpb24gVG9nZ2xlVmlzaWJpbGl0eSgpCiAgICBpc1Zpc2libGUgPSBub3QgaXNWaXNpYmxlCiAgICAKICAgIGxvY2FsIHR3ZWVuSW5mbyA9IFR3ZWVuSW5mby5uZXcoMC4zLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQsIEVudW0uRWFzaW5nRGlyZWN0aW9uLkluT3V0KQogICAgCiAgICBpZiBpc1Zpc2libGUgdGhlbgogICAgICAgIEhpZGVCdXR0b24uVGV4dCA9ICI+IgogICAgICAgIGxvY2FsIHR3ZWVuTWFpbiA9IFR3ZWVuU2VydmljZTpDcmVhdGUoTWFpbkZyYW1lLCB0d2VlbkluZm8sIHsKICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMywKICAgICAgICAgICAgU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuNSwgMCkKICAgICAgICB9KQogICAgICAgIGxvY2FsIHR3ZWVuU2VuZCA9IFR3ZWVuU2VydmljZTpDcmVhdGUoU2VuZFBhbmVsLCB0d2VlbkluZm8sIHsKICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMywKICAgICAgICAgICAgU2l6ZSA9IFVEaW0yLm5ldygwLjI1LCAwLCAwLjUsIDApCiAgICAgICAgfSkKICAgICAgICB0d2Vlbk1haW46UGxheSgpCiAgICAgICAgdHdlZW5TZW5kOlBsYXkoKQogICAgICAgIENoYXRTY3JvbGxlci5WaXNpYmxlID0gdHJ1ZQogICAgICAgIENvbnRyb2xQYW5lbC5WaXNpYmxlID0gdHJ1ZQogICAgICAgIFRpdGxlVGV4dC5WaXNpYmxlID0gdHJ1ZQogICAgICAgIFNlbmRQYW5lbC5WaXNpYmxlID0gdHJ1ZQogICAgZWxzZQogICAgICAgIEhpZGVCdXR0b24uVGV4dCA9ICI8IgogICAgICAgIGxvY2FsIHR3ZWVuTWFpbiA9IFR3ZWVuU2VydmljZTpDcmVhdGUoTWFpbkZyYW1lLCB0d2VlbkluZm8sIHsKICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCiAgICAgICAgICAgIFNpemUgPSBVRGltMi5uZXcoMC4wNSwgMCwgMC4wOCwgMCkKICAgICAgICB9KQogICAgICAgIGxvY2FsIHR3ZWVuU2VuZCA9IFR3ZWVuU2VydmljZTpDcmVhdGUoU2VuZFBhbmVsLCB0d2VlbkluZm8sIHsKICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCiAgICAgICAgICAgIFNpemUgPSBVRGltMi5uZXcoMC4wNSwgMCwgMC4wOCwgMCkKICAgICAgICB9KQogICAgICAgIHR3ZWVuTWFpbjpQbGF5KCkKICAgICAgICB0d2VlblNlbmQ6UGxheSgpCiAgICAgICAgQ2hhdFNjcm9sbGVyLlZpc2libGUgPSBmYWxzZQogICAgICAgIENvbnRyb2xQYW5lbC5WaXNpYmxlID0gZmFsc2UKICAgICAgICBUaXRsZVRleHQuVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgU2VuZFBhbmVsLlZpc2libGUgPSBmYWxzZQogICAgZW5kCmVuZAoKSGlkZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIGlmIG5vdCBpc0hpZGVCdXR0b25EcmFnZ2luZyB0aGVuCiAgICAgICAgVG9nZ2xlVmlzaWJpbGl0eSgpCiAgICBlbmQKZW5kKQoKbG9jYWwgZnVuY3Rpb24gQWRkTWVzc2FnZVRvQ2hhdChwbGF5ZXJOYW1lLCBtZXNzYWdlLCBwbGF5ZXJVc2VySWQpCiAgICBsb2NhbCBkaXNwbGF5TmFtZSA9IEdldFBsYXllckRpc3BsYXlOYW1lKHBsYXllclVzZXJJZCkKICAgIGxvY2FsIG5hbWVXaXRoRGlzcGxheSA9IHBsYXllck5hbWUKICAgIGlmIGRpc3BsYXlOYW1lIH49ICIiIGFuZCBkaXNwbGF5TmFtZSB+PSBwbGF5ZXJOYW1lIHRoZW4KICAgICAgICBuYW1lV2l0aERpc3BsYXkgPSBwbGF5ZXJOYW1lIC4uICIgKCIgLi4gZGlzcGxheU5hbWUgLi4gIikiCiAgICBlbmQKICAgIAogICAgbG9jYWwgbWVzc2FnZUZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCiAgICBtZXNzYWdlRnJhbWUuTmFtZSA9ICJNZXNzYWdlRnJhbWUiCiAgICBtZXNzYWdlRnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMTAsIDAsIDApCiAgICBtZXNzYWdlRnJhbWUuQXV0b21hdGljU2l6ZSA9IEVudW0uQXV0b21hdGljU2l6ZS5ZCiAgICBtZXNzYWdlRnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIG1lc3NhZ2VGcmFtZS5MYXlvdXRPcmRlciA9ICNDaGF0U2Nyb2xsZXI6R2V0Q2hpbGRyZW4oKQogICAgbWVzc2FnZUZyYW1lLlBhcmVudCA9IENoYXRTY3JvbGxlcgogICAgCiAgICBsb2NhbCBhdmF0YXIgPSBHZXRQbGF5ZXJBdmF0YXIocGxheWVyVXNlcklkKQogICAgCiAgICBsb2NhbCBhdmF0YXJJbWFnZSA9IEluc3RhbmNlLm5ldygiSW1hZ2VMYWJlbCIpCiAgICBhdmF0YXJJbWFnZS5OYW1lID0gIkF2YXRhciIKICAgIGF2YXRhckltYWdlLlNpemUgPSBVRGltMi5uZXcoMC4xLCAwLCAwLjEsIDApCiAgICBhdmF0YXJJbWFnZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQogICAgYXZhdGFySW1hZ2UuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIGF2YXRhckltYWdlLkltYWdlID0gYXZhdGFyCiAgICBhdmF0YXJJbWFnZS5QYXJlbnQgPSBtZXNzYWdlRnJhbWUKICAgIAogICAgbG9jYWwgbmFtZUxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgbmFtZUxhYmVsLk5hbWUgPSAiTmFtZUxhYmVsIgogICAgbmFtZUxhYmVsLlNpemUgPSBVRGltMi5uZXcoMC44LCAwLCAwLjEsIDApCiAgICBuYW1lTGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMC4xMiwgMCwgMCwgMCkKICAgIG5hbWVMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgbmFtZUxhYmVsLlRleHQgPSBuYW1lV2l0aERpc3BsYXkKICAgIG5hbWVMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgIG5hbWVMYWJlbC5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkCiAgICBuYW1lTGFiZWwuVGV4dFNpemUgPSAxNAogICAgbmFtZUxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CiAgICBuYW1lTGFiZWwuUGFyZW50ID0gbWVzc2FnZUZyYW1lCiAgICAKICAgIGxvY2FsIG1lc3NhZ2VMYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKICAgIG1lc3NhZ2VMYWJlbC5OYW1lID0gIk1lc3NhZ2VMYWJlbCIKICAgIG1lc3NhZ2VMYWJlbC5TaXplID0gVURpbTIubmV3KDAuOCwgMCwgMCwgMCkKICAgIG1lc3NhZ2VMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjEyLCAwLCAwLjEsIDApCiAgICBtZXNzYWdlTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIG1lc3NhZ2VMYWJlbC5UZXh0ID0gbWVzc2FnZQogICAgbWVzc2FnZUxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMjAsIDIyMCwgMjIwKQogICAgbWVzc2FnZUxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2FucwogICAgbWVzc2FnZUxhYmVsLlRleHRTaXplID0gMTQKICAgIG1lc3NhZ2VMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAogICAgbWVzc2FnZUxhYmVsLlRleHRZQWxpZ25tZW50ID0gRW51bS5UZXh0WUFsaWdubWVudC5Ub3AKICAgIG1lc3NhZ2VMYWJlbC5UZXh0V3JhcHBlZCA9IHRydWUKICAgIG1lc3NhZ2VMYWJlbC5BdXRvbWF0aWNTaXplID0gRW51bS5BdXRvbWF0aWNTaXplLlkKICAgIG1lc3NhZ2VMYWJlbC5QYXJlbnQgPSBtZXNzYWdlRnJhbWUKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gVXBkYXRlQ2hhdFNpemUoKQogICAgICAgIGxvY2FsIHRvdGFsSGVpZ2h0ID0gMAogICAgICAgIGZvciBfLCBjaGlsZCBpbiBpcGFpcnMoQ2hhdFNjcm9sbGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgIGlmIGNoaWxkOklzQSgiRnJhbWUiKSB0aGVuCiAgICAgICAgICAgICAgICB0b3RhbEhlaWdodCA9IHRvdGFsSGVpZ2h0ICsgY2hpbGQuQWJzb2x1dGVTaXplLlkgKyBDaGF0TGF5b3V0LlBhZGRpbmcuT2Zmc2V0CiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIG1heEhlaWdodCA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLlZpZXdwb3J0U2l6ZS5ZICogMC43CiAgICAgICAgQ2hhdFNjcm9sbGVyLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5taW4odG90YWxIZWlnaHQsIG1heEhlaWdodCkpCiAgICAgICAgCiAgICAgICAgdGFzay53YWl0KCkKICAgICAgICBDaGF0U2Nyb2xsZXIuQ2FudmFzUG9zaXRpb24gPSBWZWN0b3IyLm5ldygwLCBDaGF0U2Nyb2xsZXIuQWJzb2x1dGVDYW52YXNTaXplLlkpCiAgICBlbmQKICAgIAogICAgbWVzc2FnZUxhYmVsOkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiQWJzb2x1dGVTaXplIik6Q29ubmVjdChVcGRhdGVDaGF0U2l6ZSkKICAgIFVwZGF0ZUNoYXRTaXplKCkKZW5kCgpsb2NhbCBmdW5jdGlvbiBSZXF1ZXN0Q2xvc2UoKQogICAgU3RhcnRlckd1aTpTZXRDb3JlKCJTZW5kTm90aWZpY2F0aW9uIiwgewogICAgICAgIFRpdGxlID0gIuWFs+mXreiBiuWkqeeVjOmdoiIsCiAgICAgICAgVGV4dCA9ICLmmK/lkKbopoHlhbPpl61HYW8gSHVi6IGK5aSp6K6w5b2V5ZmoPyAoMTLnp5LlkI7oh6rliqjlj5bmtogpIiwKICAgICAgICBEdXJhdGlvbiA9IDEyLAogICAgICAgIEJ1dHRvbjEgPSAi5pivIiwKICAgICAgICBCdXR0b24yID0gIuWQpiIsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihjaG9pY2UpCiAgICAgICAgICAgIGlmIGNob2ljZSA9PSAxIHRoZW4KICAgICAgICAgICAgICAgIENoYXRVSTpEZXN0cm95KCkKICAgICAgICAgICAgICAgIFNlbmRQYW5lbDpEZXN0cm95KCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZm9yIG5vdGlmR3VpLCBfIGluIHBhaXJzKGFjdGl2ZU5vdGlmaWNhdGlvbnMpIGRvCiAgICAgICAgICAgICAgICAgICAgbm90aWZHdWk6RGVzdHJveSgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICB9KQogICAgCiAgICBzb3VuZDpQbGF5KCkKZW5kCgpDbG9zZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KFJlcXVlc3RDbG9zZSkKCmxvY2FsIGZ1bmN0aW9uIFRvZ2dsZU5vdGlmaWNhdGlvbnMoKQogICAgbm90aWZpY2F0aW9uc0VuYWJsZWQgPSBub3Qgbm90aWZpY2F0aW9uc0VuYWJsZWQKICAgIAogICAgaWYgbm90aWZpY2F0aW9uc0VuYWJsZWQgdGhlbgogICAgICAgIE5vdGlmeUJ1dHRvbi5UZXh0ID0gIumAmuefpTog5byAIgogICAgICAgIE5vdGlmeUJ1dHRvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMTIwLCAyMTUpCiAgICBlbHNlCiAgICAgICAgTm90aWZ5QnV0dG9uLlRleHQgPSAi6YCa55+lOiDlhbMiCiAgICAgICAgTm90aWZ5QnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMDAsIDEwMCwgMTAwKQogICAgZW5kCmVuZAoKTm90aWZ5QnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoVG9nZ2xlTm90aWZpY2F0aW9ucykKCmxvY2FsIGZ1bmN0aW9uIFNob3dBdmF0YXJOb3RpZmljYXRpb24ocGxheWVyTmFtZSwgbWVzc2FnZSwgcGxheWVyVXNlcklkKQogICAgaWYgbm90IG5vdGlmaWNhdGlvbnNFbmFibGVkIHRoZW4gcmV0dXJuIGVuZAogICAgCiAgICBsb2NhbCBkaXNwbGF5TmFtZSA9IEdldFBsYXllckRpc3BsYXlOYW1lKHBsYXllclVzZXJJZCkKICAgIGxvY2FsIG5hbWVXaXRoRGlzcGxheSA9IHBsYXllck5hbWUKICAgIGlmIGRpc3BsYXlOYW1lIH49ICIiIGFuZCBkaXNwbGF5TmFtZSB+PSBwbGF5ZXJOYW1lIHRoZW4KICAgICAgICBuYW1lV2l0aERpc3BsYXkgPSBwbGF5ZXJOYW1lIC4uICIgKCIgLi4gZGlzcGxheU5hbWUgLi4gIikiCiAgICBlbmQKICAgIAogICAgbG9jYWwgYXZhdGFyID0gR2V0UGxheWVyQXZhdGFyKHBsYXllclVzZXJJZCkKICAgIAogICAgbG9jYWwgbm90aWZpY2F0aW9uR3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQogICAgbm90aWZpY2F0aW9uR3VpLk5hbWUgPSAiQ2hhdE5vdGlmaWNhdGlvbl8iIC4uIHBsYXllclVzZXJJZCAuLiAiXyIgLi4gdGljaygpCiAgICBub3RpZmljYXRpb25HdWkuUmVzZXRPblNwYXduID0gZmFsc2UKICAgIG5vdGlmaWNhdGlvbkd1aS5QYXJlbnQgPSBQbGF5ZXJHdWkKICAgIAogICAgbG9jYWwgbm90aWZpY2F0aW9uRnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgIG5vdGlmaWNhdGlvbkZyYW1lLk5hbWUgPSAiTm90aWZpY2F0aW9uRnJhbWUiCiAgICBub3RpZmljYXRpb25GcmFtZS5TaXplID0gVURpbTIubmV3KDAuMywgMCwgMC4xLCAwKQogICAgCiAgICBsb2NhbCB5T2Zmc2V0ID0gMAogICAgZm9yIF8sIG5vdGlmIGluIHBhaXJzKGFjdGl2ZU5vdGlmaWNhdGlvbnMpIGRvCiAgICAgICAgeU9mZnNldCA9IHlPZmZzZXQgKyBub3RpZi5TaXplLlkuT2Zmc2V0ICsgNQogICAgZW5kCiAgICBub3RpZmljYXRpb25GcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjM1LCAwLCAwLCB5T2Zmc2V0ICsgNSkKICAgIAogICAgbm90aWZpY2F0aW9uRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQwLCA0MCwgNDApCiAgICBub3RpZmljYXRpb25GcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4yCiAgICBub3RpZmljYXRpb25GcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICBub3RpZmljYXRpb25GcmFtZS5QYXJlbnQgPSBub3RpZmljYXRpb25HdWkKICAgIAogICAgbG9jYWwgbm90aWZDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIikKICAgIG5vdGlmQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAuMDMsIDApCiAgICBub3RpZkNvcm5lci5QYXJlbnQgPSBub3RpZmljYXRpb25GcmFtZQogICAgCiAgICBsb2NhbCBhdmF0YXJJbWFnZSA9IEluc3RhbmNlLm5ldygiSW1hZ2VMYWJlbCIpCiAgICBhdmF0YXJJbWFnZS5OYW1lID0gIkF2YXRhciIKICAgIGF2YXRhckltYWdlLlNpemUgPSBVRGltMi5uZXcoMC4xNSwgMCwgMC44LCAwKQogICAgYXZhdGFySW1hZ2UuUG9zaXRpb24gPSBVRGltMi5uZXcoMC4wMiwgMCwgMC4xLCAwKQogICAgYXZhdGFySW1hZ2UuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIGF2YXRhckltYWdlLkltYWdlID0gYXZhdGFyCiAgICBhdmF0YXJJbWFnZS5QYXJlbnQgPSBub3RpZmljYXRpb25GcmFtZQogICAgCiAgICBsb2NhbCBuYW1lTGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCiAgICBuYW1lTGFiZWwuTmFtZSA9ICJOYW1lTGFiZWwiCiAgICBuYW1lTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLjYsIDAsIDAuMywgMCkKICAgIG5hbWVMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjIsIDAsIDAuMSwgMCkKICAgIG5hbWVMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgbmFtZUxhYmVsLlRleHQgPSBuYW1lV2l0aERpc3BsYXkKICAgIG5hbWVMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKICAgIG5hbWVMYWJlbC5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkCiAgICBuYW1lTGFiZWwuVGV4dFNpemUgPSAxNAogICAgbmFtZUxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CiAgICBuYW1lTGFiZWwuUGFyZW50ID0gbm90aWZpY2F0aW9uRnJhbWUKICAgIAogICAgbG9jYWwgbWVzc2FnZUxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQogICAgbWVzc2FnZUxhYmVsLk5hbWUgPSAiTWVzc2FnZUxhYmVsIgogICAgbWVzc2FnZUxhYmVsLlNpemUgPSBVRGltMi5uZXcoMC43NSwgMCwgMC41LCAwKQogICAgbWVzc2FnZUxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAuMiwgMCwgMC40LCAwKQogICAgbWVzc2FnZUxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCiAgICBtZXNzYWdlTGFiZWwuVGV4dCA9IG1lc3NhZ2UKICAgIG1lc3NhZ2VMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjIwLCAyMjAsIDIyMCkKICAgIG1lc3NhZ2VMYWJlbC5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnMKICAgIG1lc3NhZ2VMYWJlbC5UZXh0U2l6ZSA9IDE0CiAgICBtZXNzYWdlTGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKICAgIG1lc3NhZ2VMYWJlbC5UZXh0WUFsaWdubWVudCA9IEVudW0uVGV4dFlBbGlnbm1lbnQuVG9wCiAgICBtZXNzYWdlTGFiZWwuVGV4dFdyYXBwZWQgPSB0cnVlCiAgICBtZXNzYWdlTGFiZWwuUGFyZW50ID0gbm90aWZpY2F0aW9uRnJhbWUKICAgIAogICAgbG9jYWwgcHJvZ3Jlc3NCYXJCZyA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQogICAgcHJvZ3Jlc3NCYXJCZy5OYW1lID0gIlByb2dyZXNzQmFyQmciCiAgICBwcm9ncmVzc0JhckJnLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4wNSwgMCkKICAgIHByb2dyZXNzQmFyQmcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC45NSwgMCkKICAgIHByb2dyZXNzQmFyQmcuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDgwLCA4MCwgODApCiAgICBwcm9ncmVzc0JhckJnLkJvcmRlclNpemVQaXhlbCA9IDAKICAgIHByb2dyZXNzQmFyQmcuUGFyZW50ID0gbm90aWZpY2F0aW9uRnJhbWUKICAgIAogICAgbG9jYWwgcHJvZ3Jlc3NCYXIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKICAgIHByb2dyZXNzQmFyLk5hbWUgPSAiUHJvZ3Jlc3NCYXIiCiAgICBwcm9ncmVzc0Jhci5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICBwcm9ncmVzc0Jhci5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMTcwLCAyNTUpCiAgICBwcm9ncmVzc0Jhci5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICBwcm9ncmVzc0Jhci5QYXJlbnQgPSBwcm9ncmVzc0JhckJnCiAgICAKICAgIGFjdGl2ZU5vdGlmaWNhdGlvbnNbbm90aWZpY2F0aW9uR3VpXSA9IG5vdGlmaWNhdGlvbkZyYW1lCiAgICAKICAgIHNvdW5kOlBsYXkoKQogICAgCiAgICBsb2NhbCBkdXJhdGlvbiA9IDUKICAgIGxvY2FsIHN0YXJ0VGltZSA9IHRpY2soKQogICAgCiAgICBsb2NhbCBjb25uZWN0aW9uCiAgICBjb25uZWN0aW9uID0gUnVuU2VydmljZS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgZWxhcHNlZCA9IHRpY2soKSAtIHN0YXJ0VGltZQogICAgICAgIGxvY2FsIHByb2dyZXNzID0gMSAtIChlbGFwc2VkIC8gZHVyYXRpb24pCiAgICAgICAgCiAgICAgICAgaWYgcHJvZ3Jlc3MgPD0gMCB0aGVuCiAgICAgICAgICAgIGNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkd1aTpEZXN0cm95KCkKICAgICAgICAgICAgYWN0aXZlTm90aWZpY2F0aW9uc1tub3RpZmljYXRpb25HdWldID0gbmlsCiAgICAgICAgZWxzZQogICAgICAgICAgICBwcm9ncmVzc0Jhci5TaXplID0gVURpbTIubmV3KHByb2dyZXNzLCAwLCAxLCAwKQogICAgICAgIGVuZAogICAgZW5kKQplbmQKCmxvY2FsIGZ1bmN0aW9uIFNlbmRNZXNzYWdlKCkKICAgIGxvY2FsIG1lc3NhZ2UgPSBNZXNzYWdlSW5wdXQuVGV4dAogICAgaWYgbWVzc2FnZSA9PSAiIiB0aGVuIHJldHVybiBlbmQKICAgIAogICAgbG9jYWwgc3VjY2VzcywgZXJyb3JNc2cgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLkRlZmF1bHRDaGF0U3lzdGVtQ2hhdEV2ZW50cy5TYXlNZXNzYWdlUmVxdWVzdDpGaXJlU2VydmVyKG1lc3NhZ2UsICJBbGwiKQogICAgICAgIAogICAgICAgIGlmIG5vdCBzdWNjZXNzIHRoZW4KICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLkRlZmF1bHRDaGF0U3lzdGVtQ2hhdEV2ZW50cy5Pbk1lc3NhZ2VEb25lRmlsdGVyaW5nLk9uQ2xpZW50RXZlbnQ6V2FpdCgpCiAgICAgICAgICAgIExvY2FsUGxheWVyLkNoYXR0ZWQ6RmlyZShtZXNzYWdlKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIEFkZE1lc3NhZ2VUb0NoYXQoTG9jYWxQbGF5ZXIuTmFtZSwgbWVzc2FnZSwgTG9jYWxQbGF5ZXIuVXNlcklkKQogICAgICAgIE1lc3NhZ2VJbnB1dC5UZXh0ID0gIiIKICAgIGVuZCkKICAgIAogICAgaWYgbm90IHN1Y2Nlc3MgdGhlbgogICAgICAgIHdhcm4oIuWumOaWueiBiuWkqeezu+e7n+WPkemAgeWksei0pToiLCBlcnJvck1zZykKICAgICAgICAKICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIExvY2FsUGxheWVyLkNoYXR0ZWQ6RmlyZShtZXNzYWdlKQogICAgICAgICAgICBBZGRNZXNzYWdlVG9DaGF0KExvY2FsUGxheWVyLk5hbWUsIG1lc3NhZ2UsIExvY2FsUGxheWVyLlVzZXJJZCkKICAgICAgICAgICAgTWVzc2FnZUlucHV0LlRleHQgPSAiIgogICAgICAgIGVuZCkKICAgIGVuZAplbmQKClNlbmRCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChTZW5kTWVzc2FnZSkKCk1lc3NhZ2VJbnB1dC5Gb2N1c0xvc3Q6Q29ubmVjdChmdW5jdGlvbihlbnRlclByZXNzZWQpCiAgICBpZiBlbnRlclByZXNzZWQgdGhlbgogICAgICAgIFNlbmRNZXNzYWdlKCkKICAgIGVuZAplbmQpCgpsb2NhbCBmdW5jdGlvbiBPbkNoYXRNZXNzYWdlKG1lc3NhZ2UsIHNwZWFrZXIpCiAgICBBZGRNZXNzYWdlVG9DaGF0KHNwZWFrZXIuTmFtZSwgbWVzc2FnZSwgc3BlYWtlci5Vc2VySWQpCiAgICAKICAgIFNob3dBdmF0YXJOb3RpZmljYXRpb24oc3BlYWtlci5OYW1lLCBtZXNzYWdlLCBzcGVha2VyLlVzZXJJZCkKZW5kCgpsb2NhbCBmdW5jdGlvbiBTZXR1cFBsYXllckNoYXQocGxheWVyKQogICAgcGxheWVyLkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtZXNzYWdlKQogICAgICAgIE9uQ2hhdE1lc3NhZ2UobWVzc2FnZSwgcGxheWVyKQogICAgZW5kKQplbmQKCmZvciBfLCBwbGF5ZXIgaW4gaXBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgaWYgcGxheWVyIH49IExvY2FsUGxheWVyIHRoZW4KICAgICAgICBTZXR1cFBsYXllckNoYXQocGxheWVyKQogICAgZW5kCmVuZAoKUGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHBsYXllcikKICAgIFNldHVwUGxheWVyQ2hhdChwbGF5ZXIpCmVuZCkKCgppZiBVc2VySW5wdXRTZXJ2aWNlLlRvdWNoRW5hYmxlZCB0aGVuCgogICAgQ2xvc2VCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygwLjQsIDAsIDAuOCwgMCkKICAgIE5vdGlmeUJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC44LCAwKQogICAgU2VuZEJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC4yNSwgMCkKICAgIEhpZGVCdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygwLjA4LCAwLCAwLjEyLCAwKQoKICAgIENsb3NlQnV0dG9uLlRleHRTaXplID0gMTgKICAgIE5vdGlmeUJ1dHRvbi5UZXh0U2l6ZSA9IDE4CiAgICBTZW5kQnV0dG9uLlRleHRTaXplID0gMTgKICAgIE1lc3NhZ2VJbnB1dC5UZXh0U2l6ZSA9IDE4CiAgICBIaWRlQnV0dG9uLlRleHRTaXplID0gMjAKICAgIAogICAgQ2hhdFNjcm9sbGVyLkNoaWxkQWRkZWQ6Q29ubmVjdChmdW5jdGlvbihjaGlsZCkKICAgICAgICBpZiBjaGlsZDpJc0EoIkZyYW1lIikgYW5kIGNoaWxkOkZpbmRGaXJzdENoaWxkKCJNZXNzYWdlTGFiZWwiKSB0aGVuCiAgICAgICAgICAgIGNoaWxkLk1lc3NhZ2VMYWJlbC5UZXh0U2l6ZSA9IDE2CiAgICAgICAgICAgIGNoaWxkLk5hbWVMYWJlbC5UZXh0U2l6ZSA9IDE2CiAgICAgICAgZW5kCiAgICBlbmQpCmVuZAogICAgZW5kCn0pCgpUb29sU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5Z2Q5qCHIiwKICAgIERlc2MgPSAi5Yqg6L295Z2Q5qCH6ISa5pysIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQpsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKbG9jYWwgVXNlcklucHV0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCmxvY2FsIFR3ZWVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVHdlZW5TZXJ2aWNlIikKCmxvY2FsIHBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgY2hhcmFjdGVyID0gcGxheWVyLkNoYXJhY3RlciBvciBwbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6V2FpdCgpCmxvY2FsIGh1bWFub2lkUm9vdFBhcnQgPSBjaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCmxvY2FsIFNjcmVlbkd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikKU2NyZWVuR3VpLk5hbWUgPSAiQ29vcmRpbmF0ZVNpZGViYXIiClNjcmVlbkd1aS5QYXJlbnQgPSBwbGF5ZXIuUGxheWVyR3VpCgpsb2NhbCBTaWRlYmFyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpClNpZGViYXIuTmFtZSA9ICJTaWRlYmFyIgpTaWRlYmFyLlNpemUgPSBVRGltMi5uZXcoMC4yLCAwLCAxLCAwKQpTaWRlYmFyLlBvc2l0aW9uID0gVURpbTIubmV3KC0wLjIsIDAsIDAsIDApIApTaWRlYmFyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0NSwgNDUsIDQ1KQpTaWRlYmFyLkJvcmRlclNpemVQaXhlbCA9IDAKU2lkZWJhci5DbGlwc0Rlc2NlbmRhbnRzID0gdHJ1ZQpTaWRlYmFyLlBhcmVudCA9IFNjcmVlbkd1aQoKbG9jYWwgQ29udGVudCA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQpDb250ZW50Lk5hbWUgPSAiQ29udGVudCIKQ29udGVudC5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCkNvbnRlbnQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKQ29udGVudC5QYXJlbnQgPSBTaWRlYmFyCgpsb2NhbCBUaXRsZSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKVGl0bGUuTmFtZSA9ICJUaXRsZSIKVGl0bGUuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDMwKQpUaXRsZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMTApClRpdGxlLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxClRpdGxlLlRleHQgPSAi5Z2Q5qCH5bel5YW3IgpUaXRsZS5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKVGl0bGUuRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zQm9sZApUaXRsZS5UZXh0U2l6ZSA9IDIwClRpdGxlLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0ClRpdGxlLlBhcmVudCA9IENvbnRlbnQKCmxvY2FsIEN1cnJlbnRQb3NpdGlvbkxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQpDdXJyZW50UG9zaXRpb25MYWJlbC5OYW1lID0gIkN1cnJlbnRQb3NpdGlvbkxhYmVsIgpDdXJyZW50UG9zaXRpb25MYWJlbC5TaXplID0gVURpbTIubmV3KDEsIC0yMCwgMCwgMjApCkN1cnJlbnRQb3NpdGlvbkxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCA1MCkKQ3VycmVudFBvc2l0aW9uTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKQ3VycmVudFBvc2l0aW9uTGFiZWwuVGV4dCA9ICLlvZPliY3kvY3nva46IOacquiOt+WPliIKQ3VycmVudFBvc2l0aW9uTGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwMCwgMjAwLCAyMDApCkN1cnJlbnRQb3NpdGlvbkxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2FucwpDdXJyZW50UG9zaXRpb25MYWJlbC5UZXh0U2l6ZSA9IDE2CkN1cnJlbnRQb3NpdGlvbkxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CkN1cnJlbnRQb3NpdGlvbkxhYmVsLlBhcmVudCA9IENvbnRlbnQKCmxvY2FsIEdldFBvc2l0aW9uQnV0dG9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKR2V0UG9zaXRpb25CdXR0b24uTmFtZSA9ICJHZXRQb3NpdGlvbkJ1dHRvbiIKR2V0UG9zaXRpb25CdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDMwKQpHZXRQb3NpdGlvbkJ1dHRvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgODApCkdldFBvc2l0aW9uQnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig3MCwgNzAsIDcwKQpHZXRQb3NpdGlvbkJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCkdldFBvc2l0aW9uQnV0dG9uLlRleHQgPSAi6I635Y+W5b2T5YmN5L2N572u5bm25aSN5Yi2IgpHZXRQb3NpdGlvbkJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKR2V0UG9zaXRpb25CdXR0b24uRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zCkdldFBvc2l0aW9uQnV0dG9uLlRleHRTaXplID0gMTYKR2V0UG9zaXRpb25CdXR0b24uUGFyZW50ID0gQ29udGVudAoKbG9jYWwgQ29vcmRpbmF0ZUlucHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKQ29vcmRpbmF0ZUlucHV0Lk5hbWUgPSAiQ29vcmRpbmF0ZUlucHV0IgpDb29yZGluYXRlSW5wdXQuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDMwKQpDb29yZGluYXRlSW5wdXQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDEyMCkKQ29vcmRpbmF0ZUlucHV0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig2MCwgNjAsIDYwKQpDb29yZGluYXRlSW5wdXQuQm9yZGVyU2l6ZVBpeGVsID0gMApDb29yZGluYXRlSW5wdXQuUGxhY2Vob2xkZXJUZXh0ID0gIui+k+WFpeWdkOaghyAoWCwgWSwgWikiCkNvb3JkaW5hdGVJbnB1dC5UZXh0ID0gIiIKQ29vcmRpbmF0ZUlucHV0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQpDb29yZGluYXRlSW5wdXQuRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zCkNvb3JkaW5hdGVJbnB1dC5UZXh0U2l6ZSA9IDE2CkNvb3JkaW5hdGVJbnB1dC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdApDb29yZGluYXRlSW5wdXQuUGFyZW50ID0gQ29udGVudAoKbG9jYWwgVGVsZXBvcnRCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQpUZWxlcG9ydEJ1dHRvbi5OYW1lID0gIlRlbGVwb3J0QnV0dG9uIgpUZWxlcG9ydEJ1dHRvbi5TaXplID0gVURpbTIubmV3KDEsIC0yMCwgMCwgMzApClRlbGVwb3J0QnV0dG9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCAxNjApClRlbGVwb3J0QnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig3MCwgNzAsIDcwKQpUZWxlcG9ydEJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwClRlbGVwb3J0QnV0dG9uLlRleHQgPSAi5Lyg6YCB5Yiw5Z2Q5qCHIgpUZWxlcG9ydEJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKVGVsZXBvcnRCdXR0b24uRm9udCA9IEVudW0uRm9udC5Tb3VyY2VTYW5zClRlbGVwb3J0QnV0dG9uLlRleHRTaXplID0gMTYKVGVsZXBvcnRCdXR0b24uUGFyZW50ID0gQ29udGVudAoKbG9jYWwgQ2xvc2VCdXR0b24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQpDbG9zZUJ1dHRvbi5OYW1lID0gIkNsb3NlQnV0dG9uIgpDbG9zZUJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAsIDMwLCAwLCAzMCkKQ2xvc2VCdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTMwLCAwLjUsIC0xNSkKQ2xvc2VCdXR0b24uQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLCAwLjUpCkNsb3NlQnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0NSwgNDUsIDQ1KQpDbG9zZUJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCkNsb3NlQnV0dG9uLlRleHQgPSAiPCIKQ2xvc2VCdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCkNsb3NlQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2Fuc0JvbGQKQ2xvc2VCdXR0b24uVGV4dFNpemUgPSAyMApDbG9zZUJ1dHRvbi5QYXJlbnQgPSBTaWRlYmFyCgpsb2NhbCBPcGVuQnV0dG9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKT3BlbkJ1dHRvbi5OYW1lID0gIk9wZW5CdXR0b24iCk9wZW5CdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygwLCAzMCwgMCwgNjApCk9wZW5CdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC41LCAtMzApCk9wZW5CdXR0b24uQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLCAwLjUpCk9wZW5CdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQ1LCA0NSwgNDUpCk9wZW5CdXR0b24uQm9yZGVyU2l6ZVBpeGVsID0gMApPcGVuQnV0dG9uLlRleHQgPSAiPiIKT3BlbkJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKT3BlbkJ1dHRvbi5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkCk9wZW5CdXR0b24uVGV4dFNpemUgPSAyMApPcGVuQnV0dG9uLlZpc2libGUgPSBmYWxzZQpPcGVuQnV0dG9uLlBhcmVudCA9IFNjcmVlbkd1aQoKbG9jYWwgZnVuY3Rpb24gVG9nZ2xlU2lkZWJhcihzaG93KQogICAgaWYgc2hvdyB0aGVuCiAgICAgICAgbG9jYWwgdHdlZW5JbiA9IFR3ZWVuU2VydmljZTpDcmVhdGUoCiAgICAgICAgICAgIFNpZGViYXIsCiAgICAgICAgICAgIFR3ZWVuSW5mby5uZXcoMC4zLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQsIEVudW0uRWFzaW5nRGlyZWN0aW9uLk91dCksCiAgICAgICAgICAgIHtQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKX0KICAgICAgICApCiAgICAgICAgdHdlZW5JbjpQbGF5KCkKICAgICAgICBPcGVuQnV0dG9uLlZpc2libGUgPSBmYWxzZQogICAgZWxzZQogICAgICAgIGxvY2FsIHR3ZWVuT3V0ID0gVHdlZW5TZXJ2aWNlOkNyZWF0ZSgKICAgICAgICAgICAgU2lkZWJhciwKICAgICAgICAgICAgVHdlZW5JbmZvLm5ldygwLjMsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCwgRW51bS5FYXNpbmdEaXJlY3Rpb24uT3V0KSwKICAgICAgICAgICAge1Bvc2l0aW9uID0gVURpbTIubmV3KC0wLjIsIDAsIDAsIDApfQogICAgICAgICkKICAgICAgICB0d2Vlbk91dDpQbGF5KCkKICAgICAgICBPcGVuQnV0dG9uLlZpc2libGUgPSB0cnVlCiAgICBlbmQKZW5kCgpUb2dnbGVTaWRlYmFyKHRydWUpCgpHZXRQb3NpdGlvbkJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIGlmIGh1bWFub2lkUm9vdFBhcnQgdGhlbgogICAgICAgIGxvY2FsIHBvc2l0aW9uID0gaHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgogICAgICAgIGxvY2FsIHBvc2l0aW9uVGV4dCA9IHN0cmluZy5mb3JtYXQoIiglZCwgJWQsICVkKSIsIG1hdGguZmxvb3IocG9zaXRpb24uWCksIG1hdGguZmxvb3IocG9zaXRpb24uWSksIG1hdGguZmxvb3IocG9zaXRpb24uWikpCiAgICAgICAgQ3VycmVudFBvc2l0aW9uTGFiZWwuVGV4dCA9ICLlvZPliY3kvY3nva46ICIgLi4gcG9zaXRpb25UZXh0CiAgICAgICAgCiAgICAgICAgc2V0Y2xpcGJvYXJkKHBvc2l0aW9uVGV4dCkKICAgICAgICAKICAgICAgICBsb2NhbCBvcmlnaW5hbFRleHQgPSBHZXRQb3NpdGlvbkJ1dHRvbi5UZXh0CiAgICAgICAgR2V0UG9zaXRpb25CdXR0b24uVGV4dCA9ICLlt7LlpI3liLYhIgogICAgICAgIHdhaXQoMSkKICAgICAgICBHZXRQb3NpdGlvbkJ1dHRvbi5UZXh0ID0gb3JpZ2luYWxUZXh0CiAgICBlbmQKZW5kKQoKVGVsZXBvcnRCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICBsb2NhbCB0ZXh0ID0gQ29vcmRpbmF0ZUlucHV0LlRleHQKICAgIGxvY2FsIHgsIHksIHogPSB0ZXh0Om1hdGNoKCIlKD8lcyooJS0/JWQrJS4/JWQqKSVzKiwlcyooJS0/JWQrJS4/JWQqKSVzKiwlcyooJS0/JWQrJS4/JWQqKSVzKiUpPyIpCiAgICAKICAgIGlmIHggYW5kIHkgYW5kIHogdGhlbgogICAgICAgIHgsIHksIHogPSB0b251bWJlcih4KSwgdG9udW1iZXIoeSksIHRvbnVtYmVyKHopCiAgICAgICAgaWYgaHVtYW5vaWRSb290UGFydCB0aGVuCiAgICAgICAgICAgIGh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyh4LCB5LCB6KSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIG9yaWdpbmFsVGV4dCA9IFRlbGVwb3J0QnV0dG9uLlRleHQKICAgICAgICAgICAgVGVsZXBvcnRCdXR0b24uVGV4dCA9ICLlt7LkvKDpgIEhIgogICAgICAgICAgICB3YWl0KDEpCiAgICAgICAgICAgIFRlbGVwb3J0QnV0dG9uLlRleHQgPSBvcmlnaW5hbFRleHQKICAgICAgICBlbmQKICAgIGVsc2UKICAgICAgICBsb2NhbCBvcmlnaW5hbFRleHQgPSBUZWxlcG9ydEJ1dHRvbi5UZXh0CiAgICAgICAgVGVsZXBvcnRCdXR0b24uVGV4dCA9ICLmoLzlvI/plJnor68hIgogICAgICAgIHdhaXQoMSkKICAgICAgICBUZWxlcG9ydEJ1dHRvbi5UZXh0ID0gb3JpZ2luYWxUZXh0CiAgICBlbmQKZW5kKQoKQ2xvc2VCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICBUb2dnbGVTaWRlYmFyKGZhbHNlKQplbmQpCgpPcGVuQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgVG9nZ2xlU2lkZWJhcih0cnVlKQplbmQpCgpwbGF5ZXIuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbihuZXdDaGFyYWN0ZXIpCiAgICBjaGFyYWN0ZXIgPSBuZXdDaGFyYWN0ZXIKICAgIGh1bWFub2lkUm9vdFBhcnQgPSBuZXdDaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKZW5kKQogICAgICAgIAogICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLlnZDmoIfohJrmnKzlt7LliqDovb0iLAogICAgICAgICAgICBDb250ZW50ID0gIuato+WcqOWKoOi9veWKn+iDvS4uLiIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgSWNvbiA9ICJzaGllbGQiCiAgICAgICAgfSkKICAgIGVuZAp9KQoKbG9jYWwgRVNQU2V0dGluZ3NTZWN0aW9uID0gdGhpcmRUYWI6U2VjdGlvbih7VGl0bGUgPSAiRVNQ6K6+572uIiwgT3BlbmVkID0gZmFsc2UsIEljb249Imx1Y2lkZTp0YWdzIn0pIAoKRVNQU2V0dGluZ3NTZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLmmL7npLrov73ouKrnur8iLAogICAgRGVzYyA9ICLlkK/nlKgv56aB55So6L+96Liq57q/IiwKICAgIERlZmF1bHQgPSB0cnVlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihWYWx1ZSkKICAgICAgICBpZiBFU1BFbGVtZW50cyB0aGVuCiAgICAgICAgICAgIGZvciBfLCBlc3BFbGVtZW50IGluIHBhaXJzKEVTUEVsZW1lbnRzKSBkbwogICAgICAgICAgICAgICAgaWYgZXNwRWxlbWVudCBhbmQgbm90IGVzcEVsZW1lbnQuRGVsZXRlZCBhbmQgZXNwRWxlbWVudC5DdXJyZW50U2V0dGluZ3MgYW5kIGVzcEVsZW1lbnQuQ3VycmVudFNldHRpbmdzLlRyYWNlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgZXNwRWxlbWVudC5DdXJyZW50U2V0dGluZ3MuVHJhY2VyLkVuYWJsZWQgPSBWYWx1ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpFU1BTZXR0aW5nc1NlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIuaYvuekuueureWktCIsCiAgICBEZXNjID0gIuWQr+eUqC/npoHnlKjmlrnlkJHnrq3lpLQiLAogICAgRGVmYXVsdCA9IHRydWUsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKFZhbHVlKQogICAgICAgIGlmIEVTUEVsZW1lbnRzIHRoZW4KICAgICAgICAgICAgZm9yIF8sIGVzcEVsZW1lbnQgaW4gcGFpcnMoRVNQRWxlbWVudHMpIGRvCiAgICAgICAgICAgICAgICBpZiBlc3BFbGVtZW50IGFuZCBub3QgZXNwRWxlbWVudC5EZWxldGVkIGFuZCBlc3BFbGVtZW50LkN1cnJlbnRTZXR0aW5ncyBhbmQgZXNwRWxlbWVudC5DdXJyZW50U2V0dGluZ3MuQXJyb3cgdGhlbgogICAgICAgICAgICAgICAgICAgIGVzcEVsZW1lbnQuQ3VycmVudFNldHRpbmdzLkFycm93LkVuYWJsZWQgPSBWYWx1ZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpFU1BTZXR0aW5nc1NlY3Rpb246U2xpZGVyKHsKICAgIFRpdGxlID0gIuaYvuekuui3neemuyIsCiAgICBEZXNjID0gIkVTUOacgOWkp+aYvuekuui3neemuyIsCiAgICBTdGVwID0gMTAwLAogICAgVmFsdWUgPSB7CiAgICAgICAgTWluID0gNTAwLAogICAgICAgIE1heCA9IDUwMDAwLCAKICAgICAgICBEZWZhdWx0ID0gMjAwMAogICAgfSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oVmFsdWUpCiAgICAgICAgaWYgRVNQRWxlbWVudHMgdGhlbgogICAgICAgICAgICBmb3IgXywgZXNwRWxlbWVudCBpbiBwYWlycyhFU1BFbGVtZW50cykgZG8KICAgICAgICAgICAgICAgIGlmIGVzcEVsZW1lbnQgYW5kIG5vdCBlc3BFbGVtZW50LkRlbGV0ZWQgYW5kIGVzcEVsZW1lbnQuQ3VycmVudFNldHRpbmdzIHRoZW4KICAgICAgICAgICAgICAgICAgICBlc3BFbGVtZW50LkN1cnJlbnRTZXR0aW5ncy5NYXhEaXN0YW5jZSA9IFZhbHVlCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCkVTUFNldHRpbmdzU2VjdGlvbjpTbGlkZXIoewogICAgVGl0bGUgPSAi5aGr5YWF6YCP5piO5bqmIiwKICAgIERlc2MgPSAiRVNQ5aGr5YWF6YCP5piO5bqmIiwKICAgIFN0ZXAgPSAwLjEsCiAgICBWYWx1ZSA9IHsKICAgICAgICBNaW4gPSAwLAogICAgICAgIE1heCA9IDEsCiAgICAgICAgRGVmYXVsdCA9IDAuMwogICAgfSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oVmFsdWUpCiAgICAgICAgaWYgRVNQRWxlbWVudHMgdGhlbgogICAgICAgICAgICBmb3IgXywgZXNwRWxlbWVudCBpbiBwYWlycyhFU1BFbGVtZW50cykgZG8KICAgICAgICAgICAgICAgIGlmIGVzcEVsZW1lbnQgYW5kIG5vdCBlc3BFbGVtZW50LkRlbGV0ZWQgYW5kIGVzcEVsZW1lbnQuQ3VycmVudFNldHRpbmdzIHRoZW4KICAgICAgICAgICAgICAgICAgICBlc3BFbGVtZW50LkN1cnJlbnRTZXR0aW5ncy5GaWxsVHJhbnNwYXJlbmN5ID0gVmFsdWUKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKbG9jYWwgRVNQRW5hYmxlZCA9IGZhbHNlCmxvY2FsIEVTUEVsZW1lbnRzID0ge30KCmxvY2FsIGZ1bmN0aW9uIGVuYWJsZUFkdmFuY2VkRVNQKCkKICAgIEVTUEVuYWJsZWQgPSB0cnVlCiAgICBsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gc2V0dXBQbGF5ZXJFU1AocGxheWVyKQogICAgICAgIGlmIHBsYXllciA9PSBQbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4gcmV0dXJuIGVuZAogICAgICAgIAogICAgICAgIGxvY2FsIHJhbmRvbUNvbG9yID0gQ29sb3IzLm5ldygKICAgICAgICAgICAgbWF0aC5yYW5kb20oKSwKICAgICAgICAgICAgbWF0aC5yYW5kb20oKSwgCiAgICAgICAgICAgIG1hdGgucmFuZG9tKCkKICAgICAgICApCiAgICAgICAgCiAgICAgICAgbG9jYWwgZnVuY3Rpb24gb25DaGFyYWN0ZXJBZGRlZChjaGFyYWN0ZXIpCiAgICAgICAgICAgIGlmIG5vdCBFU1BFbmFibGVkIHRoZW4gcmV0dXJuIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgaHVtYW5vaWRSb290UGFydCA9IGNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCAxMCkKICAgICAgICAgICAgaWYgbm90IGh1bWFub2lkUm9vdFBhcnQgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBFU1BFbGVtZW50c1twbGF5ZXJdIGFuZCBub3QgRVNQRWxlbWVudHNbcGxheWVyXS5EZWxldGVkIHRoZW4KICAgICAgICAgICAgICAgIEVTUEVsZW1lbnRzW3BsYXllcl06RGVzdHJveSgpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgZXNwRWxlbWVudCA9IEVTUExpYnJhcnk6QWRkKHsKICAgICAgICAgICAgICAgIE5hbWUgPSBwbGF5ZXIuTmFtZSwKICAgICAgICAgICAgICAgIE1vZGVsID0gY2hhcmFjdGVyLAogICAgICAgICAgICAgICAgQ29sb3IgPSByYW5kb21Db2xvciwKICAgICAgICAgICAgICAgIE1heERpc3RhbmNlID0gMjAwMCwKICAgICAgICAgICAgICAgIFRleHRTaXplID0gMTQsCiAgICAgICAgICAgICAgICBFU1BUeXBlID0gIkhpZ2hsaWdodCIsCiAgICAgICAgICAgICAgICBGaWxsQ29sb3IgPSByYW5kb21Db2xvciwKICAgICAgICAgICAgICAgIE91dGxpbmVDb2xvciA9IENvbG9yMy5uZXcoMSwgMSwgMSksCiAgICAgICAgICAgICAgICBGaWxsVHJhbnNwYXJlbmN5ID0gMC4zLAogICAgICAgICAgICAgICAgT3V0bGluZVRyYW5zcGFyZW5jeSA9IDAsCiAgICAgICAgICAgICAgICBUcmFjZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgRW5hYmxlZCA9IHRydWUsCiAgICAgICAgICAgICAgICAgICAgQ29sb3IgPSByYW5kb21Db2xvciwKICAgICAgICAgICAgICAgICAgICBUaGlja25lc3MgPSAxLAogICAgICAgICAgICAgICAgICAgIFRyYW5zcGFyZW5jeSA9IDAsCiAgICAgICAgICAgICAgICAgICAgRnJvbSA9ICJCb3R0b20iCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgQXJyb3cgPSB7CiAgICAgICAgICAgICAgICAgICAgRW5hYmxlZCA9IHRydWUsCiAgICAgICAgICAgICAgICAgICAgQ29sb3IgPSByYW5kb21Db2xvciwKICAgICAgICAgICAgICAgICAgICBTaXplID0gMTUsCiAgICAgICAgICAgICAgICAgICAgVHJhbnNwYXJlbmN5ID0gMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAKICAgICAgICAgICAgRVNQRWxlbWVudHNbcGxheWVyXSA9IGVzcEVsZW1lbnQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBpZiBwbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgb25DaGFyYWN0ZXJBZGRlZChwbGF5ZXIuQ2hhcmFjdGVyKQogICAgICAgIGVuZAogICAgICAgIAogICAgICAgIHBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KG9uQ2hhcmFjdGVyQWRkZWQpCiAgICBlbmQKICAgIAogICAgZm9yIF8sIHBsYXllciBpbiBwYWlycyhQbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICBzZXR1cFBsYXllckVTUChwbGF5ZXIpCiAgICBlbmQKICAgIAogICAgUGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KHNldHVwUGxheWVyRVNQKQogICAgCiAgICBXaW5kVUk6Tm90aWZ5KHsKICAgICAgICBUaXRsZSA9ICJlc3Dlt7LlkK/nlKgiLAogICAgICAgIENvbnRlbnQgPSAi5L2/55SoRVNQ5bqT55qE5aKe5by66YCP6KeG5Yqf6IO9IiwKICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgSWNvbiA9ICJleWUiCiAgICB9KQplbmQKCmxvY2FsIGZ1bmN0aW9uIGRpc2FibGVBZHZhbmNlZEVTUCgpCiAgICBFU1BFbmFibGVkID0gZmFsc2UKICAgIAogICAgZm9yIHBsYXllciwgZXNwRWxlbWVudCBpbiBwYWlycyhFU1BFbGVtZW50cykgZG8KICAgICAgICBpZiBlc3BFbGVtZW50IGFuZCBub3QgZXNwRWxlbWVudC5EZWxldGVkIHRoZW4KICAgICAgICAgICAgZXNwRWxlbWVudDpEZXN0cm95KCkKICAgICAgICBlbmQKICAgIGVuZAogICAgRVNQRWxlbWVudHMgPSB7fQogICAgCiAgICBFU1BMaWJyYXJ5OkNsZWFyKCkKICAgIAogICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgVGl0bGUgPSAiZXNw6YCP6KeG5bey56aB55SoIiwgCiAgICAgICAgQ29udGVudCA9ICLmiYDmnIlFU1DlhYPntKDlt7LmuIXpmaQiLAogICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICBJY29uID0gImV5ZS1vZmYiCiAgICB9KQplbmQKCmxvY2FsIFZpc3VhbFNlY3Rpb24gPSB0aGlyZFRhYjpTZWN0aW9uKHtUaXRsZSA9ICLop4bop4nlip/og70iLCBJY29uPSJsdWNpZGU6ZXllIiwgT3BlbmVkID0gZmFsc2V9KQoKVmlzdWFsU2VjdGlvbjpUb2dnbGUoewogICAgVGl0bGUgPSAiZXNw6YCP6KeGIiwKICAgIERlc2MgPSAi5omn6KGM5ZCO5Yia5byA5aeL5Y+v6IO95Y2h6aG/IiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oc3RhdGUpCiAgICAgICAgaWYgc3RhdGUgdGhlbgogICAgICAgICAgICBlbmFibGVBZHZhbmNlZEVTUCgpCiAgICAgICAgZWxzZQogICAgICAgICAgICBkaXNhYmxlQWR2YW5jZWRFU1AoKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpWaXN1YWxTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLln7rnoYDpgI/op4YiLAogICAgRGVzYyA9ICLkvb/nlKhIaWdobGlnaHTnmoTln7rnoYDpgI/op4YiLAogICAgSWNvbiA9ICJleWUiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgX0cuRnJpZW5kQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAyNTUpCiAgICAgICAgbG9jYWwgZnVuY3Rpb24gQXBwbHlFU1AodikKICAgICAgICAgICAgaWYgdi5DaGFyYWN0ZXIgYW5kIHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygnSHVtYW5vaWQnKSB0aGVuCiAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZC5OYW1lRGlzcGxheURpc3RhbmNlID0gOWU5CiAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZC5OYW1lT2NjbHVzaW9uID0gIk5vT2NjbHVzaW9uIgogICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoRGlzcGxheURpc3RhbmNlID0gOWU5CiAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGhEaXNwbGF5VHlwZSA9ICJBbHdheXNPbiIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZm9yIGksdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgICAgICBBcHBseUVTUCh2KQogICAgICAgICAgICB2LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMzMpCiAgICAgICAgICAgICAgICBBcHBseUVTUCh2KQogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgZ2FtZS5QbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKICAgICAgICAgICAgQXBwbHlFU1AodikKICAgICAgICAgICAgdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjMzKQogICAgICAgICAgICAgICAgQXBwbHlFU1AodikKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZCkKICAgICAgICAKICAgICAgICBsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0Q2hpbGRyZW4oKQogICAgICAgIGxvY2FsIFJ1blNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKQogICAgICAgIGxvY2FsIGhpZ2hsaWdodCA9IEluc3RhbmNlLm5ldygiSGlnaGxpZ2h0IikKICAgICAgICBoaWdobGlnaHQuTmFtZSA9ICJIaWdobGlnaHQiCiAgICAgICAgaGlnaGxpZ2h0LkZpbGxUcmFuc3BhcmVuY3kgPSAwLjUKICAgICAgICBoaWdobGlnaHQuT3V0bGluZVRyYW5zcGFyZW5jeSA9IDAKICAgICAgICAKICAgICAgICBmb3IgaSwgdiBpbiBwYWlycyhQbGF5ZXJzKSBkbwogICAgICAgICAgICBpZiB2LkNoYXJhY3RlciBhbmQgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICBpZiBub3Qgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiSGlnaGxpZ2h0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGhpZ2hsaWdodENsb25lID0gaGlnaGxpZ2h0OkNsb25lKCkKICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDbG9uZS5BZG9ybmVlID0gdi5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDbG9uZS5QYXJlbnQgPSB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q2xvbmUuRGVwdGhNb2RlID0gRW51bS5IaWdobGlnaHREZXB0aE1vZGUuQWx3YXlzT25Ub3AKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICBnYW1lLlBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbihwbGF5ZXIpCiAgICAgICAgICAgIHBsYXllci5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGNoYXJhY3RlcikKICAgICAgICAgICAgICAgIHdhaXQoMSkKICAgICAgICAgICAgICAgIGlmIGNoYXJhY3RlciBhbmQgY2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBjaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiSGlnaGxpZ2h0IikgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBoaWdobGlnaHRDbG9uZSA9IGhpZ2hsaWdodDpDbG9uZSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodENsb25lLkFkb3JuZWUgPSBjaGFyYWN0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q2xvbmUuUGFyZW50ID0gY2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q2xvbmUuRGVwdGhNb2RlID0gRW51bS5IaWdobGlnaHREZXB0aE1vZGUuQWx3YXlzT25Ub3AKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kKQogICAgICAgIAogICAgICAgIGdhbWUuUGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHBsYXllclJlbW92ZWQpCiAgICAgICAgICAgIGlmIHBsYXllclJlbW92ZWQuQ2hhcmFjdGVyIGFuZCBwbGF5ZXJSZW1vdmVkLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIGhpZ2hsaWdodCA9IHBsYXllclJlbW92ZWQuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkhpZ2hsaWdodCIpCiAgICAgICAgICAgICAgICBpZiBoaWdobGlnaHQgdGhlbgogICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodDpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKfSkKClZpc3VhbFNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIuWknOinhiIsCiAgICBEZXNjID0gIlRvZ2dsZSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKFZhbHVlKQogICAgICAgIGlmIFZhbHVlIHRoZW4KICAgICAgICAgICAgZ2FtZS5MaWdodGluZy5BbWJpZW50ID0gQ29sb3IzLm5ldygxLCAxLCAxKQogICAgICAgIGVsc2UKICAgICAgICAgICAgZ2FtZS5MaWdodGluZy5BbWJpZW50ID0gQ29sb3IzLm5ldygwLCAwLCAwKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBndWFuZ3lpbmdTZWN0aW9uID0gdGhpcmRUYWI6U2VjdGlvbih7VGl0bGUgPSAi5YWJ5b2x5pWI5p6cIiwgT3BlbmVkID0gZmFsc2UsIEljb249Imx1Y2lkZTpzcGFya2xlcyJ9KQoKZ3Vhbmd5aW5nU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWJ5b2xIiwKICAgIERlc2MgPSAi5Yqg6L295YWJ5b2x5pWI5p6cIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTVpFRU4yNDI0L0dyYXBoaWNzL21haW4vR3JhcGhpY3MueG1sIikpKCkKICAgIGVuZAp9KQoKZ3Vhbmd5aW5nU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWJ5b2x5ruk6ZWcIiwKICAgIERlc2MgPSAi5Yqg6L295YWJ5b2x5ruk6ZWc5pWI5p6cIiwgCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL01aRUVOMjQyNC9HcmFwaGljcy9tYWluL0dyYXBoaWNzLnhtbCIpKSgpCiAgICBlbmQKfSkKCmd1YW5neWluZ1NlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIui2hemrmOeUu+i0qCIsCiAgICBEZXNjID0gIuWKoOi9vei2hemrmOeUu+i0qOaViOaenCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L2pIQmZKWW1TIikpKCkKICAgIGVuZAp9KQoKZ3Vhbmd5aW5nU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWJ5b2xVjQiLAogICAgRGVzYyA9ICLliqDovb3lhYnlvbFWNOaViOaenCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL01aRUVOMjQyNC9HcmFwaGljcy9tYWluL0dyYXBoaWNzLnhtbCIpKSgpCiAgICBlbmQKfSkKCmd1YW5neWluZ1NlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIlJUWOmrmOS7vyIsCiAgICBEZXNjID0gIuWKoOi9vVJUWOmrmOS7v+aViOaenCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L0JrZjBCSmIzJykpKCkKICAgIGVuZAp9KQoKZ3Vhbmd5aW5nU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWJ5b2x5rexIiwKICAgIERlc2MgPSAi5Yqg6L295rex6Imy5YWJ5b2x5pWI5p6cIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTVpFRU4yNDI0L0dyYXBoaWNzL21haW4vR3JhcGhpY3MueG1sIikpKCkKICAgIGVuZAp9KQoKZ3Vhbmd5aW5nU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWJ5b2x5rWFIiwKICAgIERlc2MgPSAi5Yqg6L295rWF6Imy5YWJ5b2x5pWI5p6cIiwgCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L2pIQmZKWW1TIikpKCkKICAgIGVuZAp9KQoKbG9jYWwgQWltU2VjdGlvbiA9IHNlY29uZFRhYjpTZWN0aW9uKHsKICAgIFRpdGxlID0gIuiHqueehOiuvue9riIsCiAgICBJY29uPSJsdWNpZGU6Y3Jvc3NoYWlyIiwKICAgIE9wZW5lZCA9IGZhbHNlCn0pCgpsb2NhbCBjdXJyZW50QWltYm90Q29ubmVjdGlvbiA9IG5pbApsb2NhbCBjdXJyZW50Rk9WcmluZyA9IG5pbApsb2NhbCBjdXJyZW50SW5wdXRDb25uZWN0aW9uID0gbmlsCmxvY2FsIHJhaW5ib3dIdWUgPSAwCgpsb2NhbCBmdW5jdGlvbiBjbGVhbnVwQ3VycmVudEFpbWJvdCgpCiAgICBpZiBjdXJyZW50QWltYm90Q29ubmVjdGlvbiB0aGVuCiAgICAgICAgY3VycmVudEFpbWJvdENvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgY3VycmVudEFpbWJvdENvbm5lY3Rpb24gPSBuaWwKICAgIGVuZAogICAgCiAgICBpZiBjdXJyZW50Rk9WcmluZyB0aGVuCiAgICAgICAgY3VycmVudEZPVnJpbmc6UmVtb3ZlKCkKICAgICAgICBjdXJyZW50Rk9WcmluZyA9IG5pbAogICAgZW5kCiAgICAKICAgIGlmIGN1cnJlbnRJbnB1dENvbm5lY3Rpb24gdGhlbgogICAgICAgIGN1cnJlbnRJbnB1dENvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgY3VycmVudElucHV0Q29ubmVjdGlvbiA9IG5pbAogICAgZW5kCmVuZAoKQWltU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWz6Zet6Ieq556EIiwKICAgIERlc2MgPSAi5YGc5q2i5omA5pyJ6Ieq556E5Yqf6IO9IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGNsZWFudXBDdXJyZW50QWltYm90KCkKICAgICAgICBXaW5kVUk6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi6Ieq556E5bey5YWz6ZetIiwKICAgICAgICAgICAgQ29udGVudCA9ICLmiYDmnInoh6rnnoTlip/og73lt7LlgZzmraIiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgIEljb24gPSAidGFyZ2V0IgogICAgICAgIH0pCiAgICBlbmQKfSkKCmxvY2FsIGZ1bmN0aW9uIGNyZWF0ZUFpbWJvdChmb3YpCiAgICBjbGVhbnVwQ3VycmVudEFpbWJvdCgpCiAgICAKICAgIGxvY2FsIFJ1blNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKQogICAgbG9jYWwgVXNlcklucHV0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCiAgICBsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKICAgIGxvY2FsIENhbSA9IGdhbWUuV29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKICAgIAogICAgY3VycmVudEZPVnJpbmcgPSBEcmF3aW5nLm5ldygiQ2lyY2xlIikKICAgIGN1cnJlbnRGT1ZyaW5nLlZpc2libGUgPSB0cnVlCiAgICBjdXJyZW50Rk9WcmluZy5UaGlja25lc3MgPSAxCiAgICBjdXJyZW50Rk9WcmluZy5OdW1TaWRlcyA9IDY0CiAgICBjdXJyZW50Rk9WcmluZy5GaWxsZWQgPSBmYWxzZQogICAgY3VycmVudEZPVnJpbmcuUmFkaXVzID0gZm92CiAgICBjdXJyZW50Rk9WcmluZy5Qb3NpdGlvbiA9IENhbS5WaWV3cG9ydFNpemUgLyAyCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIHVwZGF0ZURyYXdpbmdzKCkKICAgICAgICBsb2NhbCBjYW1WaWV3cG9ydFNpemUgPSBDYW0uVmlld3BvcnRTaXplCiAgICAgICAgY3VycmVudEZPVnJpbmcuUG9zaXRpb24gPSBjYW1WaWV3cG9ydFNpemUgLyAyCiAgICAgICAgCiAgICAgICAgcmFpbmJvd0h1ZSA9IChyYWluYm93SHVlICsgMC4wMikgJSAxCiAgICAgICAgbG9jYWwgY29sb3IgPSBDb2xvcjMuZnJvbUhTVihyYWluYm93SHVlLCAxLCAxKQogICAgICAgIGN1cnJlbnRGT1ZyaW5nLkNvbG9yID0gY29sb3IKICAgIGVuZAogICAgCiAgICBsb2NhbCBmdW5jdGlvbiBvbktleURvd24oaW5wdXQpCiAgICAgICAgaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRGVsZXRlIHRoZW4KICAgICAgICAgICAgY2xlYW51cEN1cnJlbnRBaW1ib3QoKQogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIGN1cnJlbnRJbnB1dENvbm5lY3Rpb24gPSBVc2VySW5wdXRTZXJ2aWNlLklucHV0QmVnYW46Q29ubmVjdChvbktleURvd24pCiAgICAKICAgIGxvY2FsIGZ1bmN0aW9uIGxvb2tBdCh0YXJnZXQpCiAgICAgICAgbG9jYWwgbG9va1ZlY3RvciA9ICh0YXJnZXQgLSBDYW0uQ0ZyYW1lLlBvc2l0aW9uKS51bml0CiAgICAgICAgbG9jYWwgbmV3Q0ZyYW1lID0gQ0ZyYW1lLm5ldyhDYW0uQ0ZyYW1lLlBvc2l0aW9uLCBDYW0uQ0ZyYW1lLlBvc2l0aW9uICsgbG9va1ZlY3RvcikKICAgICAgICBDYW0uQ0ZyYW1lID0gbmV3Q0ZyYW1lCiAgICBlbmQKICAgIAogICAgbG9jYWwgZnVuY3Rpb24gZ2V0Q2xvc2VzdFBsYXllckluRk9WKHRyZ19wYXJ0KQogICAgICAgIGxvY2FsIG5lYXJlc3QgPSBuaWwKICAgICAgICBsb2NhbCBsYXN0ID0gbWF0aC5odWdlCiAgICAgICAgbG9jYWwgcGxheWVyTW91c2VQb3MgPSBDYW0uVmlld3BvcnRTaXplIC8gMgogICAgCiAgICAgICAgZm9yIF8sIHBsYXllciBpbiBpcGFpcnMoUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICAgICAgICAgIGlmIHBsYXllciB+PSBQbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIHBhcnQgPSBwbGF5ZXIuQ2hhcmFjdGVyIGFuZCBwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKHRyZ19wYXJ0KQogICAgICAgICAgICAgICAgaWYgcGFydCB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgZVBvcywgaXNWaXNpYmxlID0gQ2FtOldvcmxkVG9WaWV3cG9ydFBvaW50KHBhcnQuUG9zaXRpb24pCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgZGlzdGFuY2UgPSAoVmVjdG9yMi5uZXcoZVBvcy54LCBlUG9zLnkpIC0gcGxheWVyTW91c2VQb3MpLk1hZ25pdHVkZQogICAgCiAgICAgICAgICAgICAgICAgICAgaWYgZGlzdGFuY2UgPCBsYXN0IGFuZCBpc1Zpc2libGUgYW5kIGRpc3RhbmNlIDwgZm92IHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGRpc3RhbmNlCiAgICAgICAgICAgICAgICAgICAgICAgIG5lYXJlc3QgPSBwbGF5ZXIKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIAogICAgICAgIHJldHVybiBuZWFyZXN0CiAgICBlbmQKICAgIAogICAgY3VycmVudEFpbWJvdENvbm5lY3Rpb24gPSBSdW5TZXJ2aWNlLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgdXBkYXRlRHJhd2luZ3MoKQogICAgICAgIGxvY2FsIGNsb3Nlc3QgPSBnZXRDbG9zZXN0UGxheWVySW5GT1YoIkhlYWQiKQogICAgICAgIGlmIGNsb3Nlc3QgYW5kIGNsb3Nlc3QuQ2hhcmFjdGVyIGFuZCBjbG9zZXN0LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSGVhZCIpIHRoZW4KICAgICAgICAgICAgbG9va0F0KGNsb3Nlc3QuQ2hhcmFjdGVyLkhlYWQuUG9zaXRpb24pCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZAoKbG9jYWwgYWltQnV0dG9ucyA9IHsKICAgIHt0aXRsZSA9ICLoh6rnnoQxMCIsIGZvdiA9IDE1LCBkZXNjID0gIuWwj+iMg+WbtOiHqueehCJ9LAogICAge3RpdGxlID0gIuiHqueehDMwIiwgZm92ID0gMzAsIGRlc2MgPSAi5Lit562J6IyD5Zu06Ieq556EIn0sCiAgICB7dGl0bGUgPSAi6Ieq556ENTAiLCBmb3YgPSA1MCwgZGVzYyA9ICLmoIflh4bojIPlm7Toh6rnnoQifSwKICAgIHt0aXRsZSA9ICLoh6rnnoQxMDAiLCBmb3YgPSAxMDAsIGRlc2MgPSAi5aSn6IyD5Zu06Ieq556EIn0sCiAgICB7dGl0bGUgPSAi6Ieq556EMjAwIiwgZm92ID0gMjAwLCBkZXNjID0gIui2heWkp+iMg+WbtOiHqueehCJ9LAogICAge3RpdGxlID0gIuiHqueehDMwMCIsIGZvdiA9IDMwMCwgZGVzYyA9ICLlub/op5Loh6rnnoQifSwKICAgIHt0aXRsZSA9ICLoh6rnnoQ0MDAiLCBmb3YgPSA0MDAsIGRlc2MgPSAi6LaF5bm/6KeS6Ieq556EIn0sCiAgICB7dGl0bGUgPSAi6Ieq556E5YWo5bGPIiwgZm92ID0gMTYwMCwgZGVzYyA9ICLlhajlsY/oh6rnnoQifQp9Cgpmb3IgXywgYnRuIGluIGlwYWlycyhhaW1CdXR0b25zKSBkbwogICAgQWltU2VjdGlvbjpCdXR0b24oewogICAgICAgIFRpdGxlID0gYnRuLnRpdGxlLAogICAgICAgIERlc2MgPSBidG4uZGVzYywKICAgICAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICAgICAgY3JlYXRlQWltYm90KGJ0bi5mb3YpCiAgICAgICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICAgICAgVGl0bGUgPSAi6Ieq556E5bey5byA5ZCvIiwKICAgICAgICAgICAgICAgIENvbnRlbnQgPSBidG4udGl0bGUgLi4gIiDlt7Lmv4DmtLsiLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICAgICAgSWNvbiA9ICJjcm9zc2hhaXIiCiAgICAgICAgICAgIH0pCiAgICAgICAgZW5kCiAgICB9KQplbmQKCmxvY2FsIFJhbmdlU2VjdGlvbiA9IHNlY29uZFRhYjpTZWN0aW9uKHsKICAgIFRpdGxlID0gIuaJk+WHu+iMg+WbtOiuvue9riIsCiAgICBJY29uPSJsdWNpZGU6Ym94ZXMiLAogICAgT3BlbmVkID0gZmFsc2UKfSkKCgpsb2NhbCBfRyA9IF9HIG9yIGdldGdlbnYoKQpfRy5IZWFkU2l6ZSA9IDE1Cl9HLkRpc2FibGVkID0gZmFsc2UKClJhbmdlU2VjdGlvbjpJbnB1dCh7CiAgICBUaXRsZSA9ICLoh6rlrprkuYnojIPlm7QiLAogICAgRGVzYyA9ICLovpPlhaVIaXRCb3jlpKflsI8iLAogICAgUGxhY2Vob2xkZXIgPSAi6L6T5YWl5pWw5a2XIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oVmFsdWUpCiAgICAgICAgaWYgVmFsdWUgPT0gbmlsIG9yIFZhbHVlID09ICIiIHRoZW4KICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgX0cuSGVhZFNpemUgPSB0b251bWJlcihWYWx1ZSkKICAgICAgICBfRy5EaXNhYmxlZCA9IHRydWUgCiAgICAgICAgaWYgX0cuSGVhZFNpemUgdGhlbgogICAgICAgICAgICBmb3IgaSx2IGluIG5leHQsIGdhbWU6R2V0U2VydmljZSgnUGxheWVycycpOkdldFBsYXllcnMoKSBkbwogICAgICAgICAgICAgICAgaWYgdi5OYW1lIH49IGdhbWU6R2V0U2VydmljZSgnUGxheWVycycpLkxvY2FsUGxheWVyLk5hbWUgdGhlbiAKICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHYuQ2hhcmFjdGVyIGFuZCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KF9HLkhlYWRTaXplLF9HLkhlYWRTaXplLF9HLkhlYWRTaXplKSAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuVHJhbnNwYXJlbmN5ID0gMC43IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoIlJlYWxseSByZWQiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5NYXRlcmlhbCA9ICJOZW9uIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgZW5kIAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLojIPlm7Torr7nva4iLAogICAgICAgICAgICAgICAgQ29udGVudCA9ICLojIPlm7Tlt7Lorr7nva46ICIgLi4gX0cuSGVhZFNpemUsCiAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDMKICAgICAgICAgICAgfSkKICAgICAgICBlbHNlCiAgICAgICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICAgICAgVGl0bGUgPSAi6ZSZ6K+vIiwKICAgICAgICAgICAgICAgIENvbnRlbnQgPSAi6K+36L6T5YWl5pyJ5pWI5pWw5a2XIiwKICAgICAgICAgICAgICAgIEljb24gPSAiYWxlcnQiLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzCiAgICAgICAgICAgIH0pCiAgICAgICAgZW5kCiAgICBlbmQKfSkKClJhbmdlU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWz6Zet6IyD5Zu0IiwKICAgIERlc2MgPSAi5oGi5aSN6buY6K6kSGl0Qm94IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIF9HLkRpc2FibGVkID0gZmFsc2UKICAgICAgICBmb3IgaSx2IGluIG5leHQsIGdhbWU6R2V0U2VydmljZSgnUGxheWVycycpOkdldFBsYXllcnMoKSBkbwogICAgICAgICAgICBpZiB2Lk5hbWUgfj0gZ2FtZTpHZXRTZXJ2aWNlKCdQbGF5ZXJzJykuTG9jYWxQbGF5ZXIuTmFtZSBhbmQgdi5DaGFyYWN0ZXIgYW5kIHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDIsIDIsIDEpCiAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5UcmFuc3BhcmVuY3kgPSAxCiAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoIk1lZGl1bSBzdG9uZSBncmV5IikKICAgICAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0Lk1hdGVyaWFsID0gIlBsYXN0aWMiCiAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gdHJ1ZQogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICBXaW5kVUk6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi6IyD5Zu05YWz6ZetIiwKICAgICAgICAgICAgQ29udGVudCA9ICJIaXRCb3jlt7LmgaLlpI3pu5jorqQiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDMKICAgICAgICB9KQogICAgZW5kCn0pCgpSYW5nZVNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuW9qeiZueiMg+WbtCIsCiAgICBEZXNjID0gIuWQr+eUqOW9qeiZueiJsuWKqOaAgeiMg+WbtCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBfRy5IZWFkU2l6ZSA9IDIwIAogICAgICAgIF9HLkRpc2FibGVkID0gdHJ1ZSAKICAgICAgICAKICAgICAgICBsb2NhbCByYWluYm93Q29ubmVjdGlvbgogICAgICAgIHJhaW5ib3dDb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCdSdW5TZXJ2aWNlJykuUmVuZGVyU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKCkgCiAgICAgICAgICAgIGlmIF9HLkRpc2FibGVkIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIGh1ZSA9IHRpY2soKSAlIDUgLyA1CiAgICAgICAgICAgICAgICBsb2NhbCByID0gbWF0aC5zaW4oaHVlICogNi4yOCArIDApICogMTI3ICsgMTI4CiAgICAgICAgICAgICAgICBsb2NhbCBnID0gbWF0aC5zaW4oaHVlICogNi4yOCArIDIpICogMTI3ICsgMTI4CiAgICAgICAgICAgICAgICBsb2NhbCBiID0gbWF0aC5zaW4oaHVlICogNi4yOCArIDQpICogMTI3ICsgMTI4CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZvciBpLHYgaW4gbmV4dCwgZ2FtZTpHZXRTZXJ2aWNlKCdQbGF5ZXJzJyk6R2V0UGxheWVycygpIGRvIAogICAgICAgICAgICAgICAgICAgIGlmIHYuTmFtZSB+PSBnYW1lOkdldFNlcnZpY2UoJ1BsYXllcnMnKS5Mb2NhbFBsYXllci5OYW1lIGFuZCB2LkNoYXJhY3RlciBhbmQgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuIAogICAgICAgICAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoX0cuSGVhZFNpemUsX0cuSGVhZFNpemUsX0cuSGVhZFNpemUpIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5UcmFuc3BhcmVuY3kgPSAwLjcgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNvbG9yID0gQ29sb3IzLmZyb21SR0IociwgZywgYikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuTWF0ZXJpYWwgPSAiTmVvbiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCkgCiAgICAgICAgICAgICAgICAgICAgZW5kIAogICAgICAgICAgICAgICAgZW5kIAogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBpZiByYWluYm93Q29ubmVjdGlvbiB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmFpbmJvd0Nvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgICAgIAogICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLlvanombnojIPlm7QiLAogICAgICAgICAgICBDb250ZW50ID0gIuW9qeiZueWKqOaAgeiMg+WbtOW3suWQr+eUqCIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMwogICAgICAgIH0pCiAgICBlbmQKfSkKCmxvY2FsIFF1aWNrU2VjdGlvbiA9IHNlY29uZFRhYjpTZWN0aW9uKHtUaXRsZSA9ICLlv6vpgJ/osIPmlbQiLCBJY29uID0gInVzZXIiLCBPcGVuZWQgPSBmYWxzZX0pCgpsb2NhbCBxdWlja1JhbmdlcyA9IHsKICAgIHsi5pmu6YCa6IyD5Zu0IiwgMTUsICJSZWFsbHkgYmx1ZSJ9LAogICAgeyLkuK3nrYnojIPlm7QiLCA1MCwgIlJlYWxseSBibHVlIn0sIAogICAgeyLotoXlpKfojIPlm7QiLCAxMDAsICJSZWFsbHkgYmx1ZSJ9LAogICAgeyLnu4jmnoHojIPlm7QiLCAyMDAsICJSZWFsbHkgYmx1ZSJ9LAogICAgeyLlhajlm77ojIPlm7QiLCA0MDAsICJSZWFsbHkgYmx1ZSJ9Cn0KCmZvciBfLCByYW5nZUNvbmZpZyBpbiBpcGFpcnMocXVpY2tSYW5nZXMpIGRvCiAgICBRdWlja1NlY3Rpb246QnV0dG9uKHsKICAgICAgICBUaXRsZSA9IHJhbmdlQ29uZmlnWzFdLAogICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgICAgICBfRy5IZWFkU2l6ZSA9IHJhbmdlQ29uZmlnWzJdCiAgICAgICAgICAgIF9HLkRpc2FibGVkID0gdHJ1ZQogICAgICAgICAgICBpZiBfRy5EaXNhYmxlZCB0aGVuCiAgICAgICAgICAgICAgICBmb3IgaSx2IGluIG5leHQsIGdhbWU6R2V0U2VydmljZSgnUGxheWVycycpOkdldFBsYXllcnMoKSBkbwogICAgICAgICAgICAgICAgICAgIGlmIHYuTmFtZSB+PSBnYW1lOkdldFNlcnZpY2UoJ1BsYXllcnMnKS5Mb2NhbFBsYXllci5OYW1lIGFuZCB2LkNoYXJhY3RlciBhbmQgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KF9HLkhlYWRTaXplLCBfRy5IZWFkU2l6ZSwgX0cuSGVhZFNpemUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlRyYW5zcGFyZW5jeSA9IDAuNwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcocmFuZ2VDb25maWdbM10pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0Lk1hdGVyaWFsID0gIk5lb24iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICAgICAgICAgIFRpdGxlID0gIuiMg+WbtOiuvue9riIsCiAgICAgICAgICAgICAgICAgICAgQ29udGVudCA9IHJhbmdlQ29uZmlnWzFdIC4uICLlt7LlkK/nlKg6ICIgLi4gX0cuSGVhZFNpemUsCiAgICAgICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIH0pCmVuZAoKbG9jYWwgQ3VzdG9tU2VjdGlvbiA9IHNlY29uZFRhYjpTZWN0aW9uKHtUaXRsZSA9ICLoh6rlrprkuYnojIPlm7QiLCBJY29uID0gImJveCIsIE9wZW5lZCA9IGZhbHNlfSkKCmxvY2FsIGN1c3RvbVJhbmdlcyA9IHsKICAgIHsi6IyD5Zu0MTUiLCAxNX0sIHsi6IyD5Zu0NTAiLCA1MH0sIHsi6IyD5Zu0MTAwIiwgMTAwfSwgeyLojIPlm7QxNTAiLCAxNTB9LAogICAgeyLojIPlm7QyMDAiLCAyMDB9LCB7IuiMg+WbtDI1MCIsIDI1MH0sIHsi6IyD5Zu0MzAwIiwgMzAwfSwgeyLojIPlm7Q0MDAiLCA0MDB9LAogICAgeyLojIPlm7Q1MDAiLCA1MDB9Cn0KCmZvciBfLCByYW5nZUNvbmZpZyBpbiBpcGFpcnMoY3VzdG9tUmFuZ2VzKSBkbwogICAgQ3VzdG9tU2VjdGlvbjpCdXR0b24oewogICAgICAgIFRpdGxlID0gcmFuZ2VDb25maWdbMV0sCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgICAgIF9HLkhlYWRTaXplID0gcmFuZ2VDb25maWdbMl0KICAgICAgICAgICAgX0cuRGlzYWJsZWQgPSB0cnVlCiAgICAgICAgICAgIGlmIF9HLkRpc2FibGVkIHRoZW4KICAgICAgICAgICAgICAgIGZvciBpLHYgaW4gbmV4dCwgZ2FtZTpHZXRTZXJ2aWNlKCdQbGF5ZXJzJyk6R2V0UGxheWVycygpIGRvCiAgICAgICAgICAgICAgICAgICAgaWYgdi5OYW1lIH49IGdhbWU6R2V0U2VydmljZSgnUGxheWVycycpLkxvY2FsUGxheWVyLk5hbWUgYW5kIHYuQ2hhcmFjdGVyIGFuZCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5TaXplID0gVmVjdG9yMy5uZXcoX0cuSGVhZFNpemUsIF9HLkhlYWRTaXplLCBfRy5IZWFkU2l6ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuVHJhbnNwYXJlbmN5ID0gMC43CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiUmVhbGx5IGJsdWUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5NYXRlcmlhbCA9ICJOZW9uIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBXaW5kVUk6Tm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICBUaXRsZSA9ICLoh6rlrprkuYnojIPlm7QiLAogICAgICAgICAgICAgICAgICAgIENvbnRlbnQgPSByYW5nZUNvbmZpZ1sxXSAuLiAi5bey6K6+572uIiwKICAgICAgICAgICAgICAgICAgICBEdXJhdGlvbiA9IDMKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgfSkKZW5kCgpsb2NhbCBQbGF5ZXJTZWN0aW9uID0gVGVsZXBvcnRUYWI6U2VjdGlvbih7VGl0bGUgPSAi546p5a626YCJ5oupIiwgSWNvbj0ibHVjaWRlOmxpc3QtY2hldnJvbnMtdXAtZG93biIsT3BlbmVkID0gZmFsc2V9KQoKbG9jYWwgc2VsZWN0ZWRQbGF5ZXIgPSBuaWwKbG9jYWwgcGxheWVyTGlzdCA9IHt9Cgpsb2NhbCBmdW5jdGlvbiByZWZyZXNoUGxheWVycygpCiAgICBwbGF5ZXJMaXN0ID0ge30KICAgIGZvciBfLCBwbGF5ZXIgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KICAgICAgICBpZiBwbGF5ZXIgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4KICAgICAgICAgICAgdGFibGUuaW5zZXJ0KHBsYXllckxpc3QsIHBsYXllci5EaXNwbGF5TmFtZSkKICAgICAgICBlbmQKICAgIGVuZAplbmQKCnJlZnJlc2hQbGF5ZXJzKCkKCmxvY2FsIFBsYXllckRyb3Bkb3duID0gUGxheWVyU2VjdGlvbjpEcm9wZG93bih7CiAgICBUaXRsZSA9ICLpgInmi6nnjqnlrrYiLAogICAgVmFsdWVzID0gcGxheWVyTGlzdCwKICAgIFZhbHVlID0gIiIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHNlbGVjdGVkRGlzcGxheU5hbWUpCiAgICAgICAgZm9yIF8sIHBsYXllciBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgICAgICBpZiBwbGF5ZXIuRGlzcGxheU5hbWUgPT0gc2VsZWN0ZWREaXNwbGF5TmFtZSB0aGVuCiAgICAgICAgICAgICAgICBzZWxlY3RlZFBsYXllciA9IHBsYXllcgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKClBsYXllclNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuWIt+aWsOeOqeWutuWIl+ihqCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICByZWZyZXNoUGxheWVycygpCiAgICAgICAgUGxheWVyRHJvcGRvd246UmVmcmVzaChwbGF5ZXJMaXN0KQogICAgZW5kCn0pCgpQbGF5ZXJTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLmn6XnnIvnjqnlrrYiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgaWYgc2VsZWN0ZWRQbGF5ZXIgYW5kIHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgIGdhbWUuV29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpQbGF5ZXJTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLlgZzmraLmn6XnnIsiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgbG9jYWxQbGF5ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgICAgICBpZiBsb2NhbFBsYXllci5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICBnYW1lLldvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNhbWVyYVN1YmplY3QgPSBsb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikKICAgICAgICBlbmQKICAgIGVuZAp9KQoKUGxheWVyU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi55Sp6aOe5LiA5qyh6YCJ5Lit55qE5Lq6IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvY2FsIFBsYXllciA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyCiAgICAgICAgbG9jYWwgVGFyZ2V0UGxheWVyID0gc2VsZWN0ZWRQbGF5ZXIKICAgICAgICBpZiBub3QgVGFyZ2V0UGxheWVyIG9yIFRhcmdldFBsYXllciA9PSBQbGF5ZXIgdGhlbgogICAgICAgICAgICBXaW5kVUk6Tm90aWZ5KHtUaXRsZSA9ICLkuI3mraLohJrmnKwiLCBDb250ZW50ID0gIuaXoOeOqeWutuWPr+eUqemjniIsIER1cmF0aW9uID0gMn0pCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGVuZAoKICAgICAgICBsb2NhbCBNZXNzYWdlID0gZnVuY3Rpb24oX1RpdGxlLCBfVGV4dCwgVGltZSkKICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7VGl0bGUgPSBfVGl0bGUsIENvbnRlbnQgPSBfVGV4dCwgRHVyYXRpb24gPSBUaW1lfSkKICAgICAgICBlbmQKCiAgICAgICAgbG9jYWwgU2tpZEZsaW5nID0gZnVuY3Rpb24oVGFyZ2V0KQogICAgICAgICAgICBsb2NhbCBDaGFyYWN0ZXIgPSBQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgIGxvY2FsIEh1bWFub2lkID0gQ2hhcmFjdGVyIGFuZCBDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgICAgIGxvY2FsIFJvb3RQYXJ0ID0gSHVtYW5vaWQgYW5kIEh1bWFub2lkLlJvb3RQYXJ0CiAgICAgICAgICAgIGxvY2FsIFRDaGFyYWN0ZXIgPSBUYXJnZXQuQ2hhcmFjdGVyCiAgICAgICAgICAgIGxvY2FsIFRIdW1hbm9pZCA9IFRDaGFyYWN0ZXIgYW5kIFRDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgICAgIGxvY2FsIFRSb290UGFydCA9IFRIdW1hbm9pZCBhbmQgVEh1bWFub2lkLlJvb3RQYXJ0CiAgICAgICAgICAgIGxvY2FsIFRIZWFkID0gVENoYXJhY3RlciBhbmQgVENoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSGVhZCIpCiAgICAgICAgICAgIGxvY2FsIEFjY2Vzc29yeSA9IFRDaGFyYWN0ZXIgYW5kIFRDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJBY2Nlc3NvcnkiKQogICAgICAgICAgICBsb2NhbCBIYW5kbGUgPSBBY2Nlc3NvcnkgYW5kIEFjY2Vzc29yeTpGaW5kRmlyc3RDaGlsZCgiSGFuZGxlIikKCiAgICAgICAgICAgIGlmIG5vdCAoQ2hhcmFjdGVyIGFuZCBIdW1hbm9pZCBhbmQgUm9vdFBhcnQgYW5kIFRDaGFyYWN0ZXIgYW5kIFRIdW1hbm9pZCkgdGhlbgogICAgICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2UoIuS4jeatouiEmuacrCIsICLnjqnlrrblt7Lotovlir8iLCAyKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgVEh1bWFub2lkLlNpdCB0aGVuIHJldHVybiBNZXNzYWdlKCLkuI3mraLohJrmnKwiLCAi55uu5qCH5aSE5LqO5Z2Q5ae/IiwgMikgZW5kCiAgICAgICAgICAgIGlmIG5vdCBUQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkV2hpY2hJc0EoIkJhc2VQYXJ0IikgdGhlbiByZXR1cm4gTWVzc2FnZSgi5LiN5q2i6ISa5pysIiwgIuebruagh+aXoOacieaViOmDqOS7tiIsIDIpIGVuZAoKICAgICAgICAgICAgaWYgVEhlYWQgdGhlbgogICAgICAgICAgICAgICAgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IFRIZWFkCiAgICAgICAgICAgIGVsc2VpZiBIYW5kbGUgdGhlbgogICAgICAgICAgICAgICAgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IEhhbmRsZQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DYW1lcmFTdWJqZWN0ID0gVEh1bWFub2lkCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgaWYgUm9vdFBhcnQuVmVsb2NpdHkuTWFnbml0dWRlIDwgNTAgdGhlbgogICAgICAgICAgICAgICAgZ2V0Z2VudigpLk9sZFBvcyA9IFJvb3RQYXJ0LkNGcmFtZQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIGxvY2FsIEZQb3MgPSBmdW5jdGlvbihCYXNlUGFydCwgUG9zLCBBbmcpCiAgICAgICAgICAgICAgICBSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KEJhc2VQYXJ0LlBvc2l0aW9uKSAqIFBvcyAqIEFuZwogICAgICAgICAgICAgICAgQ2hhcmFjdGVyOlNldFByaW1hcnlQYXJ0Q0ZyYW1lKENGcmFtZS5uZXcoQmFzZVBhcnQuUG9zaXRpb24pICogUG9zICogQW5nKQogICAgICAgICAgICAgICAgUm9vdFBhcnQuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldyg5ZTcsIDllNyAqIDEwLCA5ZTcpCiAgICAgICAgICAgICAgICBSb290UGFydC5Sb3RWZWxvY2l0eSA9IFZlY3RvcjMubmV3KDllOCwgOWU4LCA5ZTgpCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgbG9jYWwgU0ZCYXNlUGFydCA9IGZ1bmN0aW9uKEJhc2VQYXJ0KQogICAgICAgICAgICAgICAgbG9jYWwgVGltZVRvV2FpdCA9IDYKICAgICAgICAgICAgICAgIGxvY2FsIFRpbWUgPSB0aWNrKCkKICAgICAgICAgICAgICAgIGxvY2FsIEFuZ2xlID0gMAogICAgICAgICAgICAgICAgcmVwZWF0CiAgICAgICAgICAgICAgICAgICAgaWYgUm9vdFBhcnQgYW5kIFRIdW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIEJhc2VQYXJ0LlZlbG9jaXR5Lk1hZ25pdHVkZSA8IDUwIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFuZ2xlID0gQW5nbGUgKyAxMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoQW5nbGUpLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIDAsIDApLCBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKEFuZ2xlKSwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRlBvcyhCYXNlUGFydCwgQ0ZyYW1lLm5ldygwLCAwLCAwKSwgQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZChBbmdsZSksIDAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoQW5nbGUpLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIDAsIDApLCBDRnJhbWUuQW5nbGVzKDAsIDAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHVudGlsIEJhc2VQYXJ0LlZlbG9jaXR5Lk1hZ25pdHVkZSA+IDUwMCBvciBCYXNlUGFydC5QYXJlbnQgfj0gVGFyZ2V0LkNoYXJhY3RlciBvciBUYXJnZXQuUGFyZW50IH49IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpIG9yIFRIdW1hbm9pZC5TaXQgb3IgSHVtYW5vaWQuSGVhbHRoIDw9IDAgb3IgdGljaygpID4gVGltZSArIFRpbWVUb1dhaXQKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICB3b3Jrc3BhY2UuRmFsbGVuUGFydHNEZXN0cm95SGVpZ2h0ID0gMC8wCiAgICAgICAgICAgIGxvY2FsIEJWID0gSW5zdGFuY2UubmV3KCJCb2R5VmVsb2NpdHkiKQogICAgICAgICAgICBCVi5OYW1lID0gIkVwaXhWZWwiCiAgICAgICAgICAgIEJWLlBhcmVudCA9IFJvb3RQYXJ0CiAgICAgICAgICAgIEJWLlZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoOWU4LCA5ZTgsIDllOCkKICAgICAgICAgICAgQlYuTWF4Rm9yY2UgPSBWZWN0b3IzLm5ldygxLzAsIDEvMCwgMS8wKQogICAgICAgICAgICBIdW1hbm9pZDpTZXRTdGF0ZUVuYWJsZWQoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5TZWF0ZWQsIGZhbHNlKQoKICAgICAgICAgICAgaWYgVFJvb3RQYXJ0IGFuZCBUSGVhZCB0aGVuCiAgICAgICAgICAgICAgICBTRkJhc2VQYXJ0KChUUm9vdFBhcnQuQ0ZyYW1lLnAgLSBUSGVhZC5DRnJhbWUucCkuTWFnbml0dWRlID4gNSBhbmQgVEhlYWQgb3IgVFJvb3RQYXJ0KQogICAgICAgICAgICBlbHNlaWYgVFJvb3RQYXJ0IHRoZW4KICAgICAgICAgICAgICAgIFNGQmFzZVBhcnQoVFJvb3RQYXJ0KQogICAgICAgICAgICBlbHNlaWYgVEhlYWQgdGhlbgogICAgICAgICAgICAgICAgU0ZCYXNlUGFydChUSGVhZCkKICAgICAgICAgICAgZWxzZWlmIEhhbmRsZSB0aGVuCiAgICAgICAgICAgICAgICBTRkJhc2VQYXJ0KEhhbmRsZSkKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2UoIuS4jeatouiEmuacrCIsICLnjqnlrrblt7Lotovlir8iLCAyKQogICAgICAgICAgICBlbmQKCiAgICAgICAgICAgIEJWOkRlc3Ryb3koKQogICAgICAgICAgICBIdW1hbm9pZDpTZXRTdGF0ZUVuYWJsZWQoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5TZWF0ZWQsIHRydWUpCiAgICAgICAgICAgIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNhbWVyYVN1YmplY3QgPSBIdW1hbm9pZAogICAgICAgICAgICBnZXRnZW52KCkuRlBESCA9IGdldGdlbnYoKS5GUERIIG9yIHdvcmtzcGFjZS5GYWxsZW5QYXJ0c0Rlc3Ryb3lIZWlnaHQKCiAgICAgICAgICAgIHJlcGVhdAogICAgICAgICAgICAgICAgUm9vdFBhcnQuQ0ZyYW1lID0gZ2V0Z2VudigpLk9sZFBvcyAqIENGcmFtZS5uZXcoMCwgMC41LCAwKQogICAgICAgICAgICAgICAgQ2hhcmFjdGVyOlNldFByaW1hcnlQYXJ0Q0ZyYW1lKGdldGdlbnYoKS5PbGRQb3MgKiBDRnJhbWUubmV3KDAsIDAuNSwgMCkpCiAgICAgICAgICAgICAgICBIdW1hbm9pZDpDaGFuZ2VTdGF0ZSgiR2V0dGluZ1VwIikKICAgICAgICAgICAgICAgIHRhYmxlLmZvcmVhY2goQ2hhcmFjdGVyOkdldENoaWxkcmVuKCksIGZ1bmN0aW9uKF8sIHgpCiAgICAgICAgICAgICAgICAgICAgaWYgeDpJc0EoIkJhc2VQYXJ0IikgdGhlbiB4LlZlbG9jaXR5LCB4LlJvdFZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoKSwgVmVjdG9yMy5uZXcoKSBlbmQKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgIHVudGlsIChSb290UGFydC5Qb3NpdGlvbiAtIGdldGdlbnYoKS5PbGRQb3MucCkuTWFnbml0dWRlIDwgMjUKICAgICAgICAgICAgd29ya3NwYWNlLkZhbGxlblBhcnRzRGVzdHJveUhlaWdodCA9IGdldGdlbnYoKS5GUERICiAgICAgICAgICAgIE1lc3NhZ2UoIuS4jeatouiEmuacrCIsICLlt7LnlKnpo57pgInkuK3njqnlrrYiLCAyKQogICAgICAgIGVuZAoKICAgICAgICBpZiBUYXJnZXRQbGF5ZXIuVXNlcklkIH49IDE0MTQ5NzgzNTUgdGhlbgogICAgICAgICAgICBTa2lkRmxpbmcoVGFyZ2V0UGxheWVyKQogICAgICAgIGVsc2UKICAgICAgICAgICAgTWVzc2FnZSgi5LiN5q2i6ISa5pysIiwgIuivpeeOqeWutuWtmOWcqOeUqemjnuWQjeWNlSIsIDIpCiAgICAgICAgZW5kCiAgICBlbmQKfSkKClBsYXllclNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIumUgeWumueUqemjnumAieS4reeahOS6uiIsCiAgICBEZXNjID0gIkxvb3BGbGluZyIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihzdGF0ZSkKICAgICAgICBnZXRnZW52KCkuTG9vcEZsaW5nRW5hYmxlZCA9IHN0YXRlCiAgICAgICAgbG9jYWwgY29ubmVjdGlvbgogICAgICAgIGlmIHN0YXRlIGFuZCBzZWxlY3RlZFBsYXllciB0aGVuCiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3QgZ2V0Z2VudigpLkxvb3BGbGluZ0VuYWJsZWQgb3Igbm90IHNlbGVjdGVkUGxheWVyIG9yIHNlbGVjdGVkUGxheWVyID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuCiAgICAgICAgICAgICAgICAgICAgaWYgY29ubmVjdGlvbiB0aGVuIGNvbm5lY3Rpb246RGlzY29ubmVjdCgpIGVuZAogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgbG9jYWwgUGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCiAgICAgICAgICAgICAgICBsb2NhbCBUYXJnZXQgPSBzZWxlY3RlZFBsYXllcgogICAgICAgICAgICAgICAgbG9jYWwgQ2hhcmFjdGVyID0gUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgbG9jYWwgSHVtYW5vaWQgPSBDaGFyYWN0ZXIgYW5kIENoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICAgICAgICAgIGxvY2FsIFJvb3RQYXJ0ID0gSHVtYW5vaWQgYW5kIEh1bWFub2lkLlJvb3RQYXJ0CiAgICAgICAgICAgICAgICBsb2NhbCBUQ2hhcmFjdGVyID0gVGFyZ2V0LkNoYXJhY3RlcgogICAgICAgICAgICAgICAgbG9jYWwgVEh1bWFub2lkID0gVENoYXJhY3RlciBhbmQgVENoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICAgICAgICAgIGxvY2FsIFRSb290UGFydCA9IFRIdW1hbm9pZCBhbmQgVEh1bWFub2lkLlJvb3RQYXJ0CiAgICAgICAgICAgICAgICBsb2NhbCBUSGVhZCA9IFRDaGFyYWN0ZXIgYW5kIFRDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkhlYWQiKQogICAgICAgICAgICAgICAgbG9jYWwgQWNjZXNzb3J5ID0gVENoYXJhY3RlciBhbmQgVENoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkFjY2Vzc29yeSIpCiAgICAgICAgICAgICAgICBsb2NhbCBIYW5kbGUgPSBBY2Nlc3NvcnkgYW5kIEFjY2Vzc29yeTpGaW5kRmlyc3RDaGlsZCgiSGFuZGxlIikKCiAgICAgICAgICAgICAgICBpZiBub3QgKENoYXJhY3RlciBhbmQgSHVtYW5vaWQgYW5kIFJvb3RQYXJ0IGFuZCBUQ2hhcmFjdGVyIGFuZCBUSHVtYW5vaWQpIHRoZW4KICAgICAgICAgICAgICAgICAgICBXaW5kVUk6Tm90aWZ5KHtUaXRsZSA9ICLkuI3mraLohJrmnKwiLCBDb250ZW50ID0gIuaXoOeOqeWutuWPr+eUqemjniIsIER1cmF0aW9uID0gMn0pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGlmIFRIdW1hbm9pZC5TaXQgdGhlbgogICAgICAgICAgICAgICAgICAgIFdpbmRVSTpOb3RpZnkoe1RpdGxlID0gIuS4jeatouiEmuacrCIsIENvbnRlbnQgPSAi55uu5qCH5aSE5LqO5Z2Q5ae/IiwgRHVyYXRpb24gPSAyfSkKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgaWYgbm90IFRDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRXaGljaElzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7VGl0bGUgPSAi5LiN5q2i6ISa5pysIiwgQ29udGVudCA9ICLnjqnlrrblt7Lotovlir8iLCBEdXJhdGlvbiA9IDJ9KQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgaWYgVEhlYWQgdGhlbgogICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNhbWVyYVN1YmplY3QgPSBUSGVhZAogICAgICAgICAgICAgICAgZWxzZWlmIEhhbmRsZSB0aGVuCiAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IEhhbmRsZQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNhbWVyYVN1YmplY3QgPSBUSHVtYW5vaWQKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGlmIFJvb3RQYXJ0LlZlbG9jaXR5Lk1hZ25pdHVkZSA8IDUwIHRoZW4KICAgICAgICAgICAgICAgICAgICBnZXRnZW52KCkuT2xkUG9zID0gUm9vdFBhcnQuQ0ZyYW1lCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBsb2NhbCBGUG9zID0gZnVuY3Rpb24oQmFzZVBhcnQsIFBvcywgQW5nKQogICAgICAgICAgICAgICAgICAgIFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoQmFzZVBhcnQuUG9zaXRpb24pICogUG9zICogQW5nCiAgICAgICAgICAgICAgICAgICAgQ2hhcmFjdGVyOlNldFByaW1hcnlQYXJ0Q0ZyYW1lKENGcmFtZS5uZXcoQmFzZVBhcnQuUG9zaXRpb24pICogUG9zICogQW5nKQogICAgICAgICAgICAgICAgICAgIFJvb3RQYXJ0LlZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoOWU3LCA5ZTcgKiAxMCwgOWU3KQogICAgICAgICAgICAgICAgICAgIFJvb3RQYXJ0LlJvdFZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoOWU4LCA5ZTgsIDllOCkKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIGxvY2FsIFNGQmFzZVBhcnQgPSBmdW5jdGlvbihCYXNlUGFydCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBUaW1lVG9XYWl0ID0gNgogICAgICAgICAgICAgICAgICAgIGxvY2FsIFRpbWUgPSB0aWNrKCkKICAgICAgICAgICAgICAgICAgICBsb2NhbCBBbmdsZSA9IDAKICAgICAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICAgICAgaWYgUm9vdFBhcnQgYW5kIFRIdW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBCYXNlUGFydC5WZWxvY2l0eS5NYWduaXR1ZGUgPCA1MCB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW5nbGUgPSBBbmdsZSArIDEwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoQW5nbGUpLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoQW5nbGUpLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoQW5nbGUpLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoQW5nbGUpLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMCwgMCksIENGcmFtZS5BbmdsZXMoMCwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIDAsIDApLCBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICB1bnRpbCBCYXNlUGFydC5WZWxvY2l0eS5NYWduaXR1ZGUgPiA1MDAgb3IgQmFzZVBhcnQuUGFyZW50IH49IFRhcmdldC5DaGFyYWN0ZXIgb3IgVGFyZ2V0LlBhcmVudCB+PSBnYW1lLlBsYXllcnMgb3IgVEh1bWFub2lkLlNpdCBvciBIdW1hbm9pZC5IZWFsdGggPD0gMCBvciB0aWNrKCkgPiBUaW1lICsgVGltZVRvV2FpdAogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgd29ya3NwYWNlLkZhbGxlblBhcnRzRGVzdHJveUhlaWdodCA9IDAvMAogICAgICAgICAgICAgICAgbG9jYWwgQlYgPSBJbnN0YW5jZS5uZXcoIkJvZHlWZWxvY2l0eSIpCiAgICAgICAgICAgICAgICBCVi5OYW1lID0gIkVwaXhWZWwiCiAgICAgICAgICAgICAgICBCVi5QYXJlbnQgPSBSb290UGFydAogICAgICAgICAgICAgICAgQlYuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldyg5ZTgsIDllOCwgOWU4KQogICAgICAgICAgICAgICAgQlYuTWF4Rm9yY2UgPSBWZWN0b3IzLm5ldygxLzAsIDEvMCwgMS8wKQogICAgICAgICAgICAgICAgSHVtYW5vaWQ6U2V0U3RhdGVFbmFibGVkKEVudW0uSHVtYW5vaWRTdGF0ZVR5cGUuU2VhdGVkLCBmYWxzZSkKCiAgICAgICAgICAgICAgICBpZiBUUm9vdFBhcnQgYW5kIFRIZWFkIHRoZW4KICAgICAgICAgICAgICAgICAgICBTRkJhc2VQYXJ0KChUUm9vdFBhcnQuQ0ZyYW1lLnAgLSBUSGVhZC5DRnJhbWUucCkuTWFnbml0dWRlID4gNSBhbmQgVEhlYWQgb3IgVFJvb3RQYXJ0KQogICAgICAgICAgICAgICAgZWxzZWlmIFRSb290UGFydCB0aGVuCiAgICAgICAgICAgICAgICAgICAgU0ZCYXNlUGFydChUUm9vdFBhcnQpCiAgICAgICAgICAgICAgICBlbHNlaWYgVEhlYWQgdGhlbgogICAgICAgICAgICAgICAgICAgIFNGQmFzZVBhcnQoVEhlYWQpCiAgICAgICAgICAgICAgICBlbHNlaWYgSGFuZGxlIHRoZW4KICAgICAgICAgICAgICAgICAgICBTRkJhc2VQYXJ0KEhhbmRsZSkKICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgIEJWOkRlc3Ryb3koKQogICAgICAgICAgICAgICAgSHVtYW5vaWQ6U2V0U3RhdGVFbmFibGVkKEVudW0uSHVtYW5vaWRTdGF0ZVR5cGUuU2VhdGVkLCB0cnVlKQogICAgICAgICAgICAgICAgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IEh1bWFub2lkCiAgICAgICAgICAgICAgICBnZXRnZW52KCkuRlBESCA9IGdldGdlbnYoKS5GUERIIG9yIHdvcmtzcGFjZS5GYWxsZW5QYXJ0c0Rlc3Ryb3lIZWlnaHQKCiAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICBSb290UGFydC5DRnJhbWUgPSBnZXRnZW52KCkuT2xkUG9zICogQ0ZyYW1lLm5ldygwLCAwLjUsIDApCiAgICAgICAgICAgICAgICAgICAgQ2hhcmFjdGVyOlNldFByaW1hcnlQYXJ0Q0ZyYW1lKGdldGdlbnYoKS5PbGRQb3MgKiBDRnJhbWUubmV3KDAsIDAuNSwgMCkpCiAgICAgICAgICAgICAgICAgICAgSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoIkdldHRpbmdVcCIpCiAgICAgICAgICAgICAgICAgICAgdGFibGUuZm9yZWFjaChDaGFyYWN0ZXI6R2V0Q2hpbGRyZW4oKSwgZnVuY3Rpb24oXywgeCkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgeDpJc0EoIkJhc2VQYXJ0IikgdGhlbiB4LlZlbG9jaXR5LCB4LlJvdFZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoKSwgVmVjdG9yMy5uZXcoKSBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgIHVudGlsIChSb290UGFydC5Qb3NpdGlvbiAtIGdldGdlbnYoKS5PbGRQb3MucCkuTWFnbml0dWRlIDwgMjUKICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5GYWxsZW5QYXJ0c0Rlc3Ryb3lIZWlnaHQgPSBnZXRnZW52KCkuRlBESAogICAgICAgICAgICBlbmQpCiAgICAgICAgZWxzZQogICAgICAgICAgICBpZiBjb25uZWN0aW9uIHRoZW4gY29ubmVjdGlvbjpEaXNjb25uZWN0KCkgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCmxvY2FsIGZsaW5nRW5hYmxlZCA9IGZhbHNlCmxvY2FsIGZsaW5nVGhyZWFkID0gbmlsCgpQbGF5ZXJTZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLop6bnorDnlKnpo54iLAogICAgRGVzYyA9ICLlj6/og73ml6DmlYgiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oc3RhdGUpCiAgICAgICAgZmxpbmdFbmFibGVkID0gc3RhdGUKICAgICAgICBpZiBmbGluZ0VuYWJsZWQgdGhlbgogICAgICAgICAgICBpZiBmbGluZ1RocmVhZCB0aGVuIHJldHVybiBlbmQKICAgICAgICAgICAgZmxpbmdUaHJlYWQgPSB0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQogICAgICAgICAgICAgICAgbG9jYWwgUnVuU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpCiAgICAgICAgICAgICAgICBsb2NhbCBmbGluZ1Bvd2VyID0gMjUwMAogICAgICAgICAgICAgICAgbG9jYWwgbW92ZWwgPSAwLjA1CiAgICAgICAgICAgICAgICBsb2NhbCBscCA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKICAgICAgICAgICAgICAgIGxvY2FsIGNoYXJhY3RlciA9IGxwLkNoYXJhY3RlciBvciBscC5DaGFyYWN0ZXJBZGRlZDpXYWl0KCkKICAgICAgICAgICAgICAgIGxvY2FsIGhycCA9IGNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgICAgICAgICAgICAgd2hpbGUgZmxpbmdFbmFibGVkIGRvCiAgICAgICAgICAgICAgICAgICAgUnVuU2VydmljZS5IZWFydGJlYXQ6V2FpdCgpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgb3JpZ2luYWxWZWxvY2l0eSA9IGhycC5WZWxvY2l0eQogICAgICAgICAgICAgICAgICAgIGhycC5WZWxvY2l0eSA9IG9yaWdpbmFsVmVsb2NpdHkgKiAxLjUgKyBWZWN0b3IzLm5ldygwLCBmbGluZ1Bvd2VyLCAwKQogICAgICAgICAgICAgICAgICAgIFJ1blNlcnZpY2UuUmVuZGVyU3RlcHBlZDpXYWl0KCkKICAgICAgICAgICAgICAgICAgICBocnAuVmVsb2NpdHkgPSBvcmlnaW5hbFZlbG9jaXR5ICogMC44CiAgICAgICAgICAgICAgICAgICAgUnVuU2VydmljZS5TdGVwcGVkOldhaXQoKQogICAgICAgICAgICAgICAgICAgIGhycC5WZWxvY2l0eSA9IG9yaWdpbmFsVmVsb2NpdHkgKyBWZWN0b3IzLm5ldygwLCBtb3ZlbCwgMCkKICAgICAgICAgICAgICAgICAgICBtb3ZlbCA9IC1tb3ZlbAogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBmbGluZ1RocmVhZCA9IG5pbAogICAgICAgICAgICBlbmQpCiAgICAgICAgZWxzZQogICAgICAgICAgICBmbGluZ0VuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICBmbGluZ1RocmVhZCA9IG5pbAogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBEaXNhc3RlclNlY3Rpb24gPSBUZWxlcG9ydFRhYjpTZWN0aW9uKHtUaXRsZSA9ICLkvKDpgIHlip/og70iLCBJY29uPSJsdWNpZGU6Y2hldnJvbnMtbGVmdC1yaWdodC1lbGxpcHNpcyIsT3BlbmVkID0gZmFsc2V9KQoKRGlzYXN0ZXJTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLkvKDpgIHliLDnjqnlrrbml4HovrkiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgaWYgc2VsZWN0ZWRQbGF5ZXIgYW5kIHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgIGxvY2FsIHRhcmdldFBvcyA9IHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLlBvc2l0aW9uCiAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKS5DRnJhbWUgPSBDRnJhbWUubmV3KHRhcmdldFBvcyArIFZlY3RvcjMubmV3KDMsIDAsIDMpKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBMb2NrVFBUb2dnbGUgPSBEaXNhc3RlclNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIumUgeWumuS8oOmAgSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHN0YXRlKQogICAgICAgIGlmIHN0YXRlIGFuZCBzZWxlY3RlZFBsYXllciB0aGVuCiAgICAgICAgICAgIGxvY2FsIGNvbm5lY3Rpb24KICAgICAgICAgICAgY29ubmVjdGlvbiA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLkhlYXJ0YmVhdDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxlY3RlZFBsYXllciBvciBub3Qgc2VsZWN0ZWRQbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBsb2NhbCB0YXJnZXRQb3MgPSBzZWxlY3RlZFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKS5Qb3NpdGlvbgogICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLkNGcmFtZSA9IENGcmFtZS5uZXcodGFyZ2V0UG9zICsgVmVjdG9yMy5uZXcoMywgMCwgMykpCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAp9KQoKRGlzYXN0ZXJTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICLmiornjqnlrrbkvKDpgIHov4fmnaUiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgaWYgc2VsZWN0ZWRQbGF5ZXIgYW5kIHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgIGxvY2FsIG15Q2hhciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgaWYgbXlDaGFyIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIG15UG9zID0gbXlDaGFyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikuUG9zaXRpb24KICAgICAgICAgICAgICAgIHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLkNGcmFtZSA9IENGcmFtZS5uZXcobXlQb3MgKyBWZWN0b3IzLm5ldygzLCAwLCAzKSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCmxvY2FsIExvb3BUUFRvZ2dsZSA9IERpc2FzdGVyU2VjdGlvbjpUb2dnbGUoewogICAgVGl0bGUgPSAi5b6q546v5oqK546p5a625Lyg6YCB6L+H5p2lIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oc3RhdGUpCiAgICAgICAgaWYgc3RhdGUgYW5kIHNlbGVjdGVkUGxheWVyIHRoZW4KICAgICAgICAgICAgbG9jYWwgY29ubmVjdGlvbgogICAgICAgICAgICBjb25uZWN0aW9uID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgaWYgbm90IHNlbGVjdGVkUGxheWVyIG9yIG5vdCBzZWxlY3RlZFBsYXllci5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb246RGlzY29ubmVjdCgpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGxvY2FsIG15Q2hhciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgICAgIGlmIG15Q2hhciB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgbXlQb3MgPSBteUNoYXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKS5Qb3NpdGlvbgogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLkNGcmFtZSA9IENGcmFtZS5uZXcobXlQb3MgKyBWZWN0b3IzLm5ldygzLCAwLCAzKSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCmxvY2FsIEF0dHJhY3RTZWN0aW9uID0gVGVsZXBvcnRUYWI6U2VjdGlvbih7VGl0bGUgPSAi5ZC46ZmE5Yqf6IO9IiwgSWNvbj0ibHVjaWRlOnJvc2UiLE9wZW5lZCA9IGZhbHNlfSkKCmxvY2FsIEF0dHJhY3RUb2dnbGUgPSBBdHRyYWN0U2VjdGlvbjpUb2dnbGUoewogICAgVGl0bGUgPSAi5ZC46ZmE5omA5pyJ5Lq6IiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oc3RhdGUpCiAgICAgICAgaWYgc3RhdGUgdGhlbgogICAgICAgICAgICBsb2NhbCBjb25uZWN0aW9uCiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBsb2NhbCBteUNoYXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgICAgICAgICBpZiBteUNoYXIgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIG15UG9zID0gbXlDaGFyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikuUG9zaXRpb24KICAgICAgICAgICAgICAgICAgICBmb3IgXywgcGxheWVyIGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHBsYXllciB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgYW5kIHBsYXllci5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLkNGcmFtZSA9IENGcmFtZS5uZXcobXlQb3MgKyBWZWN0b3IzLm5ldygzLCAwLCAzKSkKICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBUaHJvd1NlY3Rpb24gPSBUZWxlcG9ydFRhYjpTZWN0aW9uKHtUaXRsZSA9ICLnlKnpo54iLCBJY29uPSJsdWNpZGU6YnJ1c2gtY2xlYW5pbmciLE9wZW5lZCA9IGZhbHNlfSkKClRocm93U2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi55Sp6aOe5omA5pyJ5Lq6IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgbG9jYWwgVGFyZ2V0cyA9IHsiQWxsIn0KICAgIGxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQogICAgbG9jYWwgUGxheWVyID0gUGxheWVycy5Mb2NhbFBsYXllcgogICAgbG9jYWwgQWxsQm9vbCA9IGZhbHNlCiAgICBsb2NhbCBHZXRQbGF5ZXIgPSBmdW5jdGlvbihOYW1lKQogICAgICAgIE5hbWUgPSBOYW1lOmxvd2VyKCkKICAgICAgICBpZiBOYW1lID09ICJhbGwiIG9yIE5hbWUgPT0gIm90aGVycyIgdGhlbgogICAgICAgICAgICBBbGxCb29sID0gdHJ1ZQogICAgICAgICAgICByZXR1cm4KICAgICAgICBlbHNlaWYgTmFtZSA9PSAicmFuZG9tIiB0aGVuCiAgICAgICAgICAgIGxvY2FsIEdldFBsYXllcnMgPSBQbGF5ZXJzOkdldFBsYXllcnMoKQogICAgICAgICAgICBpZiB0YWJsZS5maW5kKEdldFBsYXllcnMsUGxheWVyKSB0aGVuIHRhYmxlLnJlbW92ZShHZXRQbGF5ZXJzLHRhYmxlLmZpbmQoR2V0UGxheWVycyxQbGF5ZXIpKSBlbmQKICAgICAgICAgICAgcmV0dXJuIEdldFBsYXllcnNbbWF0aC5yYW5kb20oI0dldFBsYXllcnMpXQogICAgICAgIGVsc2VpZiBOYW1lIH49ICJyYW5kb20iIGFuZCBOYW1lIH49ICJhbGwiIGFuZCBOYW1lIH49ICJvdGhlcnMiIHRoZW4KICAgICAgICAgICAgZm9yIF8seCBpbiBuZXh0LCBQbGF5ZXJzOkdldFBsYXllcnMoKSBkbwogICAgICAgICAgICAgICAgaWYgeCB+PSBQbGF5ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIGlmIHguTmFtZTpsb3dlcigpOm1hdGNoKCJeIi4uTmFtZSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geDsKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgeC5EaXNwbGF5TmFtZTpsb3dlcigpOm1hdGNoKCJeIi4uTmFtZSkgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geDsKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybgogICAgICAgIGVuZAogICAgZW5kCiAgICBsb2NhbCBNZXNzYWdlID0gZnVuY3Rpb24oX1RpdGxlLCBfVGV4dCwgVGltZSkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlN0YXJ0ZXJHdWkiKTpTZXRDb3JlKCJTZW5kTm90aWZpY2F0aW9uIiwge1RpdGxlID0gX1RpdGxlLCBUZXh0ID0gX1RleHQsIER1cmF0aW9uID0gVGltZSwgSWNvbiA9ICJyYnhhc3NldGlkOi8vMTA1Njc3Nzc2OTAyNjc3In0pCiAgICBlbmQKICAgIGxvY2FsIFNraWRGbGluZyA9IGZ1bmN0aW9uKFRhcmdldFBsYXllcikKICAgICAgICBsb2NhbCBDaGFyYWN0ZXIgPSBQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgbG9jYWwgSHVtYW5vaWQgPSBDaGFyYWN0ZXIgYW5kIENoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICBsb2NhbCBSb290UGFydCA9IEh1bWFub2lkIGFuZCBIdW1hbm9pZC5Sb290UGFydAogICAgICAgIGxvY2FsIFRDaGFyYWN0ZXIgPSBUYXJnZXRQbGF5ZXIuQ2hhcmFjdGVyCiAgICAgICAgbG9jYWwgVEh1bWFub2lkCiAgICAgICAgbG9jYWwgVFJvb3RQYXJ0CiAgICAgICAgbG9jYWwgVEhlYWQKICAgICAgICBsb2NhbCBBY2Nlc3NvcnkKICAgICAgICBsb2NhbCBIYW5kbGUKICAgICAgICBpZiBUQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSB0aGVuCiAgICAgICAgICAgIFRIdW1hbm9pZCA9IFRDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICAgICAgZW5kCiAgICAgICAgaWYgVEh1bWFub2lkIGFuZCBUSHVtYW5vaWQuUm9vdFBhcnQgdGhlbgogICAgICAgICAgICBUUm9vdFBhcnQgPSBUSHVtYW5vaWQuUm9vdFBhcnQKICAgICAgICBlbmQKICAgICAgICBpZiBUQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIZWFkIikgdGhlbgogICAgICAgICAgICBUSGVhZCA9IFRDaGFyYWN0ZXIuSGVhZAogICAgICAgIGVuZAogICAgICAgIGlmIFRDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJBY2Nlc3NvcnkiKSB0aGVuCiAgICAgICAgICAgIEFjY2Vzc29yeSA9IFRDaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJBY2Nlc3NvcnkiKQogICAgICAgIGVuZAogICAgICAgIGlmIEFjY2Vzc295IGFuZCBBY2Nlc3Nvcnk6RmluZEZpcnN0Q2hpbGQoIkhhbmRsZSIpIHRoZW4KICAgICAgICAgICAgSGFuZGxlID0gQWNjZXNzb3J5LkhhbmRsZQogICAgICAgIGVuZAogICAgICAgIGlmIENoYXJhY3RlciBhbmQgSHVtYW5vaWQgYW5kIFJvb3RQYXJ0IHRoZW4KICAgICAgICAgICAgaWYgUm9vdFBhcnQuVmVsb2NpdHkuTWFnbml0dWRlIDwgNTAgdGhlbgogICAgICAgICAgICAgICAgZ2V0Z2VudigpLk9sZFBvcyA9IFJvb3RQYXJ0LkNGcmFtZQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgaWYgVEh1bWFub2lkIGFuZCBUSHVtYW5vaWQuU2l0IGFuZCBub3QgQWxsQm9vbCB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gTWVzc2FnZSgi6ZSZ6K+v5o+Q56S6IiwgIuebruagh+WkhOS6juWdkOWnvyIsIDIpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiBUSGVhZCB0aGVuCiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DYW1lcmFTdWJqZWN0ID0gVEhlYWQKICAgICAgICAgICAgZWxzZWlmIG5vdCBUSGVhZCBhbmQgSGFuZGxlIHRoZW4KICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNhbWVyYVN1YmplY3QgPSBIYW5kbGUKICAgICAgICAgICAgZWxzZWlmIFRIdW1hbm9pZCBhbmQgVFJvb3RQYXJ0IHRoZW4KICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNhbWVyYVN1YmplY3QgPSBUSHVtYW5vaWQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIG5vdCBUQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkV2hpY2hJc0EoIkJhc2VQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgRlBvcyA9IGZ1bmN0aW9uKEJhc2VQYXJ0LCBQb3MsIEFuZykKICAgICAgICAgICAgICAgIFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoQmFzZVBhcnQuUG9zaXRpb24pICogUG9zICogQW5nCiAgICAgICAgICAgICAgICBDaGFyYWN0ZXI6U2V0UHJpbWFyeVBhcnRDRnJhbWUoQ0ZyYW1lLm5ldyhCYXNlUGFydC5Qb3NpdGlvbikgKiBQb3MgKiBBbmcpCiAgICAgICAgICAgICAgICBSb290UGFydC5WZWxvY2l0eSA9IFZlY3RvcjMubmV3KDllNywgOWU3ICogMTAsIDllNykKICAgICAgICAgICAgICAgIFJvb3RQYXJ0LlJvdFZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoOWU4LCA5ZTgsIDllOCkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhbCBTRkJhc2VQYXJ0ID0gZnVuY3Rpb24oQmFzZVBhcnQpCiAgICAgICAgICAgICAgICBsb2NhbCBUaW1lVG9XYWl0ID0gMgogICAgICAgICAgICAgICAgbG9jYWwgVGltZSA9IHRpY2soKQogICAgICAgICAgICAgICAgbG9jYWwgQW5nbGUgPSAwCiAgICAgICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgICAgICBpZiBSb290UGFydCBhbmQgVEh1bWFub2lkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgQmFzZVBhcnQuVmVsb2NpdHkuTWFnbml0dWRlIDwgNTAgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgQW5nbGUgPSBBbmdsZSArIDEwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgRlBvcyhCYXNlUGFydCwgQ0ZyYW1lLm5ldygwLCAxLjUsIDApICsgVEh1bWFub2lkLk1vdmVEaXJlY3Rpb24gKiBCYXNlUGFydC5WZWxvY2l0eS5NYWduaXR1ZGUgLyAxLjI1LCBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKEFuZ2xlKSwwICwwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIC0xLjUsIDApICsgVEh1bWFub2lkLk1vdmVEaXJlY3Rpb24gKiBCYXNlUGFydC5WZWxvY2l0eS5NYWduaXR1ZGUgLyAxLjI1LCBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKEFuZ2xlKSwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRlBvcyhCYXNlUGFydCwgQ0ZyYW1lLm5ldygyLjI1LCAxLjUsIC0yLjI1KSArIFRIdW1hbm9pZC5Nb3ZlRGlyZWN0aW9uICogQmFzZVBhcnQuVmVsb2NpdHkuTWFnbml0dWRlIC8gMS4yNSwgQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZChBbmdsZSksIDAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoLTIuMjUsIC0xLjUsIDIuMjUpICsgVEh1bWFub2lkLk1vdmVEaXJlY3Rpb24gKiBCYXNlUGFydC5WZWxvY2l0eS5NYWduaXR1ZGUgLyAxLjI1LCBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKEFuZ2xlKSwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRlBvcyhCYXNlUGFydCwgQ0ZyYW1lLm5ldygwLCAxLjUsIDApICsgVEh1bWFub2lkLk1vdmVEaXJlY3Rpb24sQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZChBbmdsZSksIDAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgLTEuNSwgMCkgKyBUSHVtYW5vaWQuTW92ZURpcmVjdGlvbixDRnJhbWUuQW5nbGVzKG1hdGgucmFkKEFuZ2xlKSwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIDEuNSwgVEh1bWFub2lkLldhbGtTcGVlZCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIC0xLjUsIC1USHVtYW5vaWQuV2Fsa1NwZWVkKSwgQ0ZyYW1lLkFuZ2xlcygwLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIDEuNSwgVEh1bWFub2lkLldhbGtTcGVlZCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgMS41LCBUUm9vdFBhcnQuVmVsb2NpdHkuTWFnbml0dWRlIC8gMS4yNSksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIC0xLjUsIC1UUm9vdFBhcnQuVmVsb2NpdHkuTWFnbml0dWRlIC8gMS4yNSksIENGcmFtZS5BbmdsZXMoMCwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRlBvcyhCYXNlUGFydCwgQ0ZyYW1lLm5ldygwLCAxLjUsIFRSb290UGFydC5WZWxvY2l0eS5NYWduaXR1ZGUgLyAxLjI1KSwgQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgLTEuNSwgMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGUG9zKEJhc2VQYXJ0LCBDRnJhbWUubmV3KDAsIC0xLjUsIDApLCBDRnJhbWUuQW5nbGVzKDAsIDAsIDApKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay53YWl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZQb3MoQmFzZVBhcnQsIENGcmFtZS5uZXcoMCwgLTEuNSAsMCksIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoLTkwKSwgMCwgMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRlBvcyhCYXNlUGFydCwgQ0ZyYW1lLm5ldygwLCAtMS41LCAwKSwgQ0ZyYW1lLkFuZ2xlcygwLCAwLCAwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgIHVudGlsIEJhc2VQYXJ0LlZlbG9jaXR5Lk1hZ25pdHVkZSA+IDUwMCBvciBCYXNlUGFydC5QYXJlbnQgfj0gVGFyZ2V0UGxheWVyLkNoYXJhY3RlciBvciBUYXJnZXRQbGF5ZXIuUGFyZW50IH49IFBsYXllcnMgb3Igbm90IFRhcmdldFBsYXllci5DaGFyYWN0ZXIgPT0gVENoYXJhY3RlciBvciBUSHVtYW5vaWQuU2l0IG9yIEh1bWFub2lkLkhlYWx0aCA8PSAwIG9yIHRpY2soKSA+IFRpbWUgKyBUaW1lVG9XYWl0CiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgd29ya3NwYWNlLkZhbGxlblBhcnRzRGVzdHJveUhlaWdodCA9IDAvMAogICAgICAgICAgICAKICAgICAgICAgICAgbG9jYWwgQlYgPSBJbnN0YW5jZS5uZXcoIkJvZHlWZWxvY2l0eSIpCiAgICAgICAgICAgIEJWLk5hbWUgPSAiRXBpeFZlbCIKICAgICAgICAgICAgQlYuUGFyZW50ID0gUm9vdFBhcnQKICAgICAgICAgICAgQlYuVmVsb2NpdHkgPSBWZWN0b3IzLm5ldyg5ZTgsIDllOCwgOWU4KQogICAgICAgICAgICBCVi5NYXhGb3JjZSA9IFZlY3RvcjMubmV3KDEvMCwgMS8wLCAxLzApCiAgICAgICAgICAgIAogICAgICAgICAgICBIdW1hbm9pZDpTZXRTdGF0ZUVuYWJsZWQoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5TZWF0ZWQsIGZhbHNlKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgVFJvb3RQYXJ0IGFuZCBUSGVhZCB0aGVuCiAgICAgICAgICAgICAgICBpZiAoVFJvb3RQYXJ0LkNGcmFtZS5wIC0gVEhlYWQuQ0ZyYW1lLnApLk1hZ25pdHVkZSA+IDUgdGhlbgogICAgICAgICAgICAgICAgICAgIFNGQmFzZVBhcnQoVEhlYWQpCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgU0ZCYXNlUGFydChUUm9vdFBhcnQpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZWlmIFRSb290UGFydCBhbmQgbm90IFRIZWFkIHRoZW4KICAgICAgICAgICAgICAgIFNGQmFzZVBhcnQoVFJvb3RQYXJ0KQogICAgICAgICAgICBlbHNlaWYgbm90IFRSb290UGFydCBhbmQgVEhlYWQgdGhlbgogICAgICAgICAgICAgICAgU0ZCYXNlUGFydChUSGVhZCkKICAgICAgICAgICAgZWxzZWlmIG5vdCBUUm9vdFBhcnQgYW5kIG5vdCBUSGVhZCBhbmQgQWNjZXNzb3J5IGFuZCBIYW5kbGUgdGhlbgogICAgICAgICAgICAgICAgU0ZCYXNlUGFydChIYW5kbGUpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHJldHVybiBNZXNzYWdlKCJudWxsIiwgIueOqeWutuW3sui2i+WKvyIsIDIpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgQlY6RGVzdHJveSgpCiAgICAgICAgICAgIEh1bWFub2lkOlNldFN0YXRlRW5hYmxlZChFbnVtLkh1bWFub2lkU3RhdGVUeXBlLlNlYXRlZCwgdHJ1ZSkKICAgICAgICAgICAgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ2FtZXJhU3ViamVjdCA9IEh1bWFub2lkCiAgICAgICAgICAgIAogICAgICAgICAgICByZXBlYXQKICAgICAgICAgICAgICAgIFJvb3RQYXJ0LkNGcmFtZSA9IGdldGdlbnYoKS5PbGRQb3MgKiBDRnJhbWUubmV3KDAsIC41LCAwKQogICAgICAgICAgICAgICAgQ2hhcmFjdGVyOlNldFByaW1hcnlQYXJ0Q0ZyYW1lKGdldGdlbnYoKS5PbGRQb3MgKiBDRnJhbWUubmV3KDAsIC41LCAwKSkKICAgICAgICAgICAgICAgIEh1bWFub2lkOkNoYW5nZVN0YXRlKCJHZXR0aW5nVXAiKQogICAgICAgICAgICAgICAgdGFibGUuZm9yZWFjaChDaGFyYWN0ZXI6R2V0Q2hpbGRyZW4oKSwgZnVuY3Rpb24oXywgeCkKICAgICAgICAgICAgICAgICAgICBpZiB4OklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgIHguVmVsb2NpdHksIHguUm90VmVsb2NpdHkgPSBWZWN0b3IzLm5ldygpLCBWZWN0b3IzLm5ldygpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICB0YXNrLndhaXQoKQogICAgICAgICAgICB1bnRpbCAoUm9vdFBhcnQuUG9zaXRpb24gLSBnZXRnZW52KCkuT2xkUG9zLnApLk1hZ25pdHVkZSA8IDI1CiAgICAgICAgICAgIHdvcmtzcGFjZS5GYWxsZW5QYXJ0c0Rlc3Ryb3lIZWlnaHQgPSBnZXRnZW52KCkuRlBESAogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2UoIuS4jeatouiEmuacrCIsICLpmo/mnLrplJnor68iLCAyKQogICAgICAgIGVuZAogICAgZW5kCiAgICBsb2NhbCBoYXNQbGF5ZXJzID0gZmFsc2UKICAgIGZvciBfLHggaW4gbmV4dCwgUGxheWVyczpHZXRQbGF5ZXJzKCkgZG8KICAgICAgICBpZiB4IH49IFBsYXllciB0aGVuCiAgICAgICAgICAgIGhhc1BsYXllcnMgPSB0cnVlCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZW5kCiAgICBlbmQKICAgIGlmIG5vdCBoYXNQbGF5ZXJzIHRoZW4KICAgICAgICByZXR1cm4gTWVzc2FnZSgi5LiN5q2i6ISa5pysIiwgIuaXoOeOqeWutuWPr+S7peeUqemjniIsIDIpCiAgICBlbmQKICAgIGlmIG5vdCBXZWxjb21lIHRoZW4gTWVzc2FnZSgi5LiN5q2i6ISa5pysIiwgIueUqemjnuWinuW8uueJiCIsIDIpIGVuZAogICAgZ2V0Z2VudigpLldlbGNvbWUgPSB0cnVlCiAgICBpZiBUYXJnZXRzWzFdIHRoZW4gZm9yIF8seCBpbiBuZXh0LCBUYXJnZXRzIGRvIEdldFBsYXllcih4KSBlbmQgZWxzZSByZXR1cm4gZW5kCiAgICBpZiBBbGxCb29sIHRoZW4KICAgICAgICBmb3IgXyx4IGluIG5leHQsIFBsYXllcnM6R2V0UGxheWVycygpIGRvCiAgICAgICAgICAgIFNraWRGbGluZyh4KQogICAgICAgIGVuZAogICAgZW5kCiAgICBmb3IgXyx4IGluIG5leHQsIFRhcmdldHMgZG8KICAgICAgICBpZiBHZXRQbGF5ZXIoeCkgYW5kIEdldFBsYXllcih4KSB+PSBQbGF5ZXIgdGhlbgogICAgICAgICAgICBpZiBHZXRQbGF5ZXIoeCkuVXNlcklkIH49IDE0MTQ5NzgzNTUgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgVFBsYXllciA9IEdldFBsYXllcih4KQogICAgICAgICAgICAgICAgaWYgVFBsYXllciB0aGVuCiAgICAgICAgICAgICAgICAgICAgU2tpZEZsaW5nKFRQbGF5ZXIpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgTWVzc2FnZSgi5LiN5q2i6ISa5pysIiwgIuivpeeOqeWutuW3sue7j+WtmOWcqOeUqemjnuWQjeWNlSIsIDIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVsc2VpZiBub3QgR2V0UGxheWVyKHgpIGFuZCBub3QgQWxsQm9vbCB0aGVuCiAgICAgICAgICAgIE1lc3NhZ2UoIuS4jeatouiEmuacrCIsICLnjqnlrrbmjonnur8iLCAyKQogICAgICAgIGVuZAogICAgZW5kCmVuZAp9KQoKbG9jYWwgUG9zaXRpb25TZWN0aW9uID0gVGVsZXBvcnRUYWI6U2VjdGlvbih7VGl0bGUgPSAi5Lyg6YCB546p5a625YmN5ZCO5pa5IiwgSWNvbj0ibHVjaWRlOmFycm93LWRvd24tdXAiLE9wZW5lZCA9IGZhbHNlfSkKCmxvY2FsIEZyb250RGlzdGFuY2UgPSA1CmxvY2FsIEZyb250U2xpZGVyID0gUG9zaXRpb25TZWN0aW9uOlNsaWRlcih7CiAgICBUaXRsZSA9ICLkvKDpgIHoh7PnjqnlrrbliY3mlrnot53nprsiLAogICAgU3RlcCA9IDEsCiAgICBWYWx1ZSA9IHsKICAgICAgICBNaW4gPSAxLAogICAgICAgIE1heCA9IDUwLAogICAgICAgIERlZmF1bHQgPSA1LAogICAgfSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCiAgICAgICAgRnJvbnREaXN0YW5jZSA9IHZhbHVlCiAgICBlbmQKfSkKCmxvY2FsIEZyb250VG9nZ2xlID0gUG9zaXRpb25TZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLlvqrnjq/kvKDpgIHoh7PnjqnlrrbliY3mlrkiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihzdGF0ZSkKICAgICAgICBpZiBzdGF0ZSBhbmQgc2VsZWN0ZWRQbGF5ZXIgdGhlbgogICAgICAgICAgICBsb2NhbCBjb25uZWN0aW9uCiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZWN0ZWRQbGF5ZXIgb3Igbm90IHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgbG9jYWwgdGFyZ2V0Q0YgPSBzZWxlY3RlZFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKS5DRnJhbWUKICAgICAgICAgICAgICAgIGxvY2FsIGZyb250UG9zID0gdGFyZ2V0Q0YuUG9zaXRpb24gKyB0YXJnZXRDRi5Mb29rVmVjdG9yICogRnJvbnREaXN0YW5jZQogICAgICAgICAgICAgICAgaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLkNGcmFtZSA9IENGcmFtZS5uZXcoZnJvbnRQb3MpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBIZWFkRGlzdGFuY2UgPSA1CmxvY2FsIEhlYWRTbGlkZXIgPSBQb3NpdGlvblNlY3Rpb246U2xpZGVyKHsKICAgIFRpdGxlID0gIuS8oOmAgeiHs+eOqeWutuWktOmhtui3neemuyIsCiAgICBTdGVwID0gMSwKICAgIFZhbHVlID0gewogICAgICAgIE1pbiA9IDEsCiAgICAgICAgTWF4ID0gNTAsCiAgICAgICAgRGVmYXVsdCA9IDUsCiAgICB9LAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBIZWFkRGlzdGFuY2UgPSB2YWx1ZQogICAgZW5kCn0pCgpsb2NhbCBIZWFkVG9nZ2xlID0gUG9zaXRpb25TZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLlvqrnjq/kvKDpgIHoh7PnjqnlrrblpLTpobYiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihzdGF0ZSkKICAgICAgICBpZiBzdGF0ZSBhbmQgc2VsZWN0ZWRQbGF5ZXIgdGhlbgogICAgICAgICAgICBsb2NhbCBjb25uZWN0aW9uCiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZWN0ZWRQbGF5ZXIgb3Igbm90IHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgbG9jYWwgdGFyZ2V0UG9zID0gc2VsZWN0ZWRQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikuUG9zaXRpb24KICAgICAgICAgICAgICAgIGlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKS5DRnJhbWUgPSBDRnJhbWUubmV3KHRhcmdldFBvcy5YLCB0YXJnZXRQb3MuWSArIEhlYWREaXN0YW5jZSwgdGFyZ2V0UG9zLlopCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBCYWNrRGlzdGFuY2UgPSA1CmxvY2FsIEJhY2tTbGlkZXIgPSBQb3NpdGlvblNlY3Rpb246U2xpZGVyKHsKICAgIFRpdGxlID0gIuS8oOmAgeiHs+eOqeWutuWQjumdoui3neemuyIsCiAgICBTdGVwID0gMSwKICAgIFZhbHVlID0gewogICAgICAgIE1pbiA9IDEsCiAgICAgICAgTWF4ID0gNTAsCiAgICAgICAgRGVmYXVsdCA9IDUsCiAgICB9LAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2YWx1ZSkKICAgICAgICBCYWNrRGlzdGFuY2UgPSB2YWx1ZQogICAgZW5kCn0pCgpsb2NhbCBCYWNrVG9nZ2xlID0gUG9zaXRpb25TZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLlvqrnjq/kvKDpgIHoh7PnjqnlrrblkI7pnaIiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihzdGF0ZSkKICAgICAgICBpZiBzdGF0ZSBhbmQgc2VsZWN0ZWRQbGF5ZXIgdGhlbgogICAgICAgICAgICBsb2NhbCBjb25uZWN0aW9uCiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZWN0ZWRQbGF5ZXIgb3Igbm90IHNlbGVjdGVkUGxheWVyLkNoYXJhY3RlciB0aGVuCiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgbG9jYWwgdGFyZ2V0Q0YgPSBzZWxlY3RlZFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKS5DRnJhbWUKICAgICAgICAgICAgICAgIGxvY2FsIGJhY2tQb3MgPSB0YXJnZXRDRi5Qb3NpdGlvbiAtIHRhcmdldENGLkxvb2tWZWN0b3IgKiBCYWNrRGlzdGFuY2UKICAgICAgICAgICAgICAgIGlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKS5DRnJhbWUgPSBDRnJhbWUubmV3KGJhY2tQb3MpCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpsb2NhbCBTcGluU2VjdGlvbiA9IFNwaW5UYWI6U2VjdGlvbih7CiAgICBUaXRsZSA9ICLml4vovazpgJ/luqYiLAogICAgT3BlbmVkID0gdHJ1ZQp9KQoKU3BpblNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuWFs+mXreaXi+i9rCIsCiAgICBEZXNjID0gIuWBnOatouaJgOacieaXi+i9rOaViOaenCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCBwbHIgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcgogICAgICAgIGlmIHBsci5DaGFyYWN0ZXIgdGhlbgogICAgICAgICAgICBsb2NhbCBodW1Sb290ID0gcGxyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgIGlmIGh1bVJvb3QgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgc3BpbmJvdCA9IGh1bVJvb3Q6RmluZEZpcnN0Q2hpbGQoIlNwaW5ib3QiKQogICAgICAgICAgICAgICAgaWYgc3BpbmJvdCB0aGVuCiAgICAgICAgICAgICAgICAgICAgc3BpbmJvdDpEZXN0cm95KCkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICAgICAgCiAgICAgICAgICAgIGxvY2FsIGh1bWFub2lkID0gcGxyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQogICAgICAgICAgICBpZiBodW1hbm9pZCB0aGVuCiAgICAgICAgICAgICAgICBodW1hbm9pZC5BdXRvUm90YXRlID0gdHJ1ZQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgICAgICBXaW5kVUk6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi5peL6L2s5bey5YWz6ZetIiwKICAgICAgICAgICAgQ29udGVudCA9ICLmiYDmnInml4vovazmlYjmnpzlt7LlgZzmraIiLAogICAgICAgICAgICBEdXJhdGlvbiA9IDMsCiAgICAgICAgICAgIEljb24gPSAic3F1YXJlIgogICAgICAgIH0pCiAgICBlbmQKfSkKCmxvY2FsIHNwaW5TcGVlZHMgPSB7CiAgICB7dGl0bGUgPSAi5peL6L2sMTAiLCBzcGVlZCA9IDEwLCBkZXNjID0gIuaFoumAn+aXi+i9rCJ9LAogICAge3RpdGxlID0gIuaXi+i9rDMwIiwgc3BlZWQgPSAzMCwgZGVzYyA9ICLkuK3pgJ/ml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovaw0MCIsIHNwZWVkID0gNDAsIGRlc2MgPSAi5Lit5b+r6YCf5peL6L2sIn0sCiAgICB7dGl0bGUgPSAi5peL6L2sNTAiLCBzcGVlZCA9IDUwLCBkZXNjID0gIuW/q+mAn+aXi+i9rCJ9LAogICAge3RpdGxlID0gIuaXi+i9rDYwIiwgc3BlZWQgPSA2MCwgZGVzYyA9ICLovoPlv6vml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovaw3MCIsIHNwZWVkID0gNzAsIGRlc2MgPSAi6auY6YCf5peL6L2sIn0sCiAgICB7dGl0bGUgPSAi5peL6L2sODAiLCBzcGVlZCA9IDgwLCBkZXNjID0gIui2hemrmOmAn+aXi+i9rCJ9LAogICAge3RpdGxlID0gIuaXi+i9rDkwIiwgc3BlZWQgPSA5MCwgZGVzYyA9ICLmnoHpgJ/ml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovawxMDAiLCBzcGVlZCA9IDEwMCwgZGVzYyA9ICLotoXmnoHpgJ/ml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovawxNTAiLCBzcGVlZCA9IDE1MCwgZGVzYyA9ICLnlq/ni4Lml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovawyMDAiLCBzcGVlZCA9IDIwMCwgZGVzYyA9ICLotoXnlq/ni4Lml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovawyNTAiLCBzcGVlZCA9IDI1MCwgZGVzYyA9ICLmnoHpmZDml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovawzMDAiLCBzcGVlZCA9IDMwMCwgZGVzYyA9ICLotoXmnoHpmZDml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovawzNTAiLCBzcGVlZCA9IDM1MCwgZGVzYyA9ICLlhYnpgJ/ml4vovawifSwKICAgIHt0aXRsZSA9ICLml4vovaw0MDAiLCBzcGVlZCA9IDQwMCwgZGVzYyA9ICLnu4jmnoHml4vovawifQp9Cgpmb3IgXywgc3BpbiBpbiBpcGFpcnMoc3BpblNwZWVkcykgZG8KICAgIFNwaW5TZWN0aW9uOkJ1dHRvbih7CiAgICAgICAgVGl0bGUgPSBzcGluLnRpdGxlLAogICAgICAgIERlc2MgPSBzcGluLmRlc2MsCiAgICAgICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgICAgIGxvY2FsIHNwZWVkID0gc3Bpbi5zcGVlZAogICAgICAgICAgICBsb2NhbCBwbHIgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcgogICAgICAgICAgICByZXBlYXQgdGFzay53YWl0KCkgdW50aWwgcGxyLkNoYXJhY3RlcgogICAgICAgICAgICBsb2NhbCBodW1Sb290ID0gcGxyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgICAgICAgICBwbHIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKS5BdXRvUm90YXRlID0gZmFsc2UKICAgICAgICAgICAgbG9jYWwgdmVsb2NpdHkgPSBJbnN0YW5jZS5uZXcoIkFuZ3VsYXJWZWxvY2l0eSIpCiAgICAgICAgICAgIHZlbG9jaXR5LkF0dGFjaG1lbnQwID0gaHVtUm9vdDpXYWl0Rm9yQ2hpbGQoIlJvb3RBdHRhY2htZW50IikKICAgICAgICAgICAgdmVsb2NpdHkuTWF4VG9ycXVlID0gbWF0aC5odWdlCiAgICAgICAgICAgIHZlbG9jaXR5LkFuZ3VsYXJWZWxvY2l0eSA9IFZlY3RvcjMubmV3KDAsIHNwZWVkLCAwKQogICAgICAgICAgICB2ZWxvY2l0eS5QYXJlbnQgPSBodW1Sb290CiAgICAgICAgICAgIHZlbG9jaXR5Lk5hbWUgPSAiU3BpbmJvdCIKICAgICAgICAgICAgCiAgICAgICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICAgICAgVGl0bGUgPSAi5peL6L2s5bey5byA5ZCvIiwKICAgICAgICAgICAgICAgIENvbnRlbnQgPSBzcGluLnRpdGxlIC4uICIg5bey5r+A5rS7IiwKICAgICAgICAgICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICAgICAgICAgIEljb24gPSAicm90YXRlLWN3IgogICAgICAgICAgICB9KQogICAgICAgIGVuZAogICAgfSkKZW5kCgpsb2NhbCBKaXN1U2VjdGlvbiA9IHNlcnZlMTpTZWN0aW9uKHsKICAgIFRpdGxlID0gIuaegemAn+S8oOWlh+WKn+iDvSIsCiAgICBJY29uPSJ0b3JuYWRvIiwKICAgIE9wZW5lZCA9IGZhbHNlCn0pCgpKaXN1U2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWz5LqOIiwKICAgIERlc2MgPSAi6L+b5YWl5a+55bqU55qE5pyN5Yqh5Zmo5Lya5Yqg6L2955u45YWz6ISa5pysIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQpsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1h4d2FuaGV4eFgvMzIxL3JlZnMvaGVhZHMvbWFpbi8lRTUlOEElOUIlRTklODclOEYlRTQlQkMlQTAlRTUlQTUlODcnKSkoKQogICAgZW5kCn0pCgpsb2NhbCBMaUxpYW5nU2VjdGlvbiA9IHNlcnZlMTpTZWN0aW9uKHsKICAgIFRpdGxlID0gIuWKm+mHj+S8oOWlhyIsCiAgICBJY29uPSJ0b3JuYWRvIiwKICAgIE9wZW5lZCA9IGZhbHNlCn0pCgpMaUxpYW5nU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YWz5LqOIiwKICAgIERlc2MgPSAi6L+b5YWl5a+55bqU55qE5pyN5Yqh5Zmo5Lya5Yqg6L2955u45YWz6ISa5pysIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQpsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1h4d2FuaGV4eFgvMzIxL3JlZnMvaGVhZHMvbWFpbi8lRTUlOEElOUIlRTklODclOEYlRTQlQkMlQTAlRTUlQTUlODcnKSkoKQogICAgZW5kCn0pCgpsb2NhbCBEaXNhc3RlclNlY3Rpb24gPSBzZXJ2ZTE6U2VjdGlvbih7CiAgICBUaXRsZSA9ICLoh6rnhLbngb7lrrPlip/og70iLAogICAgSWNvbiA9ICJ0b3JuYWRvIiwKICAgIE9wZW5lZCA9IGZhbHNlIAp9KQoKRGlzYXN0ZXJTZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLoh6rliqjog5zliKl2MSIsCiAgICBEZXNjID0gIuS8oOmAgeWIsOiDnOWIqeS9jee9rjEiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oYm9vbCkKICAgICAgICBfRy5hdXRvd2luZmFybTEgPSBib29sCiAgICAgICAgd2hpbGUgd2FpdCguMSkgYW5kIF9HLmF1dG93aW5mYXJtMSBkbwogICAgICAgICAgICBpZiBfRy5hdXRvd2luZmFybTEgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgaWYgY2hhcmFjdGVyIGFuZCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldygtMjM2LCAxODAsIDM2MCwgMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKRGlzYXN0ZXJTZWN0aW9uOlRvZ2dsZSh7CiAgICBUaXRsZSA9ICLoh6rliqjog5zliKl2MiIsCiAgICBEZXNjID0gIuS8oOmAgeWIsOiDnOWIqeS9jee9rjIiLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oYm9vbCkKICAgICAgICBfRy5hdXRvd2luZmFybTIgPSBib29sCiAgICAgICAgd2hpbGUgd2FpdCguMSkgYW5kIF9HLmF1dG93aW5mYXJtMiBkbwogICAgICAgICAgICBpZiBfRy5hdXRvd2luZmFybTIgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgY2hhcmFjdGVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgaWYgY2hhcmFjdGVyIGFuZCBjaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldygtMjgwLCAxNzAsIDM0MSwgMSwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMSkKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAp9KQoKRGlzYXN0ZXJTZWN0aW9uOkRpdmlkZXIoKQoKbG9jYWwgbmV4dGRpcwpEaXNhc3RlclNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIumihOa1i+acrOasoeeBvuWusyjlnKjngb7lrrPlsYDlhoUpIiwKICAgIERlc2MgPSAi5Zyo54G+5a6z5bGA5YaF6aKE5rWL5b2T5YmN54G+5a6zIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbCkKICAgICAgICBuZXh0ZGlzID0gdmFsCiAgICAgICAgd2hpbGUgd2FpdCgxKSBhbmQgbmV4dGRpcyBkbwogICAgICAgICAgICBsb2NhbCBTdXJ2aXZhbFRhZyA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlN1cnZpdmFsVGFnIikKICAgICAgICAgICAgaWYgU3Vydml2YWxUYWcgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgZGlzYXN0ZXJUZXh0cyA9IHsKICAgICAgICAgICAgICAgICAgICBbIkJsaXp6YXJkIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5pq06aOO6ZuqIiwKICAgICAgICAgICAgICAgICAgICBbIlNhbmRzdG9ybSJdID0gIuS4i+S4gOS4queBvumavuaYr++8muaymeWwmOaatCIsCiAgICAgICAgICAgICAgICAgICAgWyJUb3JuYWRvIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya6b6Z5Y236aOOIiwKICAgICAgICAgICAgICAgICAgICBbIlZvbGNhbmljIEVydXB0aW9uIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya54Gr5bGxIiwKICAgICAgICAgICAgICAgICAgICBbIkZsYXNoIEZsb29kIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5rSq5rC0IiwKICAgICAgICAgICAgICAgICAgICBbIkRlYWRseSBWaXJ1cyJdID0gIuS4i+S4gOS4queBvumavuaYr++8mueXheavkiIsCiAgICAgICAgICAgICAgICAgICAgWyJUc3VuYW1pIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5rW35ZW4IiwKICAgICAgICAgICAgICAgICAgICBbIkFjaWQgUmFpbiJdID0gIuS4i+S4gOS4queBvumavuaYr++8mumFuOmbqCIsCiAgICAgICAgICAgICAgICAgICAgWyJGaXJlIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya54Gr54SwIiwKICAgICAgICAgICAgICAgICAgICBbIk1ldGVvciBTaG93ZXIiXSA9ICLkuIvkuIDkuKrngb7pmr7mmK/vvJrmtYHmmJ/pm6giLAogICAgICAgICAgICAgICAgICAgIFsiRWFydGhxdWFrZSJdID0gIuS4i+S4gOS4queBvumavuaYr++8muWcsOmchyIsCiAgICAgICAgICAgICAgICAgICAgWyJUaHVuZGVyIFN0b3JtIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya6Zu35Ye7IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiBkaXNhc3RlclRleHRzW1N1cnZpdmFsVGFnLlZhbHVlXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIFRpdGxlID0gIueBvuWus+mihOa1iyIsCiAgICAgICAgICAgICAgICAgICAgICAgIENvbnRlbnQgPSBkaXNhc3RlclRleHRzW1N1cnZpdmFsVGFnLlZhbHVlXSwKICAgICAgICAgICAgICAgICAgICAgICAgRHVyYXRpb24gPSA1LAogICAgICAgICAgICAgICAgICAgICAgICBJY29uID0gImFsZXJ0LWNpcmNsZSIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpEaXNhc3RlclNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIumihOa1i+S4i+S4queBvuWusyjlnKjngb7lrrPlsYDlpJYpIiwKICAgIERlc2MgPSAi5Zyo54G+5a6z5bGA5aSW6aKE5rWL5LiL5LiA5Liq54G+5a6zIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHZhbCkKICAgICAgICBuZXh0ZGlzID0gdmFsCiAgICAgICAgd2hpbGUgd2FpdCgxKSBhbmQgbmV4dGRpcyBkbwogICAgICAgICAgICBsb2NhbCBTdXJ2aXZhbFRhZyA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlN1cnZpdmFsVGFnIikKICAgICAgICAgICAgaWYgU3Vydml2YWxUYWcgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgZGlzYXN0ZXJUZXh0cyA9IHsKICAgICAgICAgICAgICAgICAgICBbIkJsaXp6YXJkIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5pq06aOO6ZuqIiwKICAgICAgICAgICAgICAgICAgICBbIlNhbmRzdG9ybSJdID0gIuS4i+S4gOS4queBvumavuaYr++8muaymeWwmOaatCIsCiAgICAgICAgICAgICAgICAgICAgWyJUb3JuYWRvIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya6b6Z5Y236aOOIiwKICAgICAgICAgICAgICAgICAgICBbIlZvbGNhbmljIEVydXB0aW9uIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya54Gr5bGxIiwKICAgICAgICAgICAgICAgICAgICBbIkZsYXNoIEZsb29kIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5rSq5rC0IiwKICAgICAgICAgICAgICAgICAgICBbIkRlYWRseSBWaXJ1cyJdID0gIuS4i+S4gOS4queBvumavuaYr++8mueXheavkiIsCiAgICAgICAgICAgICAgICAgICAgWyJUc3VuYW1pIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5rW35ZW4IiwKICAgICAgICAgICAgICAgICAgICBbIkFjaWQgUmFpbiJdID0gIuS4i+S4gOS4queBvumavuaYr++8mumFuOmbqCIsCiAgICAgICAgICAgICAgICAgICAgWyJGaXJlIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya54Gr54SwIiwKICAgICAgICAgICAgICAgICAgICBbIk1ldGVvciBTaG93ZXIiXSA9ICLkuIvkuIDkuKrngb7pmr7mmK/vvJrmtYHmmJ/pm6giLAogICAgICAgICAgICAgICAgICAgIFsiRWFydGhxdWFrZSJdID0gIuS4i+S4gOS4queBvumavuaYr++8muWcsOmchyIsCiAgICAgICAgICAgICAgICAgICAgWyJUaHVuZGVyIFN0b3JtIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5pq06aOO6ZuoIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiBkaXNhc3RlclRleHRzW1N1cnZpdmFsVGFnLlZhbHVlXSB0aGVuCiAgICAgICAgICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIFRpdGxlID0gIueBvuWus+mihOa1iyIsCiAgICAgICAgICAgICAgICAgICAgICAgIENvbnRlbnQgPSBkaXNhc3RlclRleHRzW1N1cnZpdmFsVGFnLlZhbHVlXSwKICAgICAgICAgICAgICAgICAgICAgICAgRHVyYXRpb24gPSA1LAogICAgICAgICAgICAgICAgICAgICAgICBJY29uID0gImFsZXJ0LWNpcmNsZSIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCn0pCgpEaXNhc3RlclNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuaJk+WNsOS4i+S4gOasoeeBvuWus+S/oeaBryIsCiAgICBEZXNjID0gIuaYvuekuuS4i+S4gOasoeeBvuWus+S/oeaBryIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2NhbCBTdXJ2aXZhbFRhZyA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlN1cnZpdmFsVGFnIikKICAgICAgICBpZiBTdXJ2aXZhbFRhZyB0aGVuCiAgICAgICAgICAgIGxvY2FsIGRpc2FzdGVyVGV4dHMgPSB7CiAgICAgICAgICAgICAgICBbIkJsaXp6YXJkIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5pq06aOO6ZuqIiwKICAgICAgICAgICAgICAgIFsiU2FuZHN0b3JtIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5rKZ5bCY5pq0IiwKICAgICAgICAgICAgICAgIFsiVG9ybmFkbyJdID0gIuS4i+S4gOS4queBvumavuaYr++8mum+meWNt+mjjiIsCiAgICAgICAgICAgICAgICBbIlZvbGNhbmljIEVydXB0aW9uIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya54Gr5bGxIiwKICAgICAgICAgICAgICAgIFsiRmxhc2ggRmxvb2QiXSA9ICLkuIvkuIDkuKrngb7pmr7mmK/vvJrmtKrmsLQiLAogICAgICAgICAgICAgICAgWyJEZWFkbHkgVmlydXMiXSA9ICLkuIvkuIDkuKrngb7pmr7mmK/vvJrnl4Xmr5IiLAogICAgICAgICAgICAgICAgWyJUc3VuYW1pIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5rW35ZW4IiwKICAgICAgICAgICAgICAgIFsiQWNpZCBSYWluIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya6YW46ZuoIiwKICAgICAgICAgICAgICAgIFsiRmlyZSJdID0gIuS4i+S4gOS4queBvumavuaYr++8mueBq+eEsCIsCiAgICAgICAgICAgICAgICBbIk1ldGVvciBTaG93ZXIiXSA9ICLkuIvkuIDkuKrngb7pmr7mmK/vvJrmtYHmmJ/pm6giLAogICAgICAgICAgICAgICAgWyJFYXJ0aHF1YWtlIl0gPSAi5LiL5LiA5Liq54G+6Zq+5piv77ya5Zyw6ZyHIiwKICAgICAgICAgICAgICAgIFsiVGh1bmRlciBTdG9ybSJdID0gIuS4i+S4gOS4queBvumavuaYr++8mumbt+WHuyIKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgZGlzYXN0ZXJUZXh0c1tTdXJ2aXZhbFRhZy5WYWx1ZV0gdGhlbgogICAgICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgVGl0bGUgPSAi54G+5a6z6aKE5rWLIiwKICAgICAgICAgICAgICAgICAgICBDb250ZW50ID0gZGlzYXN0ZXJUZXh0c1tTdXJ2aXZhbFRhZy5WYWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgRHVyYXRpb24gPSA1LAogICAgICAgICAgICAgICAgICAgIEljb24gPSAiYWxlcnQtY2lyY2xlIgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCkRpc2FzdGVyU2VjdGlvbjpEaXZpZGVyKCkKCkRpc2FzdGVyU2VjdGlvbjpUb2dnbGUoewogICAgVGl0bGUgPSAi5Zyw5Zu+5oqV56Wo55So5oi355WM6Z2iIiwKICAgIERlc2MgPSAi5pi+56S6L+makOiXj+WcsOWbvuaKleelqOeVjOmdoiIsCiAgICBWYWx1ZSA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbihib29sKQogICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbkd1aS5NYXBWb3RlUGFnZS5WaXNpYmxlID0gYm9vbAogICAgZW5kCn0pCgpEaXNhc3RlclNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIuWcqOawtOS4iuihjOi1sCIsCiAgICBEZXNjID0gIuWQr+eUqC/npoHnlKjmsLTpnaLnorDmkp4iLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oYm9vbCkKICAgICAgICBpZiBib29sIHRoZW4KICAgICAgICAgICAgZ2FtZS5Xb3Jrc3BhY2UuV2F0ZXJMZXZlbC5DYW5Db2xsaWRlID0gdHJ1ZQogICAgICAgICAgICBnYW1lLldvcmtzcGFjZS5XYXRlckxldmVsLlNpemUgPSBWZWN0b3IzLm5ldyg1MDAwLCAxLCA1MDAwKQogICAgICAgIGVsc2UKICAgICAgICAgICAgZ2FtZS5Xb3Jrc3BhY2UuV2F0ZXJMZXZlbC5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgZ2FtZS5Xb3Jrc3BhY2UuV2F0ZXJMZXZlbC5TaXplID0gVmVjdG9yMy5uZXcoMTAsIDEsIDEwKQogICAgICAgIGVuZAogICAgZW5kCn0pCgpEaXNhc3RlclNlY3Rpb246VG9nZ2xlKHsKICAgIFRpdGxlID0gIuS9v+Wym+i+uee8mOacieWunuS9k+eisOaSnuaWueWdlyIsCiAgICBEZXNjID0gIuWQr+eUqC/npoHnlKjlspvovrnnvJjnorDmkp4iLAogICAgVmFsdWUgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oYm9vbCkKICAgICAgICBmb3IgaSwgdiBpbiBwYWlycyhnYW1lLndvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICBpZiB2Lk5hbWUgPT0gJ0xvd2VyUm9ja3MnIHRoZW4KICAgICAgICAgICAgICAgIHYuQ2FuQ29sbGlkZSA9IGJvb2wKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCkRpc2FzdGVyU2VjdGlvbjpUb2dnbGUoewogICAgVGl0bGUgPSAi5Yig6Zmk5pq06aOO6Zuq5rKZ5bCY5pq055WM6Z2i5pi+56S6IiwKICAgIERlc2MgPSAi56e76Zmk5pq06aOO6Zuq5ZKM5rKZ5bCY5pq055qE55WM6Z2i5pWI5p6cIiwKICAgIFZhbHVlID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKGJvb2wpCiAgICAgICAgaWYgYm9vbCB0aGVuCiAgICAgICAgICAgIGlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWk6RmluZEZpcnN0Q2hpbGQoIkJsaXp6YXJkR3VpIikgdGhlbgogICAgICAgICAgICAgICAgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5CbGl6emFyZEd1aTpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWk6RmluZEZpcnN0Q2hpbGQoIlNhbmRTdG9ybUd1aSIpIHRoZW4KICAgICAgICAgICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuU2FuZFN0b3JtR3VpOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgICAgICBUaXRsZSA9ICLnlYzpnaLmuIXnkIYiLAogICAgICAgICAgICAgICAgQ29udGVudCA9ICLngb7pmr7nlYzpnaLlt7Lnp7vpmaQiLAogICAgICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICAgICAgSWNvbiA9ICJleWUtb2ZmIgogICAgICAgICAgICB9KQogICAgICAgIGVuZAogICAgZW5kCn0pCgpEaXNhc3RlclNlY3Rpb246RGl2aWRlcigpCgpEaXNhc3RlclNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuS8oOmAgeWIsOWcsOWbviIsCiAgICBEZXNjID0gIuS8oOmAgeWIsOS4u+imgeWcsOWbvuS9jee9riIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldygtMTE1LjgyODUwNiwgNjUuNDg2MzQzNCwgMTguODQ2MTUxNCwgMC4wMDY5NzAxNzk3MywgMC4wNzg5MzcxNTA1LCAtMC45OTY4NTUxOTksIC0zLjEzNTg5OTM2ZS0wNywgMC45OTY4Nzk0NTgsIDAuMDc4OTM5MDY1MywgMC45OTk5NzU2ODEsIC0wLjAwMDU0OTkwNjg2NSwgMC4wMDY5NDg0NTM4NCkKICAgICAgICBXaW5kVUk6Tm90aWZ5KHsKICAgICAgICAgICAgVGl0bGUgPSAi5Lyg6YCB5oiQ5YqfIiwKICAgICAgICAgICAgQ29udGVudCA9ICLlt7LkvKDpgIHliLDlnLDlm77kvY3nva4iLAogICAgICAgICAgICBEdXJhdGlvbiA9IDIsCiAgICAgICAgICAgIEljb24gPSAibWFwLXBpbiIKICAgICAgICB9KQogICAgZW5kCn0pCgpEaXNhc3RlclNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIueBvuWus+WymyIsCiAgICBEZXNjID0gIuS8oOmAgeWIsOeBvuWus+WymyjkvY3nva7lj6/og73lgY/lt64pIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KC04My41LCAzOC41LCAtMjcuNSwgLTEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIC0xKQogICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLkvKDpgIHmiJDlip8iLAogICAgICAgICAgICBDb250ZW50ID0gIuW3suS8oOmAgeWIsOeBvuWus+WymyIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMiwKICAgICAgICAgICAgSWNvbiA9ICJtYXAtcGluIgogICAgICAgIH0pCiAgICBlbmQKfSkKCkRpc2FzdGVyU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5Li75aGUIiwKICAgIERlc2MgPSAi5Lyg6YCB5Yiw5Li75aGU5L2N572uIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KC0yODAsIDE4MCwgMzQxLCAxLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAxKQogICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLkvKDpgIHmiJDlip8iLAogICAgICAgICAgICBDb250ZW50ID0gIuW3suS8oOmAgeWIsOS4u+WhlCIsCiAgICAgICAgICAgIER1cmF0aW9uID0gMiwKICAgICAgICAgICAgSWNvbiA9ICJtYXAtcGluIgogICAgICAgIH0pCiAgICBlbmQKfSkKCmxvY2FsIHZ1ID0gZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpCmdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLklkbGVkOmNvbm5lY3QoZnVuY3Rpb24oKQogICAgdnU6QnV0dG9uMkRvd24oVmVjdG9yMi5uZXcoMCwwKSx3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUpCiAgICB3YWl0KDEpCiAgICB2dTpCdXR0b24yVXAoVmVjdG9yMi5uZXcoMCwwKSx3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUpCmVuZCkKCmxvY2FsIENoZWVzZVNlY3Rpb24gPSBzZXJ2ZTE6U2VjdGlvbih7VGl0bGUgPSAi5aW26YWq6YCD55SfIiwgSWNvbiA9ICJ0b3JuYWRvIiwgT3BlbmVkID0gZmFsc2V9KQoKQ2hlZXNlU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5aW26YWq6YCD55Sf6ISa5pysIiwKICAgIERlc2MgPSAi5Yi25L2cTXRhc2toIiwKICAgIEljb24gPSAiZ2Vpc3Q6Ym94IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL2dpdGh1Yi5jb20vbXRhc2toaC9zY3JpcHQvcmF3L3JlZnMvaGVhZHMvbWFpbi9ubHRzJTIwKDEpLmx1YSIpKSgpCiAgICBlbmQKfSkKCmxvY2FsIEthbnNodVNlY3Rpb24gPSBzZXJ2ZTE6U2VjdGlvbih7VGl0bGUgPSAi56CN5LyQ5qCR5pyoIiwgSWNvbiA9ICJ0b3JuYWRvIiwgT3BlbmVkID0gZmFsc2V9KQoKS2Fuc2h1U2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi56CN5LyQ5qCR5pyo6ISa5pysIiwKICAgIERlc2MgPSAi5Yi25L2cTXRhc2toIiwgCiAgICBJY29uID0gInNoaWZ0IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbXRhc2toaC9zY3JpcHQvcmVmcy9oZWFkcy9tdC9rZnNtIikpKCkKICAgIGVuZAp9KQoKbG9jYWwgc2hhbW9TZWN0aW9uID0gc2VydmUxOlNlY3Rpb24oe1RpdGxlID0gIuaymea8oOaOoua1i+WZqCIsIEljb24gPSAidG9ybmFkbyIsIE9wZW5lZCA9IGZhbHNlfSkKCnNoYW1vU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5rKZ5ryg5o6i5rWL5ZmoIiwKICAgIERlc2MgPSAi5Yi25L2cTXRhc2toIiwKICAgIEljb24gPSAiZ2Vpc3Q6cnNzIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbXRhc2toaC9zY3JpcHQvcmVmcy9oZWFkcy9tYWluL3NtdGMubHVhIikpKCkKICAgIGVuZAp9KQoKbG9jYWwgemhpc2hhbmdTZWN0aW9uID0gc2VydmUxOlNlY3Rpb24oe1RpdGxlID0gIuaZuuWVhua1i+ivlSIsIEljb24gPSAidG9ybmFkbyIsIE9wZW5lZCA9IGZhbHNlfSkKCnpoaXNoYW5nU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5pm65ZWG5rWL6K+V6I635Y+W5pyA5aSnSVEiLAogICAgRGVzYyA9ICLojrflj5blkI7miYvliqjot7PovazliLAyMDDlsYLljbPlj68iLAogICAgSWNvbiA9ICJnZWlzdDpyb2JvdCIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBmb3IgaSA9IDEsIDIwMCBkbwogICAgbG9jYWwgYXJncyA9IHsKICAgICAgICBbMV0gPSBpCiAgICB9CiAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3RlRXZlbnRzLkNoYW5nZUlROkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQplbmQKICAgIGVuZAp9KQoKbG9jYWwgRkVTZWN0aW9uID0gRkVUYWI6U2VjdGlvbih7VGl0bGUgPSAiRkXohJrmnKzpm4YiLCBPcGVuZWQgPSB0cnVlfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAiRkUgQzAwbGd1aSIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6R2V0T2JqZWN0cygicmJ4YXNzZXRpZDovLzgxMjcyOTc4NTIiKVsxXS5Tb3VyY2UpKCkKICAgIGVuZAp9KQoKRkVTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICJGRSAxeDF4MXgxIiwgCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgoJ2h0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9KaXBZTkNodCcpLHRydWUpKSgpCiAgICBlbmQKfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAiRkXlpKfplb/ohb8iLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vMUJsdWVDYXQvNzI5MTc0N2U5ZjA5MzU1NTU3M2UwMjc2MjFmMDhkNmUvcmF3LzIzYjQ4ZjI0NjM5NDJiZWZlMTlkODFhYThhMDZlMzIyMjk5NjI0MmMvRkUlMjUyMERhJTI1MjBGZWV0cycpKSgpCiAgICBlbmQKfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAiRkXnlKjlpLQiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9CSzRRMERmVSIpKSgpCiAgICBlbmQKfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5aSN5LuH6ICFIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCgnaHR0cHM6Ly9wYXN0ZWZ5LmdhL2lHeVZhVHZzL3JhdycpLHRydWUpKSgpCiAgICBlbmQKfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi6byg5qCHIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCgnaHR0cHM6Ly9wYXN0ZWZ5LmdhL1Y3NW1xemF6L3JhdycpLHRydWUpKSgpCiAgICBlbmQKfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5Y+Y5oCq54mpIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0QXN5bmMoImh0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9qZnJ5QktkcyIpKSgpCiAgICBlbmQKfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi6aaZ6JWJ5p6qIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTXJOZVJEMC9Eb29ycy1IYWNrL21haW4vQmFuYW5hR3VuQnlOZXJkLmx1YSIpKSgpCiAgICBlbmQKfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi6LaF6ZW/5py65be0IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvRVNXU0ZORDciLCB0cnVlKSkoKQogICAgZW5kCn0pCgpGRVNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIuaTjeS6uiIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1hpYW9ZdW5DTi9VV1UvbWFpbi9BSEFKQUpBS0FLL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BL0EvQS9BLkxVQSIsIHRydWUpKSgpCiAgICBlbmQKfSkKCkZFU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAiRkXliqjnlLvkuK3lv4MiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbigpCiAgICAgICAgbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9HYW1pbmdTY3JpcHRlci9BbmltYXRpb24tSHViL21haW4vQW5pbWF0aW9uJTIwR3VpIiwgdHJ1ZSkpKCkKICAgIGVuZAp9KQoKRkVTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICJGReWPmOeOqeWutiIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L1hSNHNHY2dKIikpKCkKICAgIGVuZAp9KQoKRkVTZWN0aW9uOkJ1dHRvbih7CiAgICBUaXRsZSA9ICJGReeMq+WomFI2MyIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKCkKICAgICAgICBsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1Rlc2NhbHVzL1BlbmR1bHVtLUh1YnMtU291cmNlL21haW4vUGVuZHVsdW0lMjBIdWIlMjBWNS5sdWEiKSkoKQogICAgZW5kCn0pCgpGRVNlY3Rpb246QnV0dG9uKHsKICAgIFRpdGxlID0gIkZF6ISa5pysIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Bhc3RlZnkuZ2EvYTdSVGk0dW4vcmF3JykpKCkKICAgIGVuZAp9KQoKbG9jYWwgTXVzaWNTZWN0aW9uID0gTXVzaWNUYWI6U2VjdGlvbih7VGl0bGUgPSAi6Z+z5LmQ5o6n5Yi2IiwgSWNvbj0ibHVjaWRlOmFjdGl2aXR5IixPcGVuZWQgPSBmYWxzZX0pCgpsb2NhbCBjdXJyZW50U291bmQgPSBuaWwKbG9jYWwgaXNQbGF5aW5nID0gZmFsc2UKCmxvY2FsIG11c2ljTGlicmFyeSA9IHsKICAgIFsiQW1idXNo6Z+z5pWIIl0gPSAxMDcyMjgzNTE2OCwKICAgIFsiUnVzaOmfs+aViCJdID0gMTA4MDMyMTM5MDksCiAgICBbIlNlZWvpn7PmlYgiXSA9IDEwNjQyNzUyNDA5LAogICAgWyLnu7/ohLjpn7PmlYgiXSA9IDkxMTMxMTU4NDIsCiAgICBbIlRoZUh1bnTlgJLorqHml7bnu5PmnZ8iXSA9IDE2Njk1MDIxMTMzLAogICAgWyJUaGVIdW505YCS6K6h5pe25byA5aeLIl0gPSAxNjY5NTM4NDAwOSwKICAgIFsi57uT5p2f6L+95p2A6Z+z5pWIIl0gPSAxNjY5NTQyNTQ3NCwKICAgIFsi6I635Y+W6YeR5biB6Z+z5pWIIl0gPSA4NjQ2NDEwNzc0LAogICAgCiAgICBbIkJhZCB0byB0aGUgQm9uZSJdID0gNjk2NTE2OTc0MCwKICAgIFsi6ZKi566h6JC95ZywKOWkp+WjsCkiXSA9IDY3Mjk5MjIwNjksCiAgICBbIkdyYW5kIERhZOmfs+aViCJdID0gODQ4Nzg1OTczLAogICAgWyJUYWNvIEJlbGzpn7PmlYgiXSA9IDU1MjMxMjI0MDIsCiAgICBbIkNsb2FrZXLpn7PmlYgiXSA9IDIzMTc3NzkzMSwKICAgIFsiWW91IEFyZSBBbiBJZGlvdCJdID0gMjY2NTk0Mzg4OSwKICAgIAogICAgWyJU6Zi16JCl6IOc5Yip6Z+z5LmQIl0gPSAxNDIwMzgzMzc1LAogICAgWyJDNOWAkuiuoeaXtiJdID0gNDg3MzI3MTUzMywKICAgIFsiQzTniIbngrgiXSA9IDQ4NTQ2NjAxOTAsCiAgICBbIumXquWFieW8ueeIhueCuCJdID0gOTExNDc5OTE4MiwKICAgIFsiQzTooqvmi4bpmaQiXSA9IDkxMTczNDE2NTIsCiAgICBbIuWuieaUvkM0Il0gPSA0OTE1MDQyNzgxLAogICAgWyLmiYvpm7fmiZTlh7oiXSA9IDUxMjQ4NzI3NjMsCiAgICAKICAgIFsiT3VjaCEiXSA9IDEyMjIyMDU4LAogICAgWyLpgJrnlKhNZW1l6Z+z5pWIIl0gPSA1MjU3MTk2NzQ5LAogICAgWyJOb3BlIE1lbWUiXSA9IDYzNDYwNzQ5MjYsCiAgICBbIueyl+WPoyJdID0gNzMzNDIzOTc1NywKICAgIFsi56qc56iA6Z+z5pWIIl0gPSA0ODA5NTc0Mjk1LAogICAgWyLoi7nmnpzmiYvmnLrpl7npkp8iXSA9IDQyMDMyNTEzNzUsCiAgICBbIldpbmRvd3PplJnor6/mj5DnpLrpn7MiXSA9IDI2NjE3MzEwMjQsCiAgICBbIk9NR34iXSA9IDMzNjc3MTM3OSwKICAgIAogICAgWyLpkqLnrqHokL3lnLAiXSA9IDYwMTEwOTQzODAsCiAgICBbIuaguOW8ueeIhueCuCJdID0gNDIxMjU2MjgwLAogICAgWyLmoLjlvLnniIbngrjlgJLorqHml7YiXSA9IDY0NTY5ODEzMTEsCiAgICBbIuitpuaKpeWjsCJdID0gNjc1NTg3MDkzLAogICAgWyLorabmiqXlo7Ao5Y+m5LiA56eNKSJdID0gNDk4ODgyNjI3OSwKICAgIFsiTWluZWNyYWZ06Zeo5YWz6ZetIl0gPSAxODAwOTA0NTUsCiAgICBbIk1pbmVjcmFmdOWPl+S8pOmfs+aViCJdID0gNjM2MTk2MzQyMiwKICAgIFsiTWluZWNyYWZ05ZCD5Lic6KW/Il0gPSA2NzQ4MjU1MTE4LAogICAgCiAgICBbIkxvLWZpIENoaWxs6Z+z5LmQIl0gPSA5MDQzODg3MDkxLAogICAgWyJDbGFpciBEZSBMdW5lICjmnIjlhYkpIl0gPSAxODM4NDU3NjE3LAogICAgWyLmipXlvLnlhbXov5vooYzmm7IiXSA9IDE4NDAxNzI4NDUsCiAgICBbIuOAiui1t+mjjuS6huOAiyJdID0gNzU0ODUxMDY3OCwKICAgIFsi44CK5rW36ZiU5aSp56m644CLIl0gPSAzODc1MDQ5MDUyLAogICAgWyLjgIrlhYnovonlsoHmnIjjgIsiXSA9IDYxMTY4ODg3NDMsCiAgICBbIuWuiemdmeeahOS9j+WuheWMuumfs+S5kCJdID0gMTg0NTU1NDAxNywKICAgIFsiRnJvbSBMYSBXaXRoIExvdmUiXSA9IDkwNDY4NjQ5MDAsCiAgICAKICAgIFsiTm8gTGlnaHQiXSA9IDE0MTQ1NjIzMjIxLAogICAgWyJCZWxsIFBlcHBlciJdID0gMTQxNDU2MjYxMTEsCiAgICBbIlRoZSBGaW5hbCBQaG9uayJdID0gMTQxNDU2MjAwNTYsCiAgICBbIkJhbGxlciAo5Y6f54mIKSJdID0gMTM1MzA0MzgyOTkKfQoKbG9jYWwgZnVuY3Rpb24gc3RvcE11c2ljKCkKICAgIGlmIGN1cnJlbnRTb3VuZCB0aGVuCiAgICAgICAgY3VycmVudFNvdW5kOlN0b3AoKQogICAgICAgIGN1cnJlbnRTb3VuZDpEZXN0cm95KCkKICAgICAgICBjdXJyZW50U291bmQgPSBuaWwKICAgIGVuZAogICAgaXNQbGF5aW5nID0gZmFsc2UKZW5kCgpsb2NhbCBmdW5jdGlvbiBwbGF5TXVzaWMoc291bmRJZCwgbXVzaWNOYW1lKQogICAgc3RvcE11c2ljKCkKICAgIAogICAgY3VycmVudFNvdW5kID0gSW5zdGFuY2UubmV3KCJTb3VuZCIpCiAgICBjdXJyZW50U291bmQuU291bmRJZCA9ICJyYnhhc3NldGlkOi8vIiAuLiBzb3VuZElkCiAgICBjdXJyZW50U291bmQuUGFyZW50ID0gZ2FtZTpHZXRTZXJ2aWNlKCJTb3VuZFNlcnZpY2UiKQogICAgY3VycmVudFNvdW5kLlZvbHVtZSA9IDAuNQogICAgY3VycmVudFNvdW5kLkxvb3BlZCA9IGZhbHNlCiAgICAKICAgIGN1cnJlbnRTb3VuZC5FbmRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBpc1BsYXlpbmcgPSBmYWxzZQogICAgICAgIFdpbmRVSTpOb3RpZnkoewogICAgICAgICAgICBUaXRsZSA9ICLpn7PkuZDmkq3mlL7nu5PmnZ8iLAogICAgICAgICAgICBDb250ZW50ID0gbXVzaWNOYW1lIC4uICIg5bey5pKt5pS+5a6M5q+VIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICBJY29uID0gIm11c2ljIgogICAgICAgIH0pCiAgICBlbmQpCiAgICAKICAgIGN1cnJlbnRTb3VuZDpQbGF5KCkKICAgIGlzUGxheWluZyA9IHRydWUKICAgIAogICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgVGl0bGUgPSAi5q2j5Zyo5pKt5pS+IiwKICAgICAgICBDb250ZW50ID0gbXVzaWNOYW1lLAogICAgICAgIER1cmF0aW9uID0gMywKICAgICAgICBJY29uID0gInBsYXkiCiAgICB9KQplbmQKCk11c2ljU2VjdGlvbjpCdXR0b24oewogICAgVGl0bGUgPSAi5YGc5q2i5pKt5pS+IiwKICAgIERlc2MgPSAi5YGc5q2i5b2T5YmN5pKt5pS+55qE6Z+z5LmQIiwKICAgIEljb24gPSAic3F1YXJlIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIHN0b3BNdXNpYygpCiAgICAgICAgV2luZFVJOk5vdGlmeSh7CiAgICAgICAgICAgIFRpdGxlID0gIumfs+S5kOW3suWBnOatoiIsCiAgICAgICAgICAgIENvbnRlbnQgPSAi5omA5pyJ6Z+z5LmQ5pKt5pS+5bey5YGc5q2iIiwKICAgICAgICAgICAgRHVyYXRpb24gPSAzLAogICAgICAgICAgICBJY29uID0gInNxdWFyZSIKICAgICAgICB9KQogICAgZW5kCn0pCgpsb2NhbCBWb2x1bWVTbGlkZXIgPSBNdXNpY1NlY3Rpb246U2xpZGVyKHsKICAgIFRpdGxlID0gIumfs+mHj+aOp+WItiIsCiAgICBEZXNjID0gIuiwg+aVtOmfs+S5kOmfs+mHj+Wkp+WwjyIsCiAgICBTdGVwID0gMC4xLAogICAgVmFsdWUgPSB7CiAgICAgICAgTWluID0gMCwKICAgICAgICBNYXggPSAxLAogICAgICAgIERlZmF1bHQgPSAwLjUKICAgIH0sCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKFZhbHVlKQogICAgICAgIGlmIGN1cnJlbnRTb3VuZCB0aGVuCiAgICAgICAgICAgIGN1cnJlbnRTb3VuZC5Wb2x1bWUgPSBWYWx1ZQogICAgICAgIGVuZAogICAgZW5kCn0pCgpNdXNpY1NlY3Rpb246SW5wdXQoewogICAgVGl0bGUgPSAi6Ieq5a6a5LmJ6Z+z5LmQSUQiLAogICAgRGVzYyA9ICLovpPlhaVSb2Jsb3jpn7PmlYhJRCIsCiAgICBQbGFjZWhvbGRlciA9ICLkvovlpoI6IDEwNzIyODM1MTY4IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oVmFsdWUpCiAgICAgICAgaWYgVmFsdWUgYW5kIFZhbHVlIH49ICIiIHRoZW4KICAgICAgICAgICAgbG9jYWwgc291bmRJZCA9IHRvbnVtYmVyKFZhbHVlKQogICAgICAgICAgICBpZiBzb3VuZElkIHRoZW4KICAgICAgICAgICAgICAgIHBsYXlNdXNpYyhzb3VuZElkLCAi6Ieq5a6a5LmJ6Z+z5LmQIikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICBwcmludCAoIuivt+i+k+WFpeacieaViOeahOaVsOWtl2lkIikKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKfSkKCmxvY2FsIGZ1bmN0aW9uIGNyZWF0ZU11c2ljQnV0dG9ucyhjYXRlZ29yeU5hbWUsIG11c2ljTGlzdCkKICAgIGxvY2FsIGNhdGVnb3J5U2VjdGlvbiA9IE11c2ljVGFiOlNlY3Rpb24oewogICAgICAgIFRpdGxlID0gY2F0ZWdvcnlOYW1lLAogICAgICAgIEljb249Imx1Y2lkZTpjYXNzZXR0ZS10YXBlIiwKICAgICAgICBPcGVuZWQgPSBmYWxzZQogICAgfSkKICAgIAogICAgZm9yIG11c2ljTmFtZSwgc291bmRJZCBpbiBwYWlycyhtdXNpY0xpc3QpIGRvCiAgICAgICAgY2F0ZWdvcnlTZWN0aW9uOkJ1dHRvbih7CiAgICAgICAgICAgIFRpdGxlID0gbXVzaWNOYW1lLAogICAgICAgICAgICBEZXNjID0gIklEOiAiIC4uIHNvdW5kSWQsCiAgICAgICAgICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgcGxheU11c2ljKHNvdW5kSWQsIG11c2ljTmFtZSkKICAgICAgICAgICAgZW5kCiAgICAgICAgfSkKICAgIGVuZAplbmQKCmxvY2FsIGNhdGVnb3JpemVkTXVzaWMgPSB7CiAgICBbIkRvb3Jz6Z+z5pWIIl0gPSB7CiAgICAgICAgWyJBbWJ1c2jpn7PmlYgiXSA9IDEwNzIyODM1MTY4LAogICAgICAgIFsiUnVzaOmfs+aViCJdID0gMTA4MDMyMTM5MDksCiAgICAgICAgWyJTZWVr6Z+z5pWIIl0gPSAxMDY0Mjc1MjQwOSwKICAgICAgICBbIue7v+iEuOmfs+aViCJdID0gOTExMzExNTg0MiwKICAgICAgICBbIlRoZUh1bnTlgJLorqHml7bnu5PmnZ8iXSA9IDE2Njk1MDIxMTMzLAogICAgICAgIFsiVGhlSHVudOWAkuiuoeaXtuW8gOWniyJdID0gMTY2OTUzODQwMDksCiAgICAgICAgWyLnu5PmnZ/ov73mnYDpn7PmlYgiXSA9IDE2Njk1NDI1NDc0LAogICAgICAgIFsi6I635Y+W6YeR5biB6Z+z5pWIIl0gPSA4NjQ2NDEwNzc0CiAgICB9LAogICAgCiAgICBbIua4uOaIj+mfs+aViCJdID0gewogICAgICAgIFsiQmFkIHRvIHRoZSBCb25lIl0gPSA2OTY1MTY5NzQwLAogICAgICAgIFsi6ZKi566h6JC95ZywKOWkp+WjsCkiXSA9IDY3Mjk5MjIwNjksCiAgICAgICAgWyJU6Zi16JCl6IOc5Yip6Z+z5LmQIl0gPSAxNDIwMzgzMzc1LAogICAgICAgIFsiQzTlgJLorqHml7YiXSA9IDQ4NzMyNzE1MzMsCiAgICAgICAgWyJDNOeIhueCuCJdID0gNDg1NDY2MDE5MCwKICAgICAgICBbIumXquWFieW8ueeIhueCuCJdID0gOTExNDc5OTE4MgogICAgfSwKICAgIAogICAgWyJNRU1F6Z+z5pWIIl0gPSB7CiAgICAgICAgWyJPdWNoISJdID0gMTIyMjIwNTgsCiAgICAgICAgWyLpgJrnlKhNZW1l6Z+z5pWIIl0gPSA1MjU3MTk2NzQ5LAogICAgICAgIFsiTm9wZSBNZW1lIl0gPSA2MzQ2MDc0OTI2LAogICAgICAgIFsi6Iu55p6c5omL5py66Ze56ZKfIl0gPSA0MjAzMjUxMzc1LAogICAgICAgIFsiV2luZG93c+mUmeivr+aPkOekuumfsyJdID0gMjY2MTczMTAyNCwKICAgICAgICBbIk9NR34iXSA9IDMzNjc3MTM3OQogICAgfSwKICAgIAogICAgWyLnjq/looPpn7PmlYgiXSA9IHsKICAgICAgICBbIumSoueuoeiQveWcsCJdID0gNjAxMTA5NDM4MCwKICAgICAgICBbIuaguOW8ueeIhueCuCJdID0gNDIxMjU2MjgwLAogICAgICAgIFsi6K2m5oql5aOwIl0gPSA2NzU1ODcwOTMsCiAgICAgICAgWyJNaW5lY3JhZnTpl6jlhbPpl60iXSA9IDE4MDA5MDQ1NSwKICAgICAgICBbIk1pbmVjcmFmdOWPl+S8pOmfs+aViCJdID0gNjM2MTk2MzQyMgogICAgfSwKICAgIAogICAgWyLpn7PkuZDmm7Lnm64iXSA9IHsKICAgICAgICBbIkxvLWZpIENoaWxs6Z+z5LmQIl0gPSA5MDQzODg3MDkxLAogICAgICAgIFsiQ2xhaXIgRGUgTHVuZSAo5pyI5YWJKSJdID0gMTgzODQ1NzYxNywKICAgICAgICBbIuaKleW8ueWFtei/m+ihjOabsiJdID0gMTg0MDE3Mjg0NSwKICAgICAgICBbIuOAiui1t+mjjuS6huOAiyJdID0gNzU0ODUxMDY3OCwKICAgICAgICBbIuOAiua1t+mYlOWkqeepuuOAiyJdID0gMzg3NTA0OTA1MiwKICAgICAgICBbIuOAiuWFiei+ieWygeaciOOAiyJdID0gNjExNjg4ODc0MwogICAgfSwKICAgIAogICAgWyJQaG9ua+mfs+S5kCJdID0gewogICAgICAgIFsiTm8gTGlnaHQiXSA9IDE0MTQ1NjIzMjIxLAogICAgICAgIFsiQmVsbCBQZXBwZXIiXSA9IDE0MTQ1NjI2MTExLAogICAgICAgIFsiVGhlIEZpbmFsIFBob25rIl0gPSAxNDE0NTYyMDA1NiwKICAgICAgICBbIkJhbGxlciAo5Y6f54mIKSJdID0gMTM1MzA0MzgyOTkKICAgIH0KfQoKZm9yIGNhdGVnb3J5TmFtZSwgbXVzaWNMaXN0IGluIHBhaXJzKGNhdGVnb3JpemVkTXVzaWMpIGRvCiAgICBjcmVhdGVNdXNpY0J1dHRvbnMoY2F0ZWdvcnlOYW1lLCBtdXNpY0xpc3QpCmVuZAoKV2luZG93OlNlbGVjdFRhYigyKQoKcHJpbnQoIuS4jeatouiEmuacrOWKoOi9veWujOaIkCjil43igKLhtJfigKLil40pIikKCldpbmRVSTpOb3RpZnkoewogICAgVGl0bGUgPSAi5LiN5q2i6ISa5pys5Yqg6L295a6M5oiQIiwKICAgIENvbnRlbnQgPSAi5qyi6L+OICIgLi4gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkRpc3BsYXlOYW1lIC4uICIg5L2/55So5LiN5q2i6ISa5pysIiwKICAgIER1cmF0aW9uID0gMywKICAgIEljb24gPSAiY3Jvd24iCn0pCgp3YWl0ICgwLjUpCgpXaW5kVUk6Tm90aWZ5KHsKICAgIFRpdGxlID0gIuagh+mimOaXgeWPr+WIh+aNouS4u+mimCIsCiAgICBDb250ZW50ID0gIuayoeeUqOeahOWKn+iDvShidXNoaSIsCiAgICBEdXJhdGlvbiA9IDMsCiAgICBJY29uID0gInN1biIKfSk===Base64]]
loadstring(crypt.base64_decode(b64))()
